"use strict";
(self.__LOADABLE_LOADED_CHUNKS__ = self.__LOADABLE_LOADED_CHUNKS__ || []).push([
  [9052],
  {
    78265: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 26,
              height: 26,
              viewBox: "0 0 26 26",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              d: "M16.317 18.731a1.393 1.393 0 01-1.97 0L9.29 13.675a1.393 1.393 0 010-1.97l.011-.011 5.045-5.045a1.393 1.393 0 011.97 1.97l-4.072 4.071 4.072 4.071a1.393 1.393 0 010 1.97z",
              fill: "#fff",
              opacity: 0.7,
            }))
        );
      };
    },
    50396: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 26,
              height: 26,
              viewBox: "0 0 26 26",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              d: "M9.684 18.731a1.393 1.393 0 001.97 0l5.055-5.056a1.393 1.393 0 000-1.97l-.011-.011-5.045-5.045a1.393 1.393 0 10-1.97 1.97l4.072 4.071-4.071 4.071a1.393 1.393 0 000 1.97z",
              fill: "#fff",
              opacity: 0.7,
            }))
        );
      };
    },
    45104: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 13,
              height: 12,
              viewBox: "0 0 13 12",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M2.741 3.72a.798.798 0 011.1 0l2.931 2.828L9.704 3.72a.798.798 0 011.1 0 .731.731 0 010 1.06L7.321 8.14a.798.798 0 01-1.1 0l-3.48-3.36a.732.732 0 010-1.06z",
              fill: "#4F5168",
            }))
        );
      };
    },
    29165: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 13,
              height: 12,
              viewBox: "0 0 13 12",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M2.741 8.28a.798.798 0 001.1 0l2.931-2.828L9.704 8.28a.797.797 0 001.099 0 .731.731 0 000-1.06L7.322 3.86a.798.798 0 00-1.1 0l-3.48 3.36a.732.732 0 000 1.06z",
              fill: "#4F5168",
            }))
        );
      };
    },
    85011: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 36,
              height: 36,
              viewBox: "0 0 36 36",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              d: "M22.133 23.776a1.342 1.342 0 101.898-1.898l-4.112-4.113 4.112-4.112a1.342 1.342 0 00-1.898-1.898l-4.112 4.112-4.113-4.112a1.342 1.342 0 10-1.898 1.898l4.113 4.112-4.113 4.113a1.342 1.342 0 001.898 1.898l4.113-4.113 4.112 4.113z",
              fill: "#0A0C20",
            }))
        );
      };
    },
    12098: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 105,
              height: 120,
              viewBox: "0 0 105 120",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement(
              "g",
              { opacity: 0.04 },
              o.createElement("path", {
                d: "M89.013 24.055C82.55 19.84 77.883 13.098 76.427 5.238A28.704 28.704 0 0175.939 0H55.31l-.035 82.675c-.345 9.257-7.967 16.689-17.307 16.689-2.902 0-5.636-.726-8.044-1.992-5.517-2.907-9.299-8.692-9.299-15.35 0-9.56 7.783-17.343 17.343-17.343 1.783 0 3.495.297 5.119.803V44.423a38.211 38.211 0 00-5.12-.368C17.034 44.055 0 61.088 0 82.027c0 12.848 6.42 24.216 16.213 31.088A37.749 37.749 0 0037.973 120c20.939 0 37.972-17.033 37.972-37.973V40.101a49.054 49.054 0 0028.704 9.227v-20.63a28.56 28.56 0 01-15.636-4.643z",
                fill: "#2F3035",
                fillOpacity: 0.9,
              }),
              o.createElement("path", {
                d: "M88.74 24.474h0a29.057 29.057 0 0015.409 4.72V48.826a48.547 48.547 0 01-27.912-9.131l-.792-.568v42.9c0 20.664-16.81 37.473-37.472 37.473a37.252 37.252 0 01-21.473-6.794l-.285.406.285-.406C6.835 105.922.5 94.704.5 82.027c0-20.663 16.81-37.472 37.467-37.472 1.565 0 3.1.117 4.619.307V64.814a17.46 17.46 0 00-4.62-.635c-9.835 0-17.842 8.006-17.842 17.842 0 6.853 3.892 12.804 9.566 15.793h0a17.732 17.732 0 008.277 2.05c9.61 0 17.451-7.646 17.806-17.17V82.676L55.81.5h19.635c.029 1.647.2 3.259.491 4.829 1.483 7.998 6.231 14.857 12.805 19.145z",
                stroke: "#E7E7EC",
                strokeOpacity: 0.3,
              })
            ))
        );
      };
    },
    84966: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r,
        o = n(44503);
      function a() {
        return (
          (a = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          a.apply(this, arguments)
        );
      }
      const i = function (e) {
        return o.createElement(
          "svg",
          a(
            {
              width: 12,
              height: 14,
              viewBox: "0 0 12 14",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M8.81 3.615c0 1.485-1.24 2.692-2.777 2.71h-.066C4.43 6.306 3.189 5.1 3.189 3.614v-.904C3.19 1.214 4.45 0 6 0c1.552 0 2.81 1.214 2.81 2.711v.904zM1.163 8.594c1.167-.557 3.512-.864 4.837-.864 1.327 0 3.676.307 4.846.868.679.38 1.155 1.23 1.155 2.225v.572c0 .738-.39 1.357-.928 1.556-1.284.366-3.698.563-5.071.563-1.375 0-3.79-.201-5.078-.565C.391 12.748 0 12.13 0 11.393v-.572c0-.997.478-1.85 1.162-2.227z",
              fill: "#fff",
              fillOpacity: 0.9,
            }))
        );
      };
    },
    3768: (e, t, n) => {
      n.d(t, {
        nx: () => J,
        _G: () => z,
        NL: () => Q,
        Jz: () => X,
        Ze: () => q,
        J1: () => $,
      });
      var r = n(65146),
        o = n(94610),
        a = n.n(o),
        i = n(44503),
        l = n(64408),
        c = n(56402),
        s = n.n(c),
        u = n(5594),
        d = n.n(u),
        m = n(21805),
        v = n.n(m);
      const f = "mUQC4JAd",
        _ = "LU6dHmmD",
        E = "ByQvRt0F",
        p = "JqBinbea",
        h = "xAlKdNRc";
      var g = n(46778),
        N = n(99719);
      const T = "IK03Li9C",
        I = "OAJeuZUg",
        y = "X3mYTmNP",
        S = "ffaZ_pvB",
        C = "I1YlCmYh";
      var b,
        A = n(81099);
      function O(e) {
        var t,
          n = e.user,
          r = e.activity;
        return i.createElement(
          "span",
          { className: T },
          null ===
            (t = r
              ? null == n
                ? void 0
                : n.badgeImageListV2
              : null == n
              ? void 0
              : n.badgeImageList) || void 0 === t
            ? void 0
            : a()(t).call(t, function (e, t) {
                var n,
                  r = e.imageType === b.FANS_CLUB && e.content,
                  o =
                    null !== (n = null == e ? void 0 : e.urlList) &&
                    void 0 !== n
                      ? n
                      : null == e
                      ? void 0
                      : e.urlListList;
                return i.createElement(
                  "span",
                  { className: I, key: t },
                  i.createElement("img", {
                    alt: "",
                    src: globalThis
                      .getFilterXss()
                      .filterUrl((0, A.uC)(o && o[0]), null, {
                        logType: "js.href/src",
                        reportOnly: !1,
                      }),
                    height: 18,
                  }),
                  r &&
                    i.createElement(
                      "div",
                      { className: y },
                      i.createElement("span", { className: S }),
                      i.createElement("span", { className: C }, e.content.name)
                    )
                );
              })
        );
      }
      !(function (e) {
        (e[(e.ADMIN = 3)] = "ADMIN"),
          (e[(e.HONOR = 1)] = "HONOR"),
          (e[(e.FANS_CLUB = 7)] = "FANS_CLUB");
      })(b || (b = {}));
      var L = n(85131),
        R = n(24142),
        k = n(79705),
        w = n.n(k);
      const P = (0, R.Pi)(function (e) {
        var t = e.user,
          n = e.children,
          o = e.message,
          a = e.loginSecUid,
          c = e.loginUid,
          u = e.roomId,
          m = e.hasReport,
          T = void 0 !== m && m,
          I = e.separator,
          y = void 0 === I ? "\uff1a" : I,
          S = e.activity,
          C = void 0 !== S && S,
          b = t || {},
          A = b.id,
          R = b.secUid,
          k = b.idStr,
          P = (0, L.Z)(),
          M = P.userStore.userInfo,
          Z = P.roomStore.roomInfo,
          U = i.useMemo(
            function () {
              var e = k;
              return k || (e = A), e;
            },
            [k, A]
          ),
          D = i.useMemo(
            function () {
              return s()(Z, "room.room_auth.UserCard");
            },
            [Z]
          ),
          x = i.useMemo(
            function () {
              var e,
                t = s()(M, "id_str", ""),
                n = v()((e = s()(Z, "room.admin_user_ids", []))).call(e, t),
                r = t === s()(Z, "anchor.id_str");
              return !(D || n || r || U === t);
            },
            [M, D, Z, U]
          ),
          F = i.useMemo(
            function () {
              return x
                ? (0, N.t)(s()(t, "nickname", ""))
                : s()(t, "nickname", "");
            },
            [t, x]
          ),
          K = (0, i.useCallback)(
            (function () {
              var e = (0, l.Z)(
                d().mark(function e(t) {
                  return d().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          t.stopPropagation(),
                            g.Z.open(
                              {
                                isMessageUser: !1,
                                uid: U,
                                secUid: R,
                                roomId: u,
                                loginSecUid: a,
                                loginUid: c,
                                message: o,
                                hasReport: T,
                                isEnableUserCard: D,
                                hide: x,
                              },
                              { top: t.clientY, left: t.clientX }
                            );
                        case 2:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            [U, R, u, a, c, o, T, x]
          ),
          G = (0, i.useMemo)(
            function () {
              var e, t, n, r, a, i, l;
              return null != o &&
                o.show_identity &&
                1 === (null == o ? void 0 : o.show_identity) &&
                null != o &&
                null !== (e = o.identity_label) &&
                void 0 !== e &&
                e.url_list
                ? null != o &&
                  null !== (t = o.identity_label) &&
                  void 0 !== t &&
                  t.url_list[0]
                  ? null == o || null === (n = o.identity_label) || void 0 === n
                    ? void 0
                    : n.url_list[0]
                  : null != o &&
                    null !== (r = o.identity_label) &&
                    void 0 !== r &&
                    r.url_list[1]
                  ? null == o || null === (a = o.identity_label) || void 0 === a
                    ? void 0
                    : a.url_list[1]
                  : null != o &&
                    null !== (i = o.identity_label) &&
                    void 0 !== i &&
                    i.url_list[2]
                  ? null == o || null === (l = o.identity_label) || void 0 === l
                    ? void 0
                    : l.url_list[2]
                  : ""
                : "";
            },
            [o]
          );
        return i.createElement(
          "div",
          { className: w()(f, (0, r.Z)({}, h, C)) },
          i.createElement(
            "span",
            { style: { cursor: "pointer" }, onClick: K },
            i.createElement(O, { user: t, activity: C })
          ),
          i.createElement(
            "span",
            { className: _, onClick: K },
            F,
            G &&
              i.createElement(
                "span",
                { className: E },
                i.createElement("img", {
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(G, null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                })
              ),
            y
          ),
          i.createElement("span", { className: p }, n)
        );
      });
      var M = n(67054),
        Z = n(69425);
      const U = (0, R.Pi)(function (e) {
          var t = e.message,
            n = e.activity,
            r = void 0 !== n && n,
            o = t.payload,
            l = o.user,
            c = o.content,
            s = (0, i.useContext)(M.Z),
            u = s.display,
            d = a()(s),
            m = (0, L.Z)(),
            v = m.userStore.userInfo,
            f = m.roomStore.roomInfo,
            _ = v.sec_uid,
            E = v.id_str,
            p = f.roomId,
            h = void 0 === p ? "" : p;
          return i.createElement(
            P,
            {
              hasReport: !0,
              user: l,
              loginSecUid: _,
              loginUid: E,
              roomId: h,
              message: t,
              activity: r,
            },
            u ? i.createElement(Z.Z, { content: c, reflex: d }) : c
          );
        }),
        D = "JJvNvDHA",
        x = "fTLFnWPf",
        F = "Q7mln_nz",
        K = "YM0CcJbw";
      const G = (0, R.Pi)(function (e) {
        var t = e.message,
          n = t.payload,
          r = n.user,
          o = n.gift,
          a = (0, L.Z)(),
          l = a.userStore.userInfo,
          c = a.roomStore.roomInfo,
          u = l.sec_uid,
          d = l.id_str,
          m = c.roomId,
          v = void 0 === m ? "" : m;
        return i.createElement(
          i.Fragment,
          null,
          o
            ? i.createElement(
                P,
                { user: r, loginSecUid: u, loginUid: d, roomId: v, message: t },
                i.createElement(
                  "span",
                  { className: D },
                  i.createElement(
                    "span",
                    { className: F },
                    "\u9001\u51fa\u4e86",
                    i.createElement("img", {
                      className: x,
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(
                          (0, A.uC)(s()(o, "image.urlListList[0]", "")),
                          null,
                          { logType: "js.href/src", reportOnly: !1 }
                        ),
                      alt: "",
                    }),
                    i.createElement(
                      "span",
                      { className: K },
                      "\xa0\xd7\xa0",
                      Number(t.payload.repeatCount) || 1
                    )
                  )
                )
              )
            : null
        );
      });
      var V = n(2942);
      const Y = (0, R.Pi)(function (e) {
        var t = e.message,
          n = t.payload.user,
          r = (0, L.Z)(),
          o = r.userStore.userInfo,
          a = r.roomStore.roomInfo,
          l = o.sec_uid,
          c = o.id_str,
          s = a.roomId,
          u = void 0 === s ? "" : s;
        return Number(t.payload.action) !== V.WU.ENTER
          ? i.createElement(i.Fragment, null)
          : i.createElement(
              P,
              {
                hasReport: !0,
                user: n,
                loginSecUid: l,
                loginUid: c,
                roomId: u,
                message: t,
                separator: " ",
              },
              "\u6765\u4e86"
            );
      });
      const B = (0, R.Pi)(function (e) {
        var t = e.message,
          n = t.payload.user,
          r = (0, L.Z)(),
          o = r.userStore.userInfo,
          a = r.roomStore.roomInfo,
          l = o.sec_uid,
          c = o.id_str,
          s = a.roomId,
          u = void 0 === s ? "" : s;
        return i.createElement(
          P,
          {
            hasReport: !0,
            user: n,
            loginSecUid: l,
            loginUid: c,
            roomId: u,
            message: t,
            separator: "\uff1a",
          },
          "\u4e3a\u4e3b\u64ad\u70b9\u8d5e\u5566"
        );
      });
      var H;
      !(function (e) {
        (e[(e.FOLLOW_ANCHOR = 1)] = "FOLLOW_ANCHOR"),
          (e[(e.UNFOLLOW_ANCHOR = 2)] = "UNFOLLOW_ANCHOR"),
          (e[(e.SHARE_ROOM = 3)] = "SHARE_ROOM");
      })(H || (H = {}));
      const W = (0, R.Pi)(function (e) {
        var t = e.message,
          n = t.payload,
          r = n.user,
          o = n.action,
          a = (0, L.Z)(),
          l = a.userStore.userInfo,
          c = a.roomStore.roomInfo,
          s = l.sec_uid,
          u = l.id_str,
          d = c.roomId,
          m = void 0 === d ? "" : d;
        return i.createElement(
          P,
          {
            hasReport: !0,
            user: r,
            loginSecUid: s,
            loginUid: u,
            roomId: m,
            message: t,
            separator: "\uff1a",
          },
          (function () {
            switch (Number(o)) {
              case H.FOLLOW_ANCHOR:
                return "\u5173\u6ce8\u4e86\u4e3b\u64ad";
              case H.UNFOLLOW_ANCHOR:
                return "\u53d6\u6d88\u5173\u6ce8\u4e86\u4e3b\u64ad";
              case H.SHARE_ROOM:
                return "\u5206\u4eab\u4e86\u672c\u6b21\u76f4\u64ad";
              default:
                return "";
            }
          })()
        );
      });
      var j,
        q,
        z =
          ((j = {}),
          (0, r.Z)(j, V.lm.WEBCAST_CHAT_MESSAGE, U),
          (0, r.Z)(j, V.lm.WEBCAST_GIFT_MESSAGE, G),
          (0, r.Z)(j, V.lm.WEBCAST_MEMBER_MESSAGE, Y),
          (0, r.Z)(j, V.lm.WEBCAST_LIKE_MESSAGE, B),
          (0, r.Z)(j, V.lm.WEBCAST_SOCIAL_MESSAGE, W),
          j),
        Q = [
          V.lm.ROOM_MESSAGE,
          V.lm.WEBCAST_ROOM_MESSAGE,
          V.lm.WEBCAST_CHAT_MESSAGE,
          V.lm.WEBCAST_GIFT_MESSAGE,
          V.lm.WEBCAST_MEMBER_MESSAGE,
        ],
        X = [
          V.lm.ROOM_MESSAGE,
          V.lm.WEBCAST_ROOM_MESSAGE,
          V.lm.WEBCAST_CHAT_MESSAGE,
          V.lm.WEBCAST_GIFT_MESSAGE,
          V.lm.WEBCAST_MEMBER_MESSAGE,
          V.lm.WEBCAST_NOTICE_MESSAGE,
          V.lm.WEBCAST_CONTROL_MESSAGE,
          V.lm.WEBCAST_ROOM_USER_SEQ_MESSAGE,
          V.lm.WEBCAST_LINK_MESSAGE,
          V.lm.WEBCAST_LIKE_MESSAGE,
          V.lm.WEBCAST_SOCIAL_MESSAGE,
        ],
        J = [V.lm.WEBCAST_MEMBER_MESSAGE],
        $ = { height: "32px" };
      !(function (e) {
        (e[(e.SUCCESS = 0)] = "SUCCESS"),
          (e[(e.MUTE = 50001)] = "MUTE"),
          (e[(e.SENSITIVE_WORD = 50004)] = "SENSITIVE_WORD"),
          (e[(e.WORD_LIMITED = 50008)] = "WORD_LIMITED");
      })(q || (q = {}));
    },
    90792: (e, t, n) => {
      n.d(t, { Z: () => g, F: () => h });
      var r = n(44503);
      const o = "yZnCxi2O",
        a = "SIcGT1WU",
        i = "BWG7t_yE",
        l = "dTS5U_if",
        c = "MFjaTfJ2",
        s = "fC02vxBM";
      var u,
        d = n(85131),
        m = n(24142);
      function v() {
        return (
          (v = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          v.apply(this, arguments)
        );
      }
      const f = function (e) {
        return r.createElement(
          "svg",
          v(
            {
              width: 26,
              height: 26,
              viewBox: "0 0 26 26",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          u ||
            (u = r.createElement("path", {
              d: "M3.373 20.11v-2.502h-1.75v2.502a4.265 4.265 0 004.266 4.266h2.502v-1.75H5.89a2.519 2.519 0 01-2.516-2.516zM20.11 1.624h-2.502v1.75h2.502a2.519 2.519 0 012.516 2.516v2.5h1.75v-2.5a4.265 4.265 0 00-4.266-4.266zM3.373 5.89A2.518 2.518 0 015.89 3.374h2.502v-1.75H5.89A4.265 4.265 0 001.623 5.89v2.5h1.75v-2.5zm19.253 14.22a2.519 2.519 0 01-2.516 2.516h-2.502v1.75h2.502a4.265 4.265 0 004.266-4.266v-2.502h-1.75v2.502zM1.623 12.134h22.753v1.731H1.623v-1.732z",
              fill: "#fff",
            }))
        );
      };
      var _ = n(79705),
        E = n.n(_),
        p = r.createRef(),
        h = function () {
          return p;
        };
      const g = (0, m.Pi)(function (e) {
        var t = e.className,
          n = e.qrcode,
          u = e.avatar;
        return (
          (0, d.Z)(),
          r.createElement(
            "div",
            {
              className: E()(o, t),
              style: { backgroundImage: 'url("'.concat(u, '")') },
              ref: p,
            },
            r.createElement(
              "div",
              { className: a },
              r.createElement(
                "p",
                { className: l },
                "\u8be5\u5185\u5bb9\u4ec5\u9650\u624b\u673a\u89c2\u770b"
              ),
              r.createElement(
                "p",
                { className: c },
                r.createElement(f, { className: s }),
                "\u6253\u5f00\u6296\u97f3\uff0c\u626b\u4e00\u626b"
              ),
              r.createElement("img", {
                className: i,
                src: globalThis
                  .getFilterXss()
                  .filterUrl(n, null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
                alt: "",
              })
            )
          )
        );
      });
    },
    13516: (e, t, n) => {
      n.d(t, { Z: () => d });
      var r = n(30906),
        o = n(44503);
      const a = "QMqJQ9ub",
        i = "kD404A8_",
        l = "dIG7opeF";
      var c = n(79705),
        s = n.n(c),
        u = n(3505);
      const d = function (e) {
        var t = e.width,
          n = e.title,
          c = e.cover,
          d = e.meta,
          m = e.className,
          v = e.onMouseEnter,
          f = e.onMouseLeave,
          _ = e.onClick,
          E = e.linkProperty,
          p = void 0 === E ? {} : E;
        return o.createElement(
          u.G,
          (0, r.Z)(
            (0, r.Z)({ rel: "opener" }, p),
            {},
            {
              style: { width: t },
              onMouseEnter: v,
              onMouseLeave: f,
              onClick: _,
              className: s()(a, m),
            }
          ),
          o.createElement("div", { className: i }, c),
          o.createElement("div", { className: l }, n),
          d
        );
      };
    },
    54634: (e, t, n) => {
      n.d(t, { qZ: () => T, ZP: () => I });
      var r = n(64408),
        o = n(32781),
        a = n(56402),
        i = n.n(a),
        l = n(5594),
        c = n.n(l),
        s = n(10790),
        u = n(42327),
        d = n(79705),
        m = n.n(d),
        v = n(44503),
        f = n(23383),
        _ = n(63786),
        E = n(830),
        p = n(11171),
        h = n(54510),
        g = n(89406);
      const N = "ewTmg6fG";
      var T = function (e) {
        return e === f.E.FOLLOWING || e === f.E.BOTH;
      };
      const I = function (e) {
        var t = e.followStatus,
          n = e.className,
          a = e.isLogin,
          l = e.current_room_id,
          d = e.sec_to_user_id,
          I = e.sec_user_id,
          y = e.to_user_id,
          S = e.channel_id,
          C = e.size,
          b = e.followCb,
          A = e.toast,
          O = void 0 === A || A,
          L = e.onClick,
          R = (e.isIframe, e.isUgcLive),
          k = e.pointParams,
          w = (0, v.useState)(t),
          P = (0, o.Z)(w, 2),
          M = P[0],
          Z = P[1],
          U = null == k ? void 0 : k.click_user_position,
          D = v.useMemo(
            function () {
              var e, t, n, r;
              if (_.sk) return E.VA.AUDIENCE;
              var o =
                null === (e = window.__STORE__) ||
                void 0 === e ||
                null === (t = e.roomStore) ||
                void 0 === t ||
                null === (n = t.roomInfo) ||
                void 0 === n ||
                null === (r = n.anchor) ||
                void 0 === r
                  ? void 0
                  : r.id_str;
              return R || o !== y ? E.VA.AUDIENCE : E.VA.ANCHOR;
            },
            [y]
          );
        (0, v.useEffect)(
          function () {
            Z(t);
          },
          [t]
        );
        var x = (0, v.useCallback)(
            (0, r.Z)(
              c().mark(function e() {
                var t, n, r;
                return c().wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((t = {
                              current_room_id: l || "0",
                              sec_to_user_id: d,
                              sec_user_id: I,
                              to_user_id: y,
                              channel_id: S,
                            }),
                            (e.prev = 1),
                            !(n = T(M)))
                          ) {
                            e.next = 9;
                            break;
                          }
                          return (e.next = 6), (0, p.fv)(t);
                        case 6:
                          (e.t0 = e.sent), (e.next = 12);
                          break;
                        case 9:
                          return (e.next = 11), (0, p.ZN)(t);
                        case 11:
                          e.t0 = e.sent;
                        case 12:
                          0 === (r = e.t0).data.status_code
                            ? (n ? (0, E.a9)(y, D, U) : (0, E.Z1)(y, D, U),
                              O &&
                                s.F.info(
                                  n
                                    ? "\u53d6\u6d88\u5173\u6ce8\u6210\u529f"
                                    : "\u5173\u6ce8\u6210\u529f"
                                ),
                              b && b(r.data.data.follow_status),
                              Z(r.data.data.follow_status))
                            : s.F.info(
                                i()(
                                  r,
                                  "data.data.prompts",
                                  "\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01"
                                )
                              ),
                            (e.next = 19);
                          break;
                        case 16:
                          (e.prev = 16),
                            (e.t1 = e.catch(1)),
                            h.k.error("\u5173\u6ce8\u5f02\u5e38\uff1a", e.t1);
                        case 19:
                        case "end":
                          return e.stop();
                      }
                  },
                  e,
                  null,
                  [[1, 16]]
                );
              })
            ),
            [M, S, l, b, d, I, y]
          ),
          F = (function () {
            var e = (0, r.Z)(
              c().mark(function e() {
                var t, n;
                return c().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        if ((L && L(), a)) {
                          e.next = 4;
                          break;
                        }
                        return (
                          (0, g.x)({
                            headerText:
                              "\u767b\u5f55\u540e\u5373\u53ef\u5173\u6ce8",
                            success: (function () {
                              var e = (0, r.Z)(
                                c().mark(function e() {
                                  return c().wrap(
                                    function (e) {
                                      for (;;)
                                        switch ((e.prev = e.next)) {
                                          case 0:
                                            return (
                                              (e.prev = 0), (e.next = 3), x()
                                            );
                                          case 3:
                                            e.next = 8;
                                            break;
                                          case 5:
                                            (e.prev = 5),
                                              (e.t0 = e.catch(0)),
                                              h.k.error(
                                                "\u5173\u6ce8\u5f02\u5e38\uff1a",
                                                e.t0
                                              );
                                          case 8:
                                            window.location.reload();
                                          case 9:
                                          case "end":
                                            return e.stop();
                                        }
                                    },
                                    e,
                                    null,
                                    [[0, 5]]
                                  );
                                })
                              );
                              return function () {
                                return e.apply(this, arguments);
                              };
                            })(),
                            next: "https://".concat(
                              null === (t = window) ||
                                void 0 === t ||
                                null === (n = t.location) ||
                                void 0 === n
                                ? void 0
                                : n.host
                            ),
                            enterMethod: "livesdk_follow",
                          }),
                          e.abrupt("return")
                        );
                      case 4:
                        return (e.next = 6), x();
                      case 6:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            );
            return function () {
              return e.apply(this, arguments);
            };
          })();
        return v.createElement(
          u.zx,
          {
            size: C,
            className: m()(N, n),
            onClick: F,
            type: T(M) && a ? "secondary" : "primary",
            "data-e2e": "live-followbutton",
          },
          (function (e, t) {
            return t
              ? e === f.E.FOLLOWING
                ? "\u5df2\u5173\u6ce8"
                : e === f.E.BOTH
                ? "\u4e92\u76f8\u5173\u6ce8"
                : "\u5173\u6ce8"
              : "\u5173\u6ce8";
          })(M, a)
        );
      };
    },
    42689: (e, t, n) => {
      n.d(t, { Z: () => et });
      var r,
        o = n(65146),
        a = n(30906),
        i = n(32781),
        l = n(84578),
        c = n.n(l),
        s = n(92637),
        u = n.n(s),
        d = n(94610),
        m = n.n(d),
        v = n(44503),
        f = n(79705),
        _ = n.n(f);
      function E() {
        return (
          (E = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          E.apply(this, arguments)
        );
      }
      const p = function (e) {
        return v.createElement(
          "svg",
          E(
            {
              width: 6,
              height: 10,
              viewBox: "0 0 6 10",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = v.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M.646.646a.5.5 0 01.708 0l4 4a.5.5 0 010 .708l-4 4a.5.5 0 11-.708-.708L4.293 5 .646 1.354a.5.5 0 010-.708z",
              fill: "#fff",
            }))
        );
      };
      var h = n(14582),
        g = n(88438),
        N = n.n(g),
        T = n(30673),
        I = n(67161),
        y = n(92012),
        S = n.n(y),
        C = n(90823),
        b = n.n(C),
        A = n(65064),
        O = n(56402),
        L = n.n(O),
        R = n(37510),
        k = n(53607),
        w = n(51652),
        P = n(62239),
        M = n(7103);
      const Z = {
        wrap: "CIWgoZ_Q",
        hasHover: "nQVqItn8",
        label: "OgSRh_0a",
        level25: "YjFcDKbS",
        level30: "VX0swN0i",
        level35: "fgBrjLEP",
        level40: "Xt2UA3_4",
        level45: "xuBVsEOE",
        img: "M445gid9",
        isLock: "rrCoFJwz",
      };
      var U = ["gift", "hasHover", "hasLock", "hasLabel", "className"];
      const D = function (e) {
          var t = e.gift,
            n = e.hasHover,
            r = void 0 === n || n,
            l = e.hasLock,
            c = void 0 === l || l,
            s = e.hasLabel,
            u = void 0 === s || s,
            d = e.className,
            m = (0, I.Z)(e, U),
            f = t || {},
            E = f.icon,
            p = f.label,
            h = f.honorLevel,
            g = f.lockStatus,
            N = c && Boolean(g),
            T = "light" === k.Q.getItem({ sKey: w.CookieKeys.Theme }) ? P : M,
            y = (0, v.useState)(T),
            S = (0, i.Z)(y, 2),
            C = S[0],
            b = S[1],
            A = (0, v.useCallback)(
              function () {
                b(T);
              },
              [T]
            );
          return (
            (0, v.useEffect)(
              function () {
                E && b(E);
              },
              [E]
            ),
            v.createElement(
              "div",
              (0, a.Z)(
                { className: _()(Z.wrap, (0, o.Z)({}, Z.hasHover, r), d) },
                m
              ),
              u &&
                Boolean(p) &&
                v.createElement(
                  v.Fragment,
                  null,
                  h
                    ? v.createElement("div", {
                        className: _()(Z.label, Z["level".concat(h)]),
                      })
                    : v.createElement("div", {
                        className: Z.label,
                        style: { backgroundImage: "url(".concat(p, ")") },
                      })
                ),
              v.createElement("img", {
                className: _()(Z.img, (0, o.Z)({}, Z.isLock, N)),
                src: globalThis
                  .getFilterXss()
                  .filterUrl(C, null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
                onError: A,
              })
            )
          );
        },
        x = "XRyNS9ZO",
        F = "xWPduFZW",
        K = "g9xe3NFU",
        G = "y1eU9FWn",
        V = "Fg89G7RW",
        Y = "xMpMEQ73",
        B = "xx8Fjsn8",
        H = "stCjt3Ye",
        W = "GIEkUE2w",
        j = "ywpJ2UWc",
        q = "RfbY25MK",
        z = "GPGiF0pI",
        Q = "yDubSpI1",
        X = "P70zfw5H",
        J = "OnG3Qtzl",
        $ = "nUBbw4y6",
        ee = "_4cC6FO1",
        te = "Ei_11raU",
        ne = "IN685dyZ",
        re = "UJPf2vVE",
        oe = "cuHI0Qw6",
        ae = "Kh9w8ifg",
        ie = "AbgztgPU",
        le = "lUa8pihr";
      var ce = n(830),
        se = n(80054),
        ue = ["gift", "isVisible", "giftSource", "className", "onSendError"];
      const de = function (e) {
          var t,
            n = e.gift,
            r = void 0 === n ? {} : n,
            l = e.isVisible,
            c = e.giftSource,
            s = e.className,
            u = e.onSendError,
            d = (0, I.Z)(e, ue),
            f = r.id,
            E = r.name,
            p = r.type,
            h = r.price,
            g = r.lockStatus,
            y = r.groupInfo,
            C = void 0 === y ? [] : y,
            O = Boolean(g),
            k = (0, v.useState)(!1),
            w = (0, i.Z)(k, 2),
            P = w[0],
            M = w[1],
            Z = (0, v.useState)(!1),
            U = (0, i.Z)(Z, 2),
            de = U[0],
            me = U[1],
            ve = (0, v.useState)(!1),
            fe = (0, i.Z)(ve, 2),
            _e = fe[0],
            Ee = fe[1],
            pe = (0, v.useState)(0),
            he = (0, i.Z)(pe, 2),
            ge = he[0],
            Ne = he[1],
            Te = (0, v.useState)(0),
            Ie = (0, i.Z)(Te, 2),
            ye = Ie[0],
            Se = Ie[1],
            Ce = (0, v.useRef)(0),
            be = (0, v.useRef)(0),
            Ae = (0, v.useRef)(),
            Oe = (0, v.useRef)(),
            Le = (0, v.useRef)(),
            Re = (0, v.useRef)(),
            ke = (0, R.Z)().sendGift,
            we = (0, v.useMemo)(
              function () {
                var e;
                return S()((e = [{ groupCount: 1, groupText: "" }])).call(
                  e,
                  (0, T.Z)(C)
                );
              },
              [C]
            ),
            Pe = (0, v.useMemo)(
              function () {
                return L()(we, "".concat(ge, ".groupCount"), 1);
              },
              [we, ge]
            ),
            Me = function (e) {
              (Ce.current = e), Se(e);
            },
            Ze = function () {
              Ae.current && clearTimeout(Ae.current),
                Oe.current && clearTimeout(Oe.current),
                Le.current && clearInterval(Le.current),
                Re.current && clearInterval(Re.current);
            },
            Ue = function () {
              me(!1),
                N()(function () {
                  me(!0);
                });
            },
            De = (0, v.useCallback)(function () {
              Ze(), M(!1), me(!1), Ne(0), Me(0), (be.current = 0);
            }, []),
            xe = (0, v.useCallback)(
              function (e) {
                O ||
                  e < 1 ||
                  ((be.current = be.current + e),
                  ke({
                    count: e,
                    price: h,
                    gift_id: f,
                    is_first_combo: !P,
                    giftSource: c,
                  }).catch(function () {
                    u && u();
                  }));
              },
              [c, f, O, h, P, u, ke]
            ),
            Fe = (0, v.useCallback)(
              function () {
                O ||
                  (M(!0),
                  Ue(),
                  Ne(0),
                  Me(Number(Ce.current) + Number(Pe)),
                  xe(Pe),
                  Ae.current && clearTimeout(Ae.current),
                  (Ae.current = N()(function () {
                    De();
                  }, 5e3)));
              },
              [O, Pe, xe, De]
            ),
            Ke = (0, v.useCallback)(
              function () {
                Le.current && clearInterval(Le.current),
                  Re.current && clearInterval(Re.current),
                  (Le.current = b()(function () {
                    Ee(!0), Ue(), Me(Ce.current + Number(Pe));
                  }, 200)),
                  (Re.current = b()(function () {
                    xe(Ce.current - be.current);
                  }, 1e3));
              },
              [Pe, xe]
            ),
            Ge = (0, v.useCallback)(
              function () {
                !O &&
                  P &&
                  (Ae.current && clearTimeout(Ae.current),
                  Oe.current && clearTimeout(Oe.current),
                  (Oe.current = N()(function () {
                    Ke();
                  }, 200)));
              },
              [O, P, Ke]
            ),
            Ve = (0, v.useCallback)(
              function () {
                Ee(!1), Ze(), xe(Ce.current - be.current);
              },
              [xe]
            ),
            Ye = (0, v.useCallback)(
              function (e) {
                e !== ge && (P && De(), Ne(e));
              },
              [ge, P, De]
            );
          return (
            (0, v.useEffect)(
              function () {
                l
                  ? (0, ce.cv)({
                      gift_id: f,
                      money_per_unit: h,
                      show_source: c,
                    })
                  : De();
              },
              [l]
            ),
            (0, v.useEffect)(function () {
              return De;
            }, []),
            v.createElement(
              "div",
              (0, a.Z)(
                { className: _()(x, s), "data-e2e": "giftItem-wrap" },
                d
              ),
              v.createElement(
                "div",
                { className: F },
                v.createElement(
                  "div",
                  { className: K },
                  v.createElement(D, {
                    className: G,
                    gift: r,
                    hasHover: !1,
                    hasLock: !1,
                    hasLabel: !1,
                  }),
                  v.createElement(
                    "div",
                    { className: V },
                    v.createElement("div", { className: Y }, E),
                    O
                      ? v.createElement(
                          "div",
                          { className: H },
                          "\u8363\u8a89\u7b49\u7ea7\u6682\u672a\u8fbe\u6807"
                        )
                      : v.createElement(
                          v.Fragment,
                          null,
                          Boolean(h) &&
                            v.createElement(
                              "div",
                              { className: B },
                              h,
                              "\u6296\u5e01"
                            )
                        )
                  )
                ),
                v.createElement(
                  "div",
                  { className: W },
                  v.createElement(
                    A.Z,
                    {
                      in: de,
                      timeout: 300,
                      classNames: { enter: ae, enterActive: ie, enterDone: le },
                    },
                    v.createElement(
                      "div",
                      { className: j },
                      Boolean(ye) &&
                        v.createElement(
                          v.Fragment,
                          null,
                          v.createElement("span", { className: q }, "x"),
                          v.createElement("span", { className: z }, ye)
                        )
                    )
                  ),
                  v.createElement(
                    "div",
                    {
                      className: _()(Q, (0, o.Z)({}, X, O)),
                      onClick: Fe,
                      onMouseDown: Ge,
                      onMouseUp: Ve,
                      "data-e2e": "gift-btn",
                    },
                    P
                      ? v.createElement(
                          v.Fragment,
                          null,
                          v.createElement("div", {
                            className: _()(
                              J,
                              ((t = {}),
                              (0, o.Z)(t, ee, _e),
                              (0, o.Z)(t, $, de),
                              t)
                            ),
                            style: (0, a.Z)(
                              {},
                              de && { transitionDuration: "".concat(5e3, "ms") }
                            ),
                          }),
                          v.createElement("div", { className: te })
                        )
                      : "\u8d60\u9001"
                  )
                )
              ),
              p === se.o0.CHEAP &&
                Boolean(C.length) &&
                v.createElement(
                  "div",
                  { className: ne },
                  m()(we).call(we, function (e, t) {
                    return v.createElement(
                      "div",
                      {
                        className: _()(re, (0, o.Z)({}, oe, t === ge)),
                        key: e.groupCount,
                        onClick: function () {
                          return Ye(t);
                        },
                        "data-e2e": "groupIten-count",
                      },
                      e.groupCount
                    );
                  })
                )
            )
          );
        },
        me = "KYbfRalq",
        ve = "NL9MSvQx",
        fe = "Jr_PstBM",
        _e = "zXbvuTSm";
      var Ee = { adjustX: 0, adjustY: 0 },
        pe = function (e) {
          var t = e.gift,
            n = void 0 === t ? {} : t,
            r = e.popoverContainer,
            a = e.style,
            l = e.giftSource,
            c = e.className,
            s = e.metro,
            u = n.price,
            d = (0, v.useState)(!1),
            m = (0, i.Z)(d, 2),
            f = m[0],
            E = m[1],
            p = (0, v.useRef)(),
            g = (0, v.useRef)(),
            T = (0, v.useRef)(null),
            I = function () {
              clearTimeout(p.current),
                (g.current = N()(function () {
                  E(!1);
                }, 80));
            },
            y = function () {
              clearTimeout(g.current),
                (p.current = N()(function () {
                  E(!0);
                }, 80));
            },
            S = function () {
              I();
            };
          return (
            (0, v.useEffect)(
              function () {
                f || (clearTimeout(p.current), clearTimeout(g.current));
              },
              [f]
            ),
            v.createElement(
              "div",
              { className: _()(me, c), style: a, ref: T },
              v.createElement(
                h.Z,
                {
                  visible: f,
                  scrollHide: !1,
                  placement: "topRight",
                  offset: 10,
                  zIndex: 21,
                  autoAdjustOverflowConfig: Ee,
                  getTooltipContainer: function () {
                    return r || T.current;
                  },
                  overlay: v.createElement(de, {
                    className: _e,
                    gift: n,
                    isVisible: f,
                    giftSource: l,
                    onSendError: function () {
                      I();
                    },
                    onMouseEnter: y,
                    onMouseLeave: S,
                  }),
                },
                v.createElement(
                  v.Fragment,
                  null,
                  v.createElement(D, {
                    gift: n,
                    hasHover: !s,
                    onMouseEnter: y,
                    onMouseLeave: S,
                  }),
                  Boolean(u) &&
                    v.createElement(
                      "div",
                      { className: _()(ve, (0, o.Z)({}, fe, u > 99999)) },
                      v.createElement("span", null, u, "\u6296\u5e01")
                    )
                )
              )
            )
          );
        };
      const he = (0, v.memo)(pe);
      var ge = n(48483);
      const Ne = "IiCWgpcr";
      var Te = (0, v.memo)(function (e) {
          var t = e.data,
            n = void 0 === t ? [] : t,
            r = e.rowIndex,
            o = e.columnIndex,
            a = e.style,
            i = e.popoverContainer,
            l = L()(n, "".concat(4 * Number(r) + Number(o)));
          return l
            ? v.createElement(he, {
                style: a,
                popoverContainer: i,
                giftSource: se._W.GIFT_PANEL,
                gift: l,
              })
            : null;
        }),
        Ie = function (e) {
          var t = e.giftPage,
            n = e.popoverContainer,
            r = e.className,
            o = (t || {}).giftList,
            i = Math.ceil(o.length / 4);
          return v.createElement(
            "div",
            { className: _()(Ne, r) },
            v.createElement(
              ge.cd,
              {
                itemData: o,
                overscanRowCount: 3,
                width: 278,
                height: 272,
                columnCount: 4,
                columnWidth: function () {
                  return 68;
                },
                rowCount: i,
                rowHeight: function (e) {
                  return e === i - 1 ? 80 : 96;
                },
              },
              function (e) {
                return v.createElement(
                  Te,
                  (0, a.Z)((0, a.Z)({}, e), {}, { popoverContainer: n })
                );
              }
            )
          );
        };
      const ye = (0, v.memo)(Ie),
        Se = "_l3iPDtp",
        Ce = "dxtvl9JU",
        be = "bJg8TpSf",
        Ae = "b7EGYLPK",
        Oe = "duMelRHE",
        Le = "JsBcBkJE",
        Re = "X9iRQ9qf",
        ke = "pnvTKpL1",
        we = "Wo3ev8RE",
        Pe = "_EUEeyeU",
        Me = "IrR7awlj";
      var Ze = function (e) {
        var t = e.giftPages,
          n = void 0 === t ? [] : t,
          r = e.balance,
          a = void 0 === r ? 0 : r,
          l = e.panelVisible,
          c = void 0 !== l && l,
          s = e.isLogin,
          u = void 0 !== s && s,
          d = e.popoverContainer,
          f = e.className,
          E = (0, v.useState)(0),
          p = (0, i.Z)(E, 2),
          h = p[0],
          g = p[1];
        return (
          (0, v.useEffect)(
            function () {
              c && (0, ce.qN)();
            },
            [c]
          ),
          v.createElement(
            "div",
            { className: _()(Se, f) },
            v.createElement(
              "div",
              { className: Ce },
              v.createElement(
                "div",
                { className: be },
                m()(n).call(n, function (e, t) {
                  return v.createElement(
                    "div",
                    {
                      className: _()(Ae, (0, o.Z)({}, Oe, t === h)),
                      key: e.pageType,
                      onClick: function () {
                        return (function (e) {
                          g(e);
                        })(t);
                      },
                    },
                    e.pageName
                  );
                })
              ),
              u &&
                v.createElement(
                  "div",
                  { className: Le },
                  v.createElement("span", null, "\u4f59\u989d :"),
                  v.createElement("div", { className: Re }),
                  v.createElement("span", { className: ke }, a)
                )
            ),
            v.createElement(
              "div",
              { className: we, "data-e2e": "gifts-content" },
              m()(n).call(n, function (e, t) {
                return v.createElement(
                  "div",
                  {
                    className: _()(Pe, (0, o.Z)({}, Me, t === h)),
                    key: e.pageType,
                  },
                  v.createElement(ye, { giftPage: e, popoverContainer: d })
                );
              })
            )
          )
        );
      };
      const Ue = (0, v.memo)(Ze),
        De = "ruqvqPsH",
        xe = "EtC8uMlb",
        Fe = "rXIQ3xFz",
        Ke = "FQSSDctu",
        Ge = "URcx6Zly",
        Ve = "RtOkHzSl",
        Ye = "ZAe5mEGm",
        Be = "RkTJSwiC",
        He = "wuLkohzV",
        We = "RFlr1Iys",
        je = "rFjJAGc6",
        qe = "j3_9nIHZ";
      var ze = n(26587),
        Qe = n(98479),
        Xe = n(5480),
        Je = { adjustX: 0, adjustY: 0 },
        $e = function (e) {
          var t = e.giftStatus,
            n = void 0 !== t && t,
            r = e.giftPages,
            l = void 0 === r ? [] : r,
            s = e.balance,
            d = void 0 === s ? 0 : s,
            f = e.isLogin,
            E = void 0 !== f && f,
            g = e.isInPlugin,
            N = void 0 !== g && g,
            T = e.metro,
            I = void 0 !== T && T,
            y = e.className,
            S = e.children,
            C = e.style,
            b = e.isSpringSkin,
            A = void 0 !== b && b,
            O = (0, v.useState)(!1),
            L = (0, i.Z)(O, 2),
            k = L[0],
            w = L[1],
            P = (0, v.useRef)(null),
            M = (0, R.Z)(),
            Z = M.getBalance,
            U = M.getGifts,
            D = M.getEffects,
            x = M.handleRecharge,
            F = (0, v.useMemo)(
              function () {
                var e = (0, ze.p)(l, [se.kQ.GIFT]);
                return c()(e).call(e, 0, 8);
              },
              [l]
            ),
            K = (0, v.useMemo)(
              function () {
                var e;
                return u()(
                  (e = m()(l).call(l, function (e) {
                    var t;
                    return e.pageType === se.kQ.GIFT
                      ? (0, a.Z)(
                          (0, a.Z)({}, e),
                          {},
                          { giftList: c()((t = e.giftList)).call(t, 8) }
                        )
                      : e;
                  }))
                ).call(e, function (e) {
                  return e.giftList.length;
                });
              },
              [l]
            ),
            G = (0, v.useMemo)(
              function () {
                return (0, ze.p)(l).length > F.length;
              },
              [l, F]
            );
          return (
            (0, v.useEffect)(
              function () {
                if (!N && l.length) {
                  var e,
                    t =
                      null === (e = P.current) || void 0 === e
                        ? void 0
                        : e.getBoundingClientRect(),
                    n = t.top,
                    r = t.right,
                    o = t.bottom,
                    a = t.left,
                    i = window,
                    c = i.innerWidth,
                    s = i.innerHeight,
                    u = n >= 0 && a >= 0 && o <= s && r <= c,
                    d = n >= 0 && a >= 0 && o - 100 <= s && r <= c;
                  (0, Xe.qP)({
                    name: "gift_bar_visible",
                    categories: { isVisible: u, isVisibleTest: d },
                  });
                }
              },
              [l.length]
            ),
            v.createElement(
              "div",
              {
                className: _()(De, (0, o.Z)({ metro: I }, "spring-skin", A), y),
                style: C,
                ref: P,
              },
              n &&
                v.createElement(
                  "div",
                  { className: xe },
                  v.createElement(
                    "div",
                    { className: Fe, "data-e2e": "gifts-container" },
                    m()(F).call(F, function (e) {
                      return v.createElement(he, {
                        className: Ke,
                        giftSource: se._W.GIFT_BAR,
                        popoverContainer: P.current,
                        key: e.id,
                        gift: e,
                        metro: I || A,
                      });
                    })
                  ),
                  G &&
                    v.createElement(
                      h.Z,
                      {
                        trigger: "click",
                        scrollHide: !1,
                        placement: "topRight",
                        offset: 10,
                        autoAdjustOverflowConfig: Je,
                        getTooltipContainer: function () {
                          return P.current;
                        },
                        overlay: v.createElement(Ue, {
                          className: je,
                          giftPages: K,
                          balance: d,
                          panelVisible: k,
                          isLogin: E,
                          popoverContainer: P.current,
                        }),
                        onVisibleChange: function (e) {
                          w(e), e ? (Z(), D()) : U();
                        },
                      },
                      v.createElement(
                        "div",
                        {
                          className: _()(Ge, (0, o.Z)({}, Ve, k)),
                          "data-e2e": "gifts-switch",
                        },
                        I
                          ? v.createElement(
                              v.Fragment,
                              null,
                              v.createElement("div", { className: We }),
                              v.createElement(
                                "div",
                                { className: qe },
                                v.createElement("div", null, "\u66f4\u591a"),
                                v.createElement(p, null)
                              )
                            )
                          : v.createElement("div", { className: Ye })
                      )
                    )
                ),
              v.createElement(
                "div",
                { className: Be },
                n &&
                  v.createElement(
                    "div",
                    {
                      className: _()("slot-item", He),
                      "data-e2e": I ? "recharge-btn" : void 0,
                      onClick: I ? x : void 0,
                    },
                    v.createElement("div", { className: _()("icon", We) }),
                    v.createElement(
                      "div",
                      {
                        className: _()("btn", qe),
                        "data-e2e": I ? void 0 : "recharge-btn",
                        onClick: I
                          ? void 0
                          : function () {
                              E
                                ? (x({ type: "recharge" }), (0, ce.UL)())
                                : (0, Qe.m8)(
                                    "\u767b\u5f55\u540e\u5373\u53ef\u5145\u503c",
                                    "live_gift"
                                  );
                            },
                      },
                      v.createElement("div", null, "\u5145\u503c"),
                      I && v.createElement(p, null)
                    )
                  ),
                m()(v.Children).call(v.Children, S, function (e) {
                  return (
                    (0, v.isValidElement)(e) &&
                    (0, v.cloneElement)(e, {
                      className: _()(
                        "slot-item",
                        null == e ? void 0 : e.props.className
                      ),
                    })
                  );
                })
              )
            )
          );
        };
      const et = (0, v.memo)($e);
    },
    50369: (e, t, n) => {
      n.d(t, { Z: () => z });
      var r = n(30906),
        o = n(32781),
        a = n(56402),
        i = n.n(a),
        l = n(94610),
        c = n.n(l),
        s = n(21805),
        u = n.n(s),
        d = n(44503),
        m = n(8952),
        v = n(27860),
        f = n(85388),
        _ = n(81099),
        E = n(830),
        p = n(63786),
        h = n(2942),
        g = n(32932),
        N = n(82272),
        T = n(9778),
        I = n(18837),
        y = n(7348),
        S = n(32183),
        C = n(79008),
        b = n(85131),
        A = n(65414),
        O = n(86393),
        L = n(10115),
        R = n(91204),
        k = n(80493),
        w = n(3319),
        P = n(54819),
        M = n(27301),
        Z = n(63546),
        U = n(24260),
        D = n(69047),
        x = n(79705),
        F = n.n(x),
        K = n(47983),
        G = n(72842),
        V = n(84544),
        Y = n(52252),
        B = (0, U.default)(
          {
            resolved: {},
            chunkName: function () {
              return "DanmakuPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(7768).then(n.bind(n, 89482));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 89482;
            },
          },
          { ssr: !1 }
        ),
        H = (0, U.default)(
          {
            resolved: {},
            chunkName: function () {
              return "QualitySwitchPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(3007).then(n.bind(n, 1809));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 1809;
            },
          },
          { ssr: !1 }
        ),
        W = (0, U.default)(
          {
            resolved: {},
            chunkName: function () {
              return "AudioRoomPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(1017), n.e(7287)]).then(n.bind(n, 90295));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 90295;
            },
          },
          { ssr: !1 }
        ),
        j = (0, U.default)(
          {
            resolved: {},
            chunkName: function () {
              return "VideoRoomPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(1017), n.e(1289)]).then(n.bind(n, 17430));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 17430;
            },
          },
          { ssr: !1 }
        ),
        q = function (e) {
          var t,
            n,
            a,
            l,
            s,
            U,
            x,
            q,
            z = e.onPlay,
            Q = e.isLogPlay,
            X = e.onSend,
            J = e.playerCoverText,
            $ = e.isPause,
            ee = e.iframePlayerConf,
            te = e.isVerifyed,
            ne = e.refreshPlayer,
            re = (0, b.Z)(),
            oe = re.userStore,
            ae = oe.userInfo,
            ie = oe.odin,
            le = oe.setPlayerUserHandlePause,
            ce = re.roomStore.roomInfo,
            se = re.linkmicStore,
            ue = se.linkRoomType,
            de = se.linkRoomTypeHooks,
            me = se.linkStatus,
            ve = (0, Z.Z)(),
            fe = i()(ce, "room.status"),
            _e = (0, d.useRef)(),
            Ee = (0, d.useState)(!1),
            pe = (0, o.Z)(Ee, 2),
            he = pe[0],
            ge = pe[1],
            Ne = d.useMemo(
              function () {
                var e;
                return c()(
                  (e = i()(
                    ce,
                    "room.stream_url.live_core_sdk_data.pull_data.options.qualities",
                    []
                  ))
                ).call(e, function (e) {
                  return e.sdk_key;
                });
              },
              [ce]
            ),
            Te = d.useMemo(
              function () {
                return JSON.parse(
                  i()(
                    ce,
                    "room.stream_url.live_core_sdk_data.pull_data.stream_data",
                    "null"
                  )
                );
              },
              [ce]
            ),
            Ie = d.useMemo(
              function () {
                return i()(
                  ce,
                  "room.stream_url.live_core_sdk_data.pull_data.options.default_quality.sdk_key",
                  ""
                );
              },
              [ce]
            ),
            ye = (0, d.useMemo)(
              function () {
                if (Te) {
                  var e,
                    t =
                      (null == Te || null === (e = Te.data[Ie]) || void 0 === e
                        ? void 0
                        : e.main) || {};
                  return (0, f.tq)()
                    ? (0, _.uC)(t.hls || "")
                    : (0, _.uC)(t.flv || "");
                }
                return "";
              },
              [Te, Ie]
            );
          (0, d.useEffect)(
            function () {
              !Q.current &&
                ae.isReady &&
                ((0, E.Gh)({
                  anchor_id: i()(ce, "anchor.id_str", ""),
                  room_id: ce.roomId || "",
                  muted: _e.current.getPlayer().muted,
                  stream_type: ve,
                }),
                (Q.current = !0));
            },
            [ce, ae, ve, Q]
          ),
            (0, d.useEffect)(function () {
              return (
                (window.__IFRAME_PLAYER__ = _e.current),
                (document.body.style.overflowX = "hidden"),
                function () {
                  document.body.style.overflowX = "auto";
                }
              );
            }, []);
          var Se = (0, d.useMemo)(function () {
              return { enter_from_merge: "web_iframe" };
            }, []),
            Ce = d.useRef(!p.sk && (0, f.rC)());
          d.useEffect(
            function () {
              var e,
                t =
                  null === (e = _e.current) || void 0 === e
                    ? void 0
                    : e.getPlayer();
              t &&
                (me === G.cK.LINKED
                  ? ((Ce.current = t.muted),
                    (t.muted = !0),
                    t.plugins.play.hide(),
                    t.plugins.volume.hide())
                  : me === G.cK.NOT_LINK &&
                    ((t.muted = Ce.current),
                    t.plugins.play.show(),
                    t.plugins.volume.show()));
            },
            [me]
          );
          return d.createElement(
            I.N,
            {
              isPause: $,
              refreshPlayer: ne,
              onPlay: z,
              className: F()(m.Z.iframePlayer, "iframe-player"),
              volume: p.sk ? 0 : (0, f.Sv)(),
              url: ye,
              closeVideoClick: !0,
              ref: _e,
              onFullScreen: function (e) {
                ge(e);
              },
              icons: {
                loadingIcon: (0, M.renderToString)(
                  d.createElement(v.g, {
                    className: "live-player-loading",
                    text: "\u89c6\u9891\u52a0\u8f7d\u4e2d",
                  })
                ),
              },
              onUserAction: function (e) {
                "switch_play_pause" === e.action && le(!e.paused);
              },
            },
            "audio" === ue &&
              fe !== h.LV.END &&
              d.createElement(W, { isVerifyed: te }),
            "video" === ue && fe !== h.LV.END && d.createElement(j, null),
            ("audio" === de || "video" === de) &&
              d.createElement(K.Z, { isVerifyed: te }),
            J &&
              d.createElement(
                y.C,
                { cover: i()(ce.anchor, "avatar_thumb.url_list[0]", "") },
                J
              ),
            d.createElement(
              S.p,
              (0, r.Z)(
                (0, r.Z)({}, g.xo),
                {},
                {
                  user_id: ae.id_str,
                  device_id: ie.user_unique_id,
                  ext: {
                    isNewAce: !0,
                    enter_from_merge: Y.p()
                      ? ""
                      : null === (t = (0, N.Yi)()) || void 0 === t
                      ? void 0
                      : t.enter_from_merge,
                    enter_method: Y.p()
                      ? ""
                      : null === (n = (0, N.Yi)()) || void 0 === n
                      ? void 0
                      : n.enter_method,
                    is_preview: 1,
                  },
                }
              )
            ),
            d.createElement(O.Z, null),
            d.createElement(P.Z, null),
            d.createElement(k.Z, null),
            d.createElement(V.b, { isVerifyed: te }),
            d.createElement(w.Z, {
              containerTagName: "xg-icon",
              position: "controlsLeft",
              index: 1,
            }),
            d.createElement(R.Z, {
              containerClassName: m.Z.liveTitlePlugin,
              className: m.Z.liveTitlePluginContainer,
              position: "rootTop",
              title: null === (a = ce.room) || void 0 === a ? void 0 : a.title,
              userCount: (0, T.jQ)(ce.room),
            }),
            d.createElement(C.G, null),
            (null == ee || null === (l = ee.plugins) || void 0 === l
              ? void 0
              : u()(l).call(l, "danmaku")) &&
              d.createElement(B, { on: !0, feature: !0 }),
            (null == ee || null === (s = ee.plugins) || void 0 === s
              ? void 0
              : u()(s).call(s, "follow")) &&
              d.createElement(A.Z, {
                isIframe: !0,
                containerClassName: m.Z.liveAnchorFollowPlugin,
                position: "rootTop",
              }),
            (null == ee || null === (U = ee.plugins) || void 0 === U
              ? void 0
              : u()(U).call(U, "enter")) &&
              d.createElement(D.Z, {
                webRid: ce.web_rid,
                roomTeaLogParams: Se,
              }),
            (null == ee || null === (x = ee.plugins) || void 0 === x
              ? void 0
              : u()(x).call(x, "comment")) &&
              d.createElement(L.Z, {
                position: "controlsRight",
                containerClassName: m.Z.liveCommentPlugin,
                isLogin: null == ae ? void 0 : ae.id_str,
                onSend: X,
                isIframe: !0,
                index: 13,
              }),
            (null == ee || null === (q = ee.plugins) || void 0 === q
              ? void 0
              : u()(q).call(q, "bitrate")) &&
              Te &&
              Ie &&
              d.createElement(H, {
                defaultQuality: Ie,
                streamData: Te,
                position: "controlsRight",
                qualityList: Ne,
                screenMode: he ? E.wq.FULL_SCREEN : E.wq.NORMAL,
                index: 12,
                url: ye,
              })
          );
        };
      const z = q;
    },
    11065: (e, t, n) => {
      n.d(t, { Z: () => s });
      var r = n(84966),
        o = n(79705),
        a = n.n(o),
        i = n(44503);
      const l = "Of3rRXre",
        c = "LzWLVBx2";
      const s = function (e) {
        var t = e.count,
          n = e.className;
        return i.createElement(
          "div",
          null,
          i.createElement(
            "span",
            { className: a()(l, n) },
            t && i.createElement(r.Z, null),
            i.createElement(
              "span",
              { className: c, "data-e2e": "livecard-usercount" },
              t
            )
          )
        );
      };
    },
    39781: (e, t, n) => {
      n.d(t, { Z: () => L });
      var r = n(65146),
        o = n(32781),
        a = n(56402),
        i = n.n(a),
        l = n(92012),
        c = n.n(l),
        s = n(7653),
        u = n(63786),
        d = n(18506),
        m = n(9778),
        v = n(22459),
        f = n(79705),
        _ = n.n(f),
        E = n(44503),
        p = n(70343),
        h = n(13516),
        g = n(36790);
      const N = "ERw2sJ1N",
        T = "tZZ6KPvg",
        I = "haF9cvlj",
        y = "E7XRDKRE",
        S = "F9SvPujD",
        C = "Ms36QdnI",
        b = "s1VeeIdD",
        A = "JFPaLaV3";
      var O = n(11065);
      const L = function (e) {
        var t,
          n = e.className,
          a = e.data,
          l = e.onClick,
          f = e.onMouseEnter,
          L = e.onMouseLeave,
          R = e.focus,
          k = (e.hideTag, e.coverId),
          w = e.onCardFocus,
          P = e.onLog,
          M = e.hideCover,
          Z = e.logParams,
          U = e.target,
          D = void 0 === U ? "_blank" : U,
          x = e.isRecommendOnEnd,
          F = void 0 !== x && x,
          K = e.tabAbtest,
          G = E.useRef(null),
          V = E.useState(!1),
          Y = (0, o.Z)(V, 2),
          B = Y[0],
          H = Y[1];
        E.useEffect(
          function () {
            R && w && w(a, G);
          },
          [R, w, a]
        );
        var W = E.useCallback(
            function () {
              H(!0), f && f();
            },
            [f]
          ),
          j = E.useCallback(
            function () {
              H(!1), L && L();
            },
            [L]
          ),
          q = E.useCallback(
            function () {
              l && l();
            },
            [l]
          ),
          z = E.useMemo(
            function () {
              return E.createElement(
                "p",
                {
                  title: a.room.title,
                  style: F ? { color: "white" } : {},
                  className: _()(T),
                  "data-e2e": "livecard-title",
                },
                a.room.title
              );
            },
            [a, F]
          ),
          Q = E.useMemo(
            function () {
              var e;
              return E.createElement(
                "div",
                { className: I },
                E.createElement(
                  p.ZP,
                  { height: 32, offset: s.e, once: !0, overflow: !0 },
                  E.createElement(v.q, {
                    type: "extraExtraSmall",
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(
                        a.avatar ||
                          i()(a, "room.owner.avatar_thumb.url_list[0]", ""),
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                  })
                ),
                E.createElement(
                  "a",
                  {
                    href: globalThis
                      .getFilterXss()
                      .filterUrl(
                        c()(
                          (e = "//".concat((0, u.iE)().VIDEO_DOMAIN, "/user/"))
                        ).call(e, i()(a, "room.owner.sec_uid", "")),
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                    target: "_blank",
                    rel: "noreferrer",
                    style: F ? { color: "white" } : {},
                    className: _()(y),
                    "data-e2e": "livecard-metatext",
                  },
                  a.room.owner.nickname
                )
              );
            },
            [a, F]
          ),
          X =
            (E.useCallback(function (e) {
              return (0, d.e)(e) ? "" : e;
            }, []),
            E.useMemo(
              function () {
                return {
                  href: globalThis
                    .getFilterXss()
                    .filterUrl(
                      a.web_rid
                        ? (0, d.X)("/".concat(a.web_rid))
                        : (0, d.X)("/".concat(a.uniq_id)),
                      null,
                      { logType: "js.href/src", reportOnly: !1 }
                    ),
                  target: D,
                  title: "".concat(
                    a.room.owner.nickname,
                    "\u7684\u6296\u97f3\u76f4\u64ad\u95f4"
                  ),
                  passParams: Z,
                };
              },
              [a, Z]
            ));
        return E.createElement(h.Z, {
          onMouseEnter: W,
          onMouseLeave: j,
          onClick: q,
          linkProperty: X,
          className: _()(
            n,
            N,
            ((t = {}), (0, r.Z)(t, C, !F), (0, r.Z)(t, b, F), t)
          ),
          cover: E.createElement(g.Z, {
            ref: G,
            coverId: k,
            onLog: P,
            className: _()(S, (0, r.Z)({}, A, M && R)),
            imageSrc: a.cover || i()(a, "room.cover.url_list[0]", ""),
            leftMarker: E.createElement(O.Z, { count: (0, m.jQ)(a.room) }),
            alt: "".concat(
              a.room.owner.nickname,
              "\u7684\u6296\u97f3\u76f4\u64ad\u95f4"
            ),
            hoverImg: B && K,
          }),
          title: z,
          meta: Q,
        });
      };
    },
    77106: (e, t, n) => {
      n.d(t, { Z: () => ce });
      var r = n(30673),
        o = n(30906),
        a = n(32781),
        i = n(1818),
        l = n.n(i),
        c = n(56402),
        s = n.n(c),
        u = n(81711),
        d = n.n(u),
        m = n(84578),
        v = n.n(m),
        f = n(92012),
        _ = n.n(f),
        E = n(94610),
        p = n.n(E),
        h = n(59440),
        g = n.n(h),
        N = n(78881),
        T = n.n(N),
        I = n(21805),
        y = n.n(I),
        S = n(92637),
        C = n.n(S),
        b = n(52252),
        A = n(82272),
        O = n(18506),
        L = n(38877),
        R = n(85450),
        k = n(53964),
        w = n(830),
        P = n(7201),
        M = n(82937),
        Z = n(43477),
        U = n(3803),
        D = n(19268),
        x = n(80841),
        F = n(85131),
        K = n(3505),
        G = n(96431),
        V = n(11667),
        Y = n(24142),
        B = n(44503),
        H = n(70343),
        W = n(39781),
        j = n(13516),
        q = n(36790);
      const z = "zbesUOku",
        Q = "Q6Xwkqhs",
        X = "pY8wgKUc";
      const J = function (e) {
        var t = e.className;
        return B.createElement(j.Z, {
          className: t,
          cover: B.createElement(q.Z, { imageSrc: "", hideShadow: !0 }),
          title: B.createElement(
            "div",
            { className: z },
            B.createElement("div", { className: Q }),
            B.createElement("div", { className: Q })
          ),
          meta: B.createElement("div", { className: X }),
        });
      };
      var $ = n(89465);
      const ee = "uopqGysq",
        te = "eUYT9XtS",
        ne = "dCZ4HVIc",
        re = "nG0QEgh6",
        oe = "NGQINMAa",
        ae = "pJF0j0PJ",
        ie = "UaO0CRzL",
        le = "tl8Drt3z";
      const ce = (0, Y.Pi)(function (e) {
        var t,
          n,
          i = e.title,
          c = e.rooms,
          u = void 0 === c ? [] : c,
          m = e.tabs,
          f = e.tabsMode,
          E = void 0 === f ? "normal" : f,
          h = e.category,
          N = e.onLiveCardClick,
          I = e.onRoomFocus,
          S = e.onRoomBlur,
          Y = e.want_more,
          j = void 0 === Y || Y,
          q = e.target,
          z = void 0 === q ? "_blank" : q,
          Q = e.cardPlayerIsPlay,
          X = e.extra,
          ce = e.needInitial,
          se = e.isXiguaDomain,
          ue = e.secondTabBtn,
          de = e.tabAbtest,
          me = (0, F.Z)().roomStore.roomInfo,
          ve = B.useState(h),
          fe = (0, a.Z)(ve, 2),
          _e = fe[0],
          Ee = fe[1],
          pe = (0, U.Z)().columnsNum,
          he = B.useState(u),
          ge = (0, a.Z)(he, 2),
          Ne = ge[0],
          Te = ge[1],
          Ie = B.useState(Boolean(ce)),
          ye = (0, a.Z)(Ie, 2),
          Se = ye[0],
          Ce = ye[1],
          be = B.useState(!1),
          Ae = (0, a.Z)(be, 2),
          Oe = Ae[0],
          Le = Ae[1],
          Re = (0, D.I)(),
          ke = Re.hoverId,
          we = Re.onCardMouseEnter,
          Pe = Re.onCardMouseLeave;
        B.useEffect(
          function () {
            if ("relative" === h) {
              var e,
                t = !1,
                n = s()(Ne, "[0].tag_name", "");
              d()((e = v()(Ne).call(Ne, 0, 2 * pe))).call(e, function (e) {
                (null == e ? void 0 : e.tag_name) !== n && (t = !0);
              }),
                Le(!t);
            }
          },
          [pe]
        ),
          B.useEffect(
            function () {
              ce || Te(u);
            },
            [u, ce]
          );
        var Me = B.useCallback(
            function (e) {
              return function () {
                d()(e).call(e, function (e) {
                  (0,
                  A.cV)({ category_name: "\u70ed\u95e8\u63a8\u8350", more_detail: e.label, enter_from: "others", first_roadmap_name: i });
                });
              };
            },
            [i]
          ),
          Ze = B.useMemo(
            function () {
              return "hotLive" === h
                ? "hotLive" !== _e && ue
                  ? _e
                  : (0, O.X)(L.m.HOT_LIVE)
                : _e === h
                ? (0, O.X)((0, Z.H)(h))
                : (0, O.X)((0, Z.H)(_()((e = "".concat(h, "_"))).call(e, _e)));
              var e;
            },
            [_e, h]
          ),
          Ue = B.useCallback(function (e) {
            Ce(!0),
              (0, R.W3)(12, 0, e, k.X.HOME).then(function (e) {
                var t,
                  n = e.status_code,
                  r = e.data,
                  a = e.logId;
                0 === n &&
                  (Te(
                    p()((t = s()(r, "data", []))).call(t, function (e) {
                      return (0, o.Z)((0, o.Z)({}, e), {}, { requestId: a });
                    })
                  ),
                  Ce(!1));
              });
          }, []);
        B.useEffect(
          function () {
            ce && Ue(_e);
          },
          [ce]
        );
        var De = function (e) {
            var t;
            (0, w.Vd)({
              category_name: "\u70ed\u95e8\u63a8\u8350",
              more_detail:
                null ===
                  (t = g()(m).call(m, function (t) {
                    return t.value === e;
                  })) || void 0 === t
                  ? void 0
                  : t.label,
              enter_from: "others",
              first_roadmap_name: i,
            });
          },
          xe = B.useCallback(
            function (e, t) {
              t.preventDefault();
              var n = e;
              if ("hotLive" === h && "hotLive" === e && ue)
                return De(e), Ee(n), void Te(u);
              Ue(n), Ee(n), ue && De(e);
            },
            [Ue, h, u]
          ),
          Fe = B.useCallback(
            function () {
              Pe(), S && S();
            },
            [S, Pe]
          ),
          Ke = B.useCallback(function (e, t) {
            var n;
            return T()((n = ["entertainment", "technology_culture"])).call(
              n,
              function (e) {
                return y()(t).call(t, e);
              }
            )
              ? (e.split("_") || []).pop() || "all"
              : e;
          }, []),
          Ge = B.useCallback(
            function (e) {
              var t,
                n,
                r = "all",
                a = (0, w.bz)(h, h),
                i = w.iT.LIVE_TAB,
                l = w.QX.CARD;
              if (
                (_e !== h && ((r = (0, w.bz)(_e, h)), (r = Ke(r, a))),
                "hotLive" === h && (a = "hot_live"),
                "relative" === h)
              ) {
                var c,
                  u,
                  d = (0, P.v6)({ id_str: s()(e, "room.id_str", ""), type: 1 }),
                  m = (0, P.v6)(s()(me, "partition_road_map.partition"));
                if (
                  ((a = (0, w.bz)(d, m)),
                  (r = (0, w.bz)(d, m)),
                  (r = Ke(r, a)),
                  (i = w.iT.WEB_RELATED_PAGE),
                  !b.p())
                )
                  i =
                    "push" ===
                    (null === (c = window) ||
                    void 0 === c ||
                    null === (u = c.__INVISIBLE_QUERY__) ||
                    void 0 === u
                      ? void 0
                      : u.enter_from_merge)
                      ? w.iT.WEB_PUSH
                      : w.iT.WEB_RELATED_PAGE;
              }
              b.p() ||
                (l =
                  "push" ===
                  (null === (t = window) ||
                  void 0 === t ||
                  null === (n = t.__INVISIBLE_QUERY__) ||
                  void 0 === n
                    ? void 0
                    : n.enter_method)
                    ? w.QX.PUSH
                    : w.QX.CARD);
              return (0, o.Z)(
                {
                  web_live_page: a,
                  web_live_tab: r,
                  enter_from_merge: i,
                  enter_method: l,
                  game_live_source: "game_web",
                  page_type: "live_main_page",
                  category_name: "",
                  more_detail: "",
                  request_id: e.requestId,
                },
                (0, w.QE)(e)
              );
            },
            [_e, h, Ke, me]
          ),
          Ve = B.useCallback(
            function (e) {
              return function () {
                Fe(), N && N(), (0, w.bi)(Ge(e));
              };
            },
            [Fe, N, Ge]
          ),
          Ye = B.useCallback(
            function (e) {
              return function () {
                var t = Ge(e);
                (0, w.JW)(t);
              };
            },
            [Ge]
          );
        return B.createElement(
          "div",
          { className: ee },
          B.createElement(
            "div",
            { className: te },
            B.createElement("h2", { className: ne }, i),
            X,
            0 === m.length &&
              j &&
              B.createElement(
                K.G,
                {
                  className: ae,
                  href: globalThis
                    .getFilterXss()
                    .filterUrl(
                      se ? "".concat(Ze, "?domain=live.ixigua.com") : Ze,
                      null,
                      { logType: "js.href/src", reportOnly: !1 }
                    ),
                  target: se || de ? "_self" : "_blank",
                  rel: "noopener noreferrer1",
                  onClick: function () {
                    (0, w.b5)({ category_name: i });
                  },
                },
                B.createElement(
                  "span",
                  { className: ie, "data-e2e": "category-more" },
                  "\u67e5\u770b\u66f4\u591a"
                ),
                B.createElement(G.Z, null)
              )
          ),
          m.length > 0
            ? B.createElement(
                "div",
                { className: oe },
                B.createElement(V.m, {
                  current: _e,
                  list: m,
                  onChange: xe,
                  mode: E,
                  isXiguaDomain: se,
                }),
                ue &&
                  B.createElement(
                    H.ZP,
                    {
                      scrollContainer: "#".concat(M.IS),
                      height: "100%",
                      offset: 200,
                      once: !0,
                    },
                    B.createElement($.Z, { onLog: Me(m) })
                  ),
                B.createElement(
                  K.G,
                  {
                    className: ae,
                    href: globalThis
                      .getFilterXss()
                      .filterUrl(
                        se ? "".concat(Ze, "?domain=live.ixigua.com") : Ze,
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                    target: se || de ? "_self" : "_blank",
                    rel: "noopener noreferrer",
                    onClick: function () {
                      (0, w.b5)({ category_name: i });
                    },
                  },
                  B.createElement(
                    "span",
                    { className: ie, "data-e2e": "category-more" },
                    "\u67e5\u770b\u66f4\u591a"
                  ),
                  B.createElement(G.Z, null)
                )
              )
            : null,
          B.createElement(
            "div",
            { className: re, "data-e2e": "livelist-container" },
            Se || 0 === Ne.length
              ? p()((t = (0, r.Z)(Array(2 * pe)))).call(t, function (e, t) {
                  return B.createElement(J, { className: le, key: t });
                })
              : p()((n = v()(Ne).call(Ne, 0, 2 * pe))).call(n, function (e) {
                  return e
                    ? B.createElement(W.Z, {
                        onClick: Ve(e),
                        key: null == e ? void 0 : e.room.id_str,
                        className: le,
                        hideCover: Q,
                        focus: (null == e ? void 0 : e.room.id_str) === ke,
                        hideTag: Oe || _e !== h,
                        onLog: Ye(e),
                        onMouseEnter: function () {
                          return we(null == e ? void 0 : e.room.id_str);
                        },
                        onMouseLeave: Fe,
                        data: e,
                        target: z,
                        onCardFocus: I,
                        logParams: l()(
                          Ge(e),
                          C()(x.K).call(x.K, function (e) {
                            return "string" == typeof e;
                          })
                        ),
                        tabAbtest: de,
                      })
                    : null;
                })
          )
        );
      });
    },
    89465: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r = n(44503),
        o = n(24142),
        a = n(85131);
      const i = (0, o.Pi)(function (e) {
        var t = e.onLog,
          n = r.useRef(!1),
          o = (0, a.Z)().userStore.userInfo;
        return (
          r.useEffect(
            function () {
              o.isReady && !n.current && ((n.current = !0), t && t());
            },
            [t, o]
          ),
          null
        );
      });
    },
    36790: (e, t, n) => {
      n.d(t, { Z: () => k });
      var r,
        o = n(30906),
        a = n(65146),
        i = n(32781),
        l = n(44503);
      function c() {
        return (
          (c = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          c.apply(this, arguments)
        );
      }
      const s = function (e) {
          return l.createElement(
            "svg",
            c(
              {
                width: 67,
                height: 76,
                viewBox: "0 0 67 76",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
              },
              e
            ),
            r ||
              (r = l.createElement("path", {
                opacity: 0.04,
                d: "M56.99 15.235c-4.138-2.67-7.126-6.94-8.059-11.918A17.984 17.984 0 0148.62 0H35.411l-.023 52.361c-.22 5.863-5.1 10.57-11.08 10.57-1.858 0-3.609-.46-5.15-1.262-3.533-1.841-5.954-5.505-5.954-9.722 0-6.055 4.983-10.984 11.104-10.984 1.142 0 2.238.189 3.277.509V28.135a24.722 24.722 0 00-3.277-.234C10.905 27.901 0 38.69 0 51.951c0 8.137 4.11 15.336 10.38 19.689A24.353 24.353 0 0024.311 76c13.407 0 24.312-10.788 24.312-24.05V25.398A31.637 31.637 0 0067 31.241V18.176c-3.692 0-7.13-1.085-10.01-2.941z",
                fill: "#fff",
                fillOpacity: 0.8,
              }))
          );
        },
        u = "Yucrzt1P",
        d = "hEaXtdoW",
        m = "FqCNyt2u",
        v = "nlLJdYzT",
        f = "_KMdZD2s",
        _ = "dQStdCKJ",
        E = "qY3476XJ",
        p = "OQDhA31n",
        h = "qQTHepPa",
        g = "DhoUHXMu",
        N = "t9XhXaKM",
        T = "mhGVULux",
        I = "KcaCVggA",
        y = "dhvSypjI";
      var S = n(70343),
        C = n(79705),
        b = n.n(C),
        A = n(82937),
        O = n(7653),
        L = n(89465),
        R = function (e) {
          var t,
            n,
            r,
            o = e.imageSrc,
            c = e.title,
            C = e.fit,
            R = void 0 === C ? "cover" : C,
            k = e.mask,
            w = e.leftMarker,
            P = e.rightMarker,
            M = e.className,
            Z = e.hideMarkers,
            U = void 0 !== Z && Z,
            D = e.onMouseLeave,
            x = e.onMouseEnter,
            F = e.onClick,
            K = e.maskZIndex,
            G = void 0 === K ? 2 : K,
            V = e.alt,
            Y = e.animation,
            B = e.hideShadow,
            H = e.forwardRef,
            W = e.coverId,
            j = e.onLog,
            q = e.lazyLoad,
            z = void 0 === q || q,
            Q = e.hoverImg,
            X = l.useState(!1),
            J = (0, i.Z)(X, 2),
            $ = J[0],
            ee = J[1],
            te = l.useRef(null);
          l.useEffect(function () {
            te.current && te.current.complete && ee(!0);
          }, []);
          var ne = l.useCallback(
            function () {
              $ || ee(!0);
            },
            [$]
          );
          return l.createElement(
            "div",
            {
              id: W,
              ref: H,
              title: "",
              className: b()(u, M),
              onMouseEnter: x,
              onMouseLeave: D,
              onClick: F,
            },
            k &&
              l.createElement("div", { style: { zIndex: G }, className: f }, k),
            l.createElement("div", { className: d }, l.createElement(s, null)),
            l.createElement(
              S.ZP,
              {
                scrollContainer: "#".concat(A.IS),
                height: "100%",
                offset: 200,
                once: !0,
              },
              l.createElement(L.Z, { onLog: j })
            ),
            z
              ? l.createElement(
                  S.ZP,
                  {
                    scrollContainer: "#".concat(A.IS),
                    height: "100%",
                    offset: O.e,
                    once: !0,
                  },
                  l.createElement("img", {
                    alt: V,
                    ref: te,
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(o, null, {
                        logType: "js.href/src",
                        reportOnly: !1,
                      }),
                    onLoad: ne,
                    className: b()(
                      _,
                      ((t = {}), (0, a.Z)(t, p, !$), (0, a.Z)(t, E, Q), t)
                    ),
                    style: { objectFit: R },
                  })
                )
              : l.createElement("img", {
                  alt: V,
                  ref: te,
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(o, null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                  onLoad: ne,
                  className: b()(
                    _,
                    ((n = {}), (0, a.Z)(n, p, !$), (0, a.Z)(n, E, Q), n)
                  ),
                  style: { objectFit: R },
                }),
            !B &&
              l.createElement("div", {
                className: b()(m, (0, a.Z)({}, v, !$)),
              }),
            l.createElement(
              "div",
              {
                className: b()(
                  h,
                  ((r = {}),
                  (0, a.Z)(r, I, Y && U),
                  (0, a.Z)(r, y, Y && !U),
                  (0, a.Z)(r, T, !Y && U),
                  r)
                ),
              },
              void 0 !== c && l.createElement("div", { className: g }, c),
              l.createElement("div", { className: N }, w, P)
            )
          );
        };
      const k = l.forwardRef(function (e, t) {
        return l.createElement(
          R,
          (0, o.Z)((0, o.Z)({}, e), {}, { forwardRef: t })
        );
      });
    },
    43153: (e, t, n) => {
      n.d(t, { Z: () => O });
      var r = n(30906),
        o = n(32781),
        a = n(1818),
        i = n.n(a),
        l = n(56402),
        c = n.n(l),
        s = n(94610),
        u = n.n(s),
        d = n(84578),
        m = n.n(d),
        v = n(19268),
        f = n(44503),
        _ = n(39781),
        E = n(24142);
      const p = "OzY6sPq3",
        h = "h4OQhKYH",
        g = "tIMOGhsh",
        N = "gHGba9rI",
        T = "UD_3oNGM",
        I = "k620HMXi";
      var y = n(7201),
        S = n(830),
        C = n(2942),
        b = n(43251),
        A = n(85131);
      const O = (0, E.Pi)(function (e) {
        var t,
          n,
          a = e.rooms,
          l = void 0 === a ? [] : a,
          s = (function () {
            var e = f.useState(3),
              t = (0, o.Z)(e, 2),
              n = t[0],
              r = t[1],
              a = f.useCallback(function (e) {
                return e <= 1140 ? 2 : 3;
              }, []),
              i = f.useCallback(
                function () {
                  var e = a(window.innerWidth);
                  r(e);
                },
                [a]
              );
            return (
              f.useEffect(
                function () {
                  return (
                    i(),
                    window.addEventListener("resize", i),
                    function () {
                      window.removeEventListener("resize", i);
                    }
                  );
                },
                [i]
              ),
              { columnsNum: n }
            );
          })(),
          d = s.columnsNum,
          E = f.useState(l),
          O = (0, o.Z)(E, 2),
          L = O[0],
          R = O[1],
          k = (0, v.I)(),
          w = k.hoverId,
          P = k.onCardMouseEnter,
          M = k.onCardMouseLeave,
          Z = (0, A.Z)(),
          U = Z.userStore.userInfo,
          D = Z.roomStore.roomInfo,
          x = (0, b.Z)(),
          F = x.renderLivePlayer,
          K = x.onRoomBlur,
          G = x.onRoomFocus,
          V = x.isPlay;
        f.useEffect(
          function () {
            R(l);
          },
          [l]
        );
        var Y = f.useCallback(
            function () {
              M(), K && K();
            },
            [K, M]
          ),
          B = f.useCallback(
            function (e) {
              var t = (0, y.v6)({ id_str: c()(e, "room.id_str", ""), type: 1 }),
                n = (0, y.v6)(c()(D, "partition_road_map.partition")),
                o = (0, S.bz)(t, n),
                a = (0, S.bz)(t, n),
                i = S.iT.WEB_CLOSED_PAGE;
              return (0, r.Z)(
                {
                  anchor_id: c()(e, "room.owner.id_str", ""),
                  room_id: c()(e, "room.id_str", ""),
                  web_live_page: o,
                  web_live_tab: a,
                  enter_from_merge: i,
                  enter_method: S.QX.CARD,
                  game_name: c()(e, "tag_name", ""),
                  live_type: "game",
                  is_aweme_tied: U.id_str ? 1 : 0,
                  game_live_source: "game_web",
                  more_detail: "",
                  request_id: e.requestId,
                },
                (0, S.Ne)(e)
              );
            },
            [U, D]
          ),
          H = f.useCallback(
            function (e) {
              return function () {
                var t = B(e);
                (0, S.JW)(t);
              };
            },
            [B]
          ),
          W = f.useCallback(
            function (e) {
              return function () {
                var t = B(e);
                (0, S.bi)(t), Y();
              };
            },
            [Y, B]
          ),
          j =
            (null === (t = D.room) || void 0 === t
              ? void 0
              : t.live_room_mode) === C.ke.MEDIA;
        return f.createElement(
          f.Fragment,
          null,
          f.createElement(
            "div",
            { className: p },
            f.createElement("span", { className: g }),
            f.createElement(
              "div",
              { className: h },
              "\u76f4\u64ad\u5df2\u7ed3\u675f",
              j ? "" : "\uff0c\u731c\u4f60\u559c\u6b22"
            ),
            f.createElement("span", { className: N })
          ),
          !j &&
            f.createElement(
              "div",
              { className: T },
              F(),
              u()((n = m()(L).call(L, 0, d))).call(n, function (e) {
                return f.createElement(_.Z, {
                  data: e,
                  key: e.room.id_str,
                  className: I,
                  hideCover: V,
                  hideTag: !1,
                  focus: e.room.id_str === w,
                  onCardFocus: G,
                  onMouseEnter: function () {
                    return P(e.room.id_str);
                  },
                  onMouseLeave: Y,
                  onClick: W(e),
                  target: "_self",
                  isRecommendOnEnd: !0,
                  onLog: H(e),
                  logParams: i()(B(e), [
                    "enter_from_merge",
                    "enter_method",
                    "game_name",
                    "ug_source",
                    "web_live_page",
                    "web_live_tab",
                    "more_detail",
                  ]),
                });
              })
            )
        );
      });
    },
    36631: (e, t, n) => {
      n.d(t, { R: () => G, Z: () => V });
      var r = n(64408),
        o = n(32781),
        a = n(19478),
        i = n.n(a),
        l = n(94610),
        c = n.n(l),
        s = n(5594),
        u = n.n(s),
        d = n(42327),
        m = n(44503),
        v = n(65146),
        f = n(79705),
        _ = n.n(f);
      const E = "Lk3QG7P3",
        p = "THgrs0JK",
        h = "fwaNa7zq",
        g = "xw8n4jWI";
      var N = n(1818),
        T = n.n(N),
        I = n(71912),
        y = n.n(I),
        S = n(81711),
        C = n.n(S),
        b = n(57617),
        A = n.n(b),
        O = [
          "borderBottomWidth",
          "borderLeftWidth",
          "borderRightWidth",
          "borderTopWidth",
          "boxSizing",
          "fontFamily",
          "fontSize",
          "fontStyle",
          "fontWeight",
          "letterSpacing",
          "lineHeight",
          "paddingBottom",
          "paddingLeft",
          "paddingRight",
          "paddingTop",
          "tabSize",
          "textIndent",
          "textRendering",
          "textTransform",
          "width",
        ],
        L = null,
        R = {
          "min-height": "0",
          "max-height": "none",
          height: "0",
          visibility: "hidden",
          overflow: "hidden",
          position: "absolute",
          "z-index": "-1000",
          top: "0",
          right: "0",
        },
        k = function (e) {
          var t;
          C()((t = A()(R))).call(t, function (t) {
            e.style.setProperty(t, R[t], "important");
          });
        },
        w = function (e, t) {
          var n = e.scrollHeight;
          return "border-box" === t.sizingStyle.boxSizing
            ? n + t.borderSize
            : n - t.paddingSize;
        };
      const P = function (e) {
        var t = e.notResize,
          n = void 0 !== t && t,
          r = e.value,
          a = e.onChange,
          i = e.placeholder,
          l = e.maxLength,
          c = e.width,
          s = e.className,
          u = e.minHeight,
          d = m.useRef(null),
          f = m.useState(),
          N = (0, o.Z)(f, 2),
          I = N[0],
          S = N[1],
          b = m.useCallback(
            function () {
              var e = d.current;
              if (e) {
                var t = (function (e) {
                  var t = window.getComputedStyle(e);
                  if (null === t) return null;
                  var n = T()(t, O);
                  return "" === n.boxSizing
                    ? null
                    : {
                        sizingStyle: n,
                        paddingSize: y()(n.paddingBottom) + y()(n.paddingTop),
                        borderSize:
                          y()(n.borderBottomWidth) + y()(n.borderTopWidth),
                      };
                })(e);
                if (!t) return;
                var n = (function (e, t) {
                  var n,
                    r =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1,
                    o =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 1 / 0;
                  L ||
                    ((L = document.createElement("textarea")).setAttribute(
                      "tab-index",
                      "-1"
                    ),
                    L.setAttribute("aria-hidden", "true"),
                    k(L)),
                    null === L.parentNode && document.body.appendChild(L);
                  var a = e.paddingSize,
                    i = e.borderSize,
                    l = e.sizingStyle,
                    c = l.boxSizing;
                  C()((n = A()(l))).call(n, function (e) {
                    L.style[e] = l[e];
                  }),
                    k(L),
                    (L.value = t);
                  var s = w(L, e);
                  L.value = "x";
                  var u = w(L, e) - a - i,
                    d = u * r;
                  "border-box" === c && (d = d + a + i), (s = Math.max(d, s));
                  var m = u * o;
                  return "border-box" === c && (m = m + a + i), Math.min(m, s);
                })(t, r);
                n !== I && S(n);
              }
            },
            [r, I]
          );
        m.useEffect(
          function () {
            n || b();
          },
          [r]
        );
        var R = m.useCallback(
          function (e) {
            var t = e.target.value;
            a && a(t);
          },
          [a]
        );
        return m.createElement(
          "div",
          { style: { width: c }, className: _()(E, s) },
          m.createElement("textarea", {
            maxLength: l,
            value: r,
            ref: d,
            style: { minHeight: u, height: I },
            onChange: R,
            placeholder: i,
            className: p,
          }),
          void 0 !== l &&
            m.createElement(
              "div",
              { className: _()(h, (0, v.Z)({}, g, r.length > l)) },
              r.length,
              "/",
              l
            )
        );
      };
      var M = n(18500);
      const Z = "WR3v5DPJ",
        U = "Am_a3L4f",
        D = "LgxlMI97",
        x = "kdqdMu6q",
        F = "rMjHI6Ki",
        K = "f28qXrGb";
      var G;
      !(function (e) {
        (e[(e.ROOM = 0)] = "ROOM"), (e[(e.COMMENT = 1)] = "COMMENT");
      })(G || (G = {}));
      const V = function (e) {
        var t,
          n,
          a,
          l = e.type,
          s = e.reasons,
          v = e.onSubmit,
          f = m.useState(""),
          _ = (0, o.Z)(f, 2),
          E = _[0],
          p = _[1],
          h = m.useState(""),
          g = (0, o.Z)(h, 2),
          N = g[0],
          T = g[1],
          I = m.useMemo(
            function () {
              for (var e = {}, t = 0; t < s.length; t++) {
                var n = s[t];
                e[t % 3] ? e[t % 3].push(n) : (e[t % 3] = [n]);
              }
              return e;
            },
            [s]
          ),
          y = m.useCallback(function (e) {
            T(e);
          }, []),
          S = m.useCallback(
            i()(
              (0, r.Z)(
                u().mark(function e() {
                  var t, n;
                  return u().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (N) {
                              e.next = 2;
                              break;
                            }
                            return e.abrupt("return");
                          case 2:
                            if (((e.prev = 2), G.ROOM !== l)) {
                              e.next = 9;
                              break;
                            }
                            return (
                              (t = {
                                reason: N,
                                reportDesc: E,
                                reportRecordExtra: E,
                              }),
                              (e.next = 7),
                              v(t)
                            );
                          case 7:
                            e.next = 12;
                            break;
                          case 9:
                            return (
                              (n = { desc: E, reason: N }), (e.next = 12), v(n)
                            );
                          case 12:
                            e.next = 16;
                            break;
                          case 14:
                            (e.prev = 14), (e.t0 = e.catch(2));
                          case 16:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[2, 14]]
                  );
                })
              ),
              300
            ),
            [E, N, v]
          );
        return m.createElement(
          "div",
          { className: Z },
          m.createElement(
            "div",
            { className: x },
            m.createElement(
              "div",
              { className: F },
              c()((t = I[0] || [])).call(t, function (e) {
                return m.createElement(M.Z, {
                  key: e.value,
                  selected: N === e.value,
                  label: e.label,
                  value: e.value,
                  className: K,
                  onClick: y,
                });
              })
            ),
            m.createElement(
              "div",
              { className: F },
              c()((n = I[1] || [])).call(n, function (e) {
                return m.createElement(M.Z, {
                  key: e.value,
                  selected: N === e.value,
                  label: e.label,
                  value: e.value,
                  className: K,
                  onClick: y,
                });
              })
            ),
            m.createElement(
              "div",
              { className: F },
              c()((a = I[2] || [])).call(a, function (e) {
                return m.createElement(M.Z, {
                  key: e.value,
                  selected: N === e.value,
                  label: e.label,
                  value: e.value,
                  className: K,
                  onClick: y,
                });
              })
            )
          ),
          m.createElement(P, {
            notResize: !0,
            maxLength: 140,
            placeholder:
              "\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u4e3e\u62a5\u539f\u56e0\uff0c\u4fbf\u4e8e\u5e73\u53f0\u5224\u65ad\u8fdd\u89c4\u60c5\u51b5",
            minHeight: 75,
            value: E,
            onChange: p,
            className: U,
          }),
          m.createElement(
            d.zx,
            { size: "large", className: D, onClick: S, disabled: !N },
            "\u63d0\u4ea4"
          )
        );
      };
    },
    72095: (e, t, n) => {
      n.d(t, { F: () => L });
      var r = n(30906),
        o = n(64408),
        a = n(32781),
        i = n(56402),
        l = n.n(i),
        c = n(5594),
        s = n.n(c),
        u = n(59440),
        d = n.n(u),
        m = n(94610),
        v = n.n(m),
        f = n(44503),
        _ = n(9),
        E = n(75409),
        p = n(36631),
        h = n(10790),
        g = n(2857),
        N = n(67201),
        T = (function () {
          var e = (0, o.Z)(
            s().mark(function e(t) {
              var n, r, o, a;
              return s().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.roomId),
                        (r = t.currentRoomId),
                        (e.next = 3),
                        g.Z.get("/webcast/review/report_user_reason/", {
                          headers: {
                            "Content-type": "application/x-www-form-urlencoded",
                          },
                          params: { room_id: n, from: 1, current_room_id: r },
                        })
                      );
                    case 3:
                      return (o = e.sent), (a = o.data), e.abrupt("return", a);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function (t) {
            return e.apply(this, arguments);
          };
        })(),
        I = (function () {
          var e = (0, o.Z)(
            s().mark(function e(t) {
              var n, r, o, a, i, l, c, u, d;
              return s().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.targetRoomId),
                        (r = t.reason),
                        (o = t.reportScene),
                        (a = void 0 === o ? "" : o),
                        (i = t.reportRecordExtra),
                        (l = t.reportDesc),
                        (c = t.secTargetAnchorId),
                        (e.next = 3),
                        g.Z.post(
                          "/webcast/user/report/commit/",
                          (0, N.stringify)({
                            target_room_id: n,
                            reason: r,
                            report_record_extra: i,
                            report_desc: l,
                            sec_target_anchor_id: c,
                            report_scene: a,
                          }),
                          {
                            headers: {
                              "Content-Type":
                                "application/x-www-form-urlencoded",
                            },
                          }
                        )
                      );
                    case 3:
                      return (u = e.sent), (d = u.data), e.abrupt("return", d);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function (t) {
            return e.apply(this, arguments);
          };
        })(),
        y = (function () {
          var e = (0, o.Z)(
            s().mark(function e(t) {
              var n, r, o;
              return s().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.roomId),
                        (e.next = 3),
                        g.Z.get("/webcast/room/get_report_chat_reasons/", {
                          params: { room_id: n },
                        })
                      );
                    case 3:
                      return (r = e.sent), (o = r.data), e.abrupt("return", o);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function (t) {
            return e.apply(this, arguments);
          };
        })(),
        S = (function () {
          var e = (0, o.Z)(
            s().mark(function e(t) {
              var n, r, o, a, i, l, c, u, d, m;
              return s().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.roomId),
                        (r = t.reason),
                        (o = t.chatType),
                        (a = t.msgId),
                        (i = t.secReportedUserId),
                        (l = t.comment),
                        (c = t.desc),
                        (u = t.webcast_uid),
                        (e.next = 3),
                        g.Z.post(
                          "/webcast/room/report_chat/",
                          (0, N.stringify)({
                            room_id: n,
                            serial_id: r,
                            chat_type: o,
                            msg_id: a,
                            sec_reported_user_id: i,
                            content: l,
                            description: c,
                            sec_reported_webcast_user_id: u,
                          }),
                          {
                            headers: {
                              "Content-Type":
                                "application/x-www-form-urlencoded",
                            },
                          }
                        )
                      );
                    case 3:
                      return (d = e.sent), (m = d.data), e.abrupt("return", m);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function (t) {
            return e.apply(this, arguments);
          };
        })(),
        C = n(830),
        b = n(54510),
        A = n(46609),
        O = function (e) {
          var t = e.type,
            n = e.param,
            i = e.submitParam,
            c = e.onClose,
            u = (0, f.useState)([]),
            m = (0, a.Z)(u, 2),
            _ = m[0],
            g = m[1],
            N = (0, f.useMemo)(
              function () {
                return p.R.ROOM === t
                  ? "\u4e3e\u62a5\u672c\u573a\u76f4\u64ad"
                  : "\u8bc4\u8bba\u4e3e\u62a5";
              },
              [t]
            ),
            O = (0, f.useCallback)(
              (function () {
                var e = (0, o.Z)(
                  s().mark(function e(n) {
                    var o, a, u, m, v, f, g;
                    return s().wrap(
                      function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (
                                ((o =
                                  p.R.ROOM === t
                                    ? "\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u6210\u529f"
                                    : "\u4e3e\u62a5\u8bc4\u8bba\u6210\u529f"),
                                (a = document.body),
                                p.R.ROOM === t &&
                                  (u = E.ZP.findDom(
                                    document.body,
                                    ".xgplayer"
                                  )) &&
                                  (a = u),
                                (e.prev = 3),
                                p.R.ROOM !== t)
                              ) {
                                e.next = 11;
                                break;
                              }
                              return (
                                (0, C.YI)({
                                  reason: d()(_).call(_, function (e) {
                                    return e.value === n.reason;
                                  }).label,
                                  detail: n.reportDesc,
                                }),
                                (e.next = 8),
                                I((0, r.Z)((0, r.Z)({}, n), i))
                              );
                            case 8:
                              (m = e.sent), (e.next = 15);
                              break;
                            case 11:
                              return (
                                (0, C.yb)({
                                  toUserId: i.secReportedUserId,
                                  webcast_to_user_id:
                                    null == i ? void 0 : i.webcast_uid,
                                  reason: d()(_).call(_, function (e) {
                                    return e.value === n.reason;
                                  }).label,
                                  detail: n.desc,
                                }),
                                (e.next = 14),
                                S((0, r.Z)((0, r.Z)({}, n), i))
                              );
                            case 14:
                              m = e.sent;
                            case 15:
                              return (
                                (f = (v = m).status_code),
                                (g = v.data),
                                (o = f
                                  ? l()(
                                      g,
                                      "prompts",
                                      p.R.ROOM === t
                                        ? "\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u5931\u8d25"
                                        : "\u4e3e\u62a5\u8bc4\u8bba\u5931\u8d25"
                                    )
                                  : "\u63d0\u4ea4\u6210\u529f"),
                                (e.next = 19),
                                c()
                              );
                            case 19:
                              e.next = 24;
                              break;
                            case 21:
                              (e.prev = 21),
                                (e.t0 = e.catch(3)),
                                (o =
                                  p.R.ROOM === t
                                    ? "\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u5931\u8d25"
                                    : "\u4e3e\u62a5\u8bc4\u8bba\u5931\u8d25");
                            case 24:
                              return (
                                (e.prev = 24), h.F.info(o, a), e.finish(24)
                              );
                            case 27:
                            case "end":
                              return e.stop();
                          }
                      },
                      e,
                      null,
                      [[3, 21, 24, 27]]
                    );
                  })
                );
                return function (t) {
                  return e.apply(this, arguments);
                };
              })(),
              [t, c, _, i]
            );
          return (
            (0, f.useEffect)(
              function () {
                (0, o.Z)(
                  s().mark(function e() {
                    var r, o, a, i, c, u, d;
                    return s().wrap(
                      function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (((e.prev = 0), (r = []), p.R.ROOM !== t)) {
                                e.next = 10;
                                break;
                              }
                              return (e.next = 5), T(n);
                            case 5:
                              (o = e.sent),
                                (a = o.data),
                                (r = v()(a).call(a, function (e) {
                                  return {
                                    label: e.reason_str,
                                    value: e.reason,
                                  };
                                })),
                                (e.next = 15);
                              break;
                            case 10:
                              return (e.next = 12), y(n);
                            case 12:
                              (c = e.sent),
                                (u = c.data),
                                v()((i = l()(u, "report_reasons", []))).call(
                                  i,
                                  function (e) {
                                    r.push({
                                      label: e.reason,
                                      value: e.serial_id,
                                    });
                                  }
                                );
                            case 15:
                              g(r), (e.next = 24);
                              break;
                            case 18:
                              (e.prev = 18),
                                (e.t0 = e.catch(0)),
                                (d = document.body),
                                p.R.ROOM === t &&
                                  (d = E.ZP.findDom(
                                    document.body,
                                    ".xgplayer"
                                  )),
                                h.F.info(
                                  "\u7f51\u7edc\u51fa\u73b0\u95ee\u9898, \u8bf7\u7a0d\u540e\u91cd\u8bd5",
                                  d
                                ),
                                b.k.error(
                                  "\u83b7\u53d6\u4e3e\u62a5\u4fe1\u606f\u5f02\u5e38: ",
                                  e.t0
                                );
                            case 24:
                            case "end":
                              return e.stop();
                          }
                      },
                      e,
                      null,
                      [[0, 18]]
                    );
                  })
                )();
              },
              [t]
            ),
            f.createElement(
              A.Z,
              { title: N, visible: !0, onCancel: c },
              f.createElement(p.Z, { type: t, onSubmit: O, reasons: _ })
            )
          );
        },
        L = function (e) {
          var t = e.type,
            n = e.param,
            r = e.submitParam,
            a = e.callback,
            i = E.ZP.findDom(document.body, ".living-modal"),
            l = document.body;
          i ||
            ((i = document.createElement("div")),
            E.ZP.addClass(i, "living-modal"),
            l.appendChild(i));
          var c = function () {
              (l.style.overflow = ""),
                E.ZP.removeClass(i, "living-modal"),
                _.unmountComponentAtNode(i),
                l.removeChild(i);
            },
            u = (function () {
              var e = (0, o.Z)(
                s().mark(function e() {
                  return s().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (!a) {
                            e.next = 3;
                            break;
                          }
                          return (e.next = 3), a();
                        case 3:
                          c();
                        case 4:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })();
          return (
            (l.style.overflow = "hidden"),
            _.render(
              f.createElement(O, {
                type: t,
                param: n,
                submitParam: r,
                onClose: u,
              }),
              i
            ),
            c
          );
        };
    },
    91433: (e, t, n) => {
      n.d(t, { Z: () => Ge });
      var r = n(65146),
        o = n(30906),
        a = n(32781),
        i = n(67161),
        l = n(56402),
        c = n.n(l),
        s = n(94610),
        u = n.n(s),
        d = n(59440),
        m = n.n(d),
        v = n(92637),
        f = n.n(v),
        _ = n(10081),
        E = n.n(_),
        p = n(21805),
        h = n.n(p),
        g = n(92012),
        N = n.n(g),
        T = n(78265),
        I = n(50396),
        y = n(830),
        S = n(2942),
        C = n(85388),
        b = n(81099),
        A = n(7733),
        O = n(63786),
        L = n(68196),
        R = n(32932),
        k = n(82272),
        w = n(23640),
        P = n(9778),
        M = n(43153),
        Z = n(46778),
        U = n(44477),
        D = n(99520),
        x = n(57120),
        F = n(13958),
        K = n(85131),
        G = n(63546),
        V = n(86393),
        Y = n(10115),
        B = n(65414),
        H = n(42969),
        W = n(12053),
        j = n(47983),
        q = n(84544),
        z = n(49066),
        Q = n(806),
        X = n(80493),
        J = n(47804),
        $ = n(98038),
        ee = n(3319),
        te = n(99003),
        ne = n(76994),
        re = n(91204),
        oe = n(54819),
        ae = n(72842),
        ie = n(74641),
        le = n(57385),
        ce = n(41755),
        se = n(52103),
        ue = n(18837),
        de = n(7348),
        me = n(32183),
        ve = n(79008),
        fe = n(23389),
        _e = n(7702),
        Ee = n(27860),
        pe = n(52252),
        he = n(78867),
        ge = n(24260),
        Ne = n(79705),
        Te = n.n(Ne),
        Ie = n(24142),
        ye = n(44503),
        Se = n(27301),
        Ce = n(85235),
        be = n(7075),
        Ae = [
          "onPlay",
          "isTheaterOn",
          "onTheaterSwitch",
          "isLogPlay",
          "onSend",
          "onArrowClick",
          "isFoldChatroom",
          "isDanmakuFeatureOn",
          "playerCoverText",
          "isPause",
          "refreshPlayer",
          "recommendOnEndRoom",
          "abTestData",
          "miburi",
          "livingRoomErrorStatus",
          "isVerifyed",
          "immersive",
          "metro",
          "isFixedChat",
        ],
        Oe = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "DanmakuPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(7768).then(n.bind(n, 89482));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 89482;
            },
          },
          { ssr: !1 }
        ),
        Le = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "AudioRoomPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(1017), n.e(7287)]).then(n.bind(n, 90295));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 90295;
            },
          },
          { ssr: !1 }
        ),
        Re = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "RTCLayerPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(5813), n.e(3697)]).then(n.bind(n, 62781));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 62781;
            },
          },
          { ssr: !1 }
        ),
        ke = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "VideoRoomPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(1017), n.e(1289)]).then(n.bind(n, 17430));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 17430;
            },
          },
          { ssr: !1 }
        ),
        we = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "MiburiPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(5990).then(n.bind(n, 81224));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 81224;
            },
          },
          { ssr: !1 }
        ),
        Pe = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "QualitySwitchPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(3007).then(n.bind(n, 1809));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 1809;
            },
          },
          { ssr: !1 }
        ),
        Me = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "GiftBarPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(8275).then(n.bind(n, 62738));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 62738;
            },
          },
          { ssr: !1 }
        ),
        Ze = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "GiftSwitchPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(8078).then(n.bind(n, 93937));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 93937;
            },
          },
          { ssr: !1 }
        ),
        Ue = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "EffectSwitchPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(6420).then(n.bind(n, 23053));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 23053;
            },
          },
          { ssr: !1 }
        ),
        De = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "GiftTrayPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(8722).then(n.bind(n, 47955));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 47955;
            },
          },
          { ssr: !1 }
        ),
        xe = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "GiftEffectPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(6247), n.e(4365)]).then(n.bind(n, 18398));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 18398;
            },
          },
          { ssr: !1 }
        ),
        Fe = (0, ge.default)(
          {
            resolved: {},
            chunkName: function () {
              return "PKViewPlugin";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return n.e(7044).then(n.bind(n, 67285));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 67285;
            },
          },
          { ssr: !1 }
        ),
        Ke = function (e) {
          var t,
            n,
            l,
            s,
            d,
            v,
            _,
            p,
            g,
            le,
            ge,
            Ne,
            Ie = e.onPlay,
            Ke = e.isTheaterOn,
            Ge = e.onTheaterSwitch,
            Ve = e.isLogPlay,
            Ye = e.onSend,
            Be = e.onArrowClick,
            He = e.isFoldChatroom,
            We = e.isDanmakuFeatureOn,
            je = e.playerCoverText,
            qe = e.isPause,
            ze = e.refreshPlayer,
            Qe = e.recommendOnEndRoom,
            Xe = e.abTestData,
            Je = e.miburi,
            $e = void 0 !== Je && Je,
            et = e.livingRoomErrorStatus,
            tt = e.isVerifyed,
            nt = e.immersive,
            rt = e.metro,
            ot = e.isFixedChat,
            at = (0, i.Z)(e, Ae),
            it = (0, K.Z)(),
            lt = it.userStore,
            ct = lt.userInfo,
            st = lt.odin,
            ut = lt.setPlayerUserHandlePause,
            dt = lt.headerUserInfo,
            mt = it.roomStore,
            vt = mt.roomInfo,
            ft = mt.forceEnableH265,
            _t = mt.setLiveStatus,
            Et = mt.isUgcLive,
            pt = mt.isGameHiddle,
            ht = mt.setGameHiddle,
            gt = it.linkmicStore,
            Nt = gt.linkRoomType,
            Tt = gt.linkRoomTypeHooks,
            It = gt.linkStatus,
            yt = gt.scene,
            St = gt.guestBattleInfo,
            Ct = it.giftStore,
            bt = Ct.giftStatus,
            At = Ct.supportedGiftPages,
            Ot = Ct.giftMessages,
            Lt = Ct.balance,
            Rt = Ct.effectSwitchStatus,
            kt = Ct.setEffectSwitchStatus,
            wt = it.appStore.isSpider,
            Pt = it.pkStore.pkStatus,
            Mt = it.audienceStore.audiencePanelStatus,
            Zt = it.abStore.liveStartPlay,
            Ut = it.layoutStore.disableUnLoginFilter,
            Dt = (0, ce.j)().liveHighClientH265,
            xt = (0, G.Z)(),
            Ft = c()(vt, "room.status"),
            Kt = c()(vt, "room.live_room_mode"),
            Gt = c()(vt, "room.id_str"),
            Vt = c()(vt, "web_rid"),
            Yt = c()(vt, "room.toolbar_data"),
            Bt = (0, ye.useRef)(),
            Ht = (0, ye.useState)(!1),
            Wt = (0, a.Z)(Ht, 2),
            jt = Wt[0],
            qt = Wt[1],
            zt = (0, ye.useState)(!1),
            Qt = (0, a.Z)(zt, 2),
            Xt = Qt[0],
            Jt = Qt[1],
            $t = (0, ye.useState)(!1),
            en = (0, a.Z)($t, 2),
            tn = en[0],
            nn = en[1],
            rn = (0, ye.useState)(!1),
            on = (0, a.Z)(rn, 2),
            an = on[0],
            ln = on[1];
          (0, ye.useEffect)(
            function () {
              var e,
                t =
                  null === (e = Bt.current) || void 0 === e
                    ? void 0
                    : e.getPlayer();
              t &&
                (null == t ||
                  t.on("detectedblackscreen", function () {
                    ln(!0);
                  }));
            },
            [null == Bt ? void 0 : Bt.current]
          );
          var cn = (0, ye.useState)(0),
            sn = (0, a.Z)(cn, 2),
            un = sn[0],
            dn = sn[1],
            mn = (0, ye.useState)(!1),
            vn = (0, a.Z)(mn, 2),
            fn = vn[0],
            _n = vn[1],
            En = ye.useMemo(
              function () {
                return Xt ? y.wq.FULL_SCREEN : Ke ? y.wq.THEATER : y.wq.NORMAL;
              },
              [Xt, Ke]
            ),
            pn = ye.useMemo(
              function () {
                var e,
                  t = null;
                return (
                  pe.p() ||
                    !(0, se.i)() ||
                    an ||
                    (!ft && !Dt) ||
                    (t = c()(vt, "web_stream_url", null)),
                  null !== (e = t) && void 0 !== e && e.live_core_sdk_data
                    ? t
                    : c()(vt, "room.stream_url")
                );
              },
              [vt, ft, Dt]
            ),
            hn = ye.useMemo(
              function () {
                return Et
                  ? (0, be.MP)(vt)
                  : c()(pn, "live_core_sdk_data.pull_data", {});
              },
              [vt, Et, pn]
            ),
            gn = ye.useMemo(
              function () {
                var e;
                return u()((e = c()(hn, "options.qualities", []))).call(
                  e,
                  function (e) {
                    return e.sdk_key;
                  }
                );
              },
              [vt]
            ),
            Nn = (0, F.Z)(hn),
            Tn =
              (null === (t = vt.room) || void 0 === t
                ? void 0
                : t.live_room_mode) === S.ke.MEDIA,
            In = ye.useMemo(
              function () {
                return Et
                  ? JSON.parse(c()((0, be.MP)(vt), "stream_data", "null"))
                  : JSON.parse(c()(hn, "stream_data", "null"));
              },
              [vt, Et, pn]
            ),
            yn = (0, ce.j)().hdStreamNeedLogin,
            Sn = (0, ye.useMemo)(
              function () {
                return (0, be.vZ)(yn);
              },
              [yn]
            ),
            Cn = ye.useMemo(
              function () {
                var e, t, n, r, o, a;
                if (!pe.p()) {
                  var i = (0, $.O)(gn, null == In ? void 0 : In.data, !1),
                    l = localStorage.getItem("memory_quality") || "",
                    s = m()(i).call(i, function (e) {
                      return e === l;
                    }),
                    d = f()(i).call(i, function (e) {
                      return !Sn || -1 === E()(Sn).call(Sn, e);
                    });
                  if (
                    !Ut &&
                    !ct.id_str &&
                    s &&
                    ((Sn && -1 !== E()(Sn).call(Sn, l)) ||
                      (null != In &&
                        null !== (e = In.data) &&
                        void 0 !== e &&
                        null !== (t = e[l]) &&
                        void 0 !== t &&
                        null !== (n = t.main) &&
                        void 0 !== n &&
                        null !== (r = n.sdk_params) &&
                        void 0 !== r &&
                        null !== (o = r.resolution) &&
                        void 0 !== o &&
                        o.match("3840")))
                  ) {
                    var v,
                      _ =
                        -1 !== E()(i).call(i, J.t.sd)
                          ? J.t.sd
                          : null !== (v = null == d ? void 0 : d[0]) &&
                            void 0 !== v
                          ? v
                          : null == i
                          ? void 0
                          : i[0];
                    return (
                      localStorage.setItem(
                        "memory_quality",
                        null != _ ? _ : ""
                      ),
                      _
                    );
                  }
                  if (l && s) return l;
                  var p = c()(vt, "roomId"),
                    g =
                      null === (a = localStorage.getItem("room_clarity")) ||
                      void 0 === a
                        ? void 0
                        : a.split("_");
                  if (g) {
                    var N,
                      T,
                      I = u()((N = c()(hn, "options.qualities", []))).call(
                        N,
                        function (e) {
                          return e.sdk_key;
                        }
                      );
                    if (
                      (null == g ? void 0 : g[0]) === String(p) &&
                      h()(I).call(I, null == g ? void 0 : g[1])
                    )
                      return null !== (T = null == g ? void 0 : g[1]) &&
                        void 0 !== T
                        ? T
                        : "";
                  }
                  var y,
                    S = c()(hn, "options.default_quality.sdk_key", "");
                  return Sn && -1 !== E()(Sn).call(Sn, S)
                    ? -1 !== E()(i).call(i, J.t.sd)
                      ? J.t.sd
                      : null !== (y = null == d ? void 0 : d[0]) && void 0 !== y
                      ? y
                      : S
                    : S;
                }
              },
              [vt, pn, ct.id_str]
            ),
            bn = (0, ye.useMemo)(
              function () {
                if (In) {
                  var e,
                    t =
                      (null == In || null === (e = In.data[Cn]) || void 0 === e
                        ? void 0
                        : e.main) || {};
                  return (0, C.tq)()
                    ? (0, b.uC)(t.hls || "")
                    : (0, b.uC)(t.flv || "");
                }
                return "";
              },
              [In, Cn, pn]
            ),
            An = (0, ye.useMemo)(
              function () {
                return (
                  (null == Xe ? void 0 : Xe.liveMiburiPlugin) ===
                    he.LiveMiburiPluginABVal.Portrait ||
                  (null == Xe ? void 0 : Xe.liveMiburiPlugin) ===
                    he.LiveMiburiPluginABVal.Landscape
                );
              },
              [Xe]
            );
          ye.useEffect(function () {
            return (
              Q.Z.setCurrentRoom(vt, bn),
              Q.Z.startHeartDetect(),
              function () {
                Q.Z.stopHeartDetect();
              }
            );
          }, []);
          var On = ye.useCallback(
            function (e, t) {
              if (!ct.id_str && Bt.current) {
                if (Sn && -1 === E()(Sn).call(Sn, e))
                  return (
                    localStorage.setItem("memory_quality", null != e ? e : ""),
                    !0
                  );
                var n = Bt.current.getPlayer();
                return (
                  null == n || n.exitFullscreen(),
                  (0, A.p)().then(function (n) {
                    var r, o;
                    n({
                      success: function () {
                        var t;
                        localStorage.setItem(
                          "memory_quality",
                          null != e ? e : ""
                        ),
                          localStorage.setItem(
                            "room_clarity",
                            N()((t = "".concat(c()(vt, "roomId"), "_"))).call(
                              t,
                              e
                            )
                          ),
                          location.reload();
                      },
                      next: "https://".concat(
                        null === (r = window) ||
                          void 0 === r ||
                          null === (o = r.location) ||
                          void 0 === o
                          ? void 0
                          : o.host
                      ),
                      headerText:
                        t && -1 !== E()(t).call(t, "3840")
                          ? "\u767b\u5f55\u540e\u4e13\u4eab4K\u753b\u8d28"
                          : yn !== he.HDStreamNeedLogin.default &&
                            -1 !== E()(be.mx).call(be.mx, e)
                          ? "\u767b\u5f55\u540e\u7545\u4eab\u8d85\u9ad8\u6e05\u753b\u8d28"
                          : void 0,
                      enterMethod:
                        yn !== he.HDStreamNeedLogin.default &&
                        -1 !== E()(be.mx).call(be.mx, e)
                          ? "hd_live"
                          : "",
                    });
                  }),
                  !1
                );
              }
              return (
                localStorage.setItem("memory_quality", null != e ? e : ""), !0
              );
            },
            [ct, vt]
          );
          (0, ye.useEffect)(
            function () {
              var e = localStorage.getItem("memory_quality") || "",
                t = m()(gn).call(gn, function (t) {
                  return t === e;
                });
              !Ve.current &&
                null != ct &&
                ct.isReady &&
                ((0, y.Gh)(
                  (0, o.Z)(
                    {
                      anchor_id: c()(vt, "anchor.id_str", ""),
                      room_id: (null == vt ? void 0 : vt.roomId) || "",
                      muted: Bt.current.getPlayer().muted,
                      stream_type: xt,
                      definition: t ? e : Cn,
                      definition_set_type: t ? "manual" : "",
                    },
                    (0, y.$E)(vt)
                  )
                ),
                (Ve.current = !0));
            },
            [vt, ct, xt, Ve, Cn]
          ),
            (0, ye.useEffect)(function () {
              window.__LIVING_PLAYER__ = Bt.current;
            }, []),
            (0, ye.useEffect)(
              function () {
                En !== y.wq.THEATER || He
                  ? En === y.wq.THEATER && He
                    ? _t(S.zZ.WEB_FULL_NO_COMMENT)
                    : En === y.wq.FULL_SCREEN
                    ? _t(S.zZ.FULL)
                    : _t(S.zZ.NORMAL)
                  : _t(S.zZ.WEB_FULL);
              },
              [En, He]
            );
          var Ln = ye.useRef(!O.sk && (0, C.rC)());
          ye.useEffect(
            function () {
              var e,
                t =
                  null === (e = Bt.current) || void 0 === e
                    ? void 0
                    : e.getPlayer();
              t &&
                (It === ae.cK.LINKED
                  ? ((Ln.current = t.muted),
                    (t.muted = !0),
                    t.plugins.play.hide(),
                    t.plugins.volume.hide())
                  : It === ae.cK.NOT_LINK &&
                    ((t.muted = Ln.current),
                    t.plugins.play.show(),
                    t.plugins.volume.show()));
            },
            [It]
          ),
            ye.useEffect(
              function () {
                var e,
                  t =
                    null === (e = Bt.current) || void 0 === e
                      ? void 0
                      : e.getPlayer();
                t &&
                  je === L.kx.KICK_OUT &&
                  ((t.muted = !0),
                  t.plugins.play.hide(),
                  t.plugins.volume.hide());
              },
              [je]
            ),
            ye.useEffect(
              function () {
                var e,
                  t =
                    null === (e = Bt.current) || void 0 === e
                      ? void 0
                      : e.getPlayer();
                t &&
                  Ft === S.LV.END &&
                  (t.plugins.play.hide(), t.plugins.volume.hide());
              },
              [Ft]
            );
          var Rn = ye.useCallback(
              function () {
                if (
                  (Q.Z.setCurrentRoom(vt, bn),
                  Q.Z.setUrlAutoChange(!1),
                  Bt.current)
                ) {
                  var e = Bt.current.getPlayer();
                  Q.Z.setPlayer(e);
                }
                return Ft !== S.LV.END && Ft !== S.LV.PAUSE;
              },
              [vt, bn, Ft]
            ),
            kn = ye.useCallback(
              function () {
                if (Rn()) {
                  var e = c()(vt, "roomId");
                  Q.Z.handlePlaying(e);
                }
              },
              [vt, bn, Ft]
            ),
            wn = ye.useCallback(
              function () {
                if (Rn()) {
                  var e = c()(vt, "roomId");
                  Q.Z.handleWaiting(e);
                }
              },
              [vt, bn, Ft]
            ),
            Pn = ye.useCallback(
              function () {
                if (
                  (Ie && Ie(),
                  dn(function (e) {
                    return e + 1;
                  }),
                  fn ? (0, y.vc)({ event_page: "live_detail" }) : _n(!0),
                  Rn())
                ) {
                  var e = c()(vt, "roomId");
                  Q.Z.handlePlay(e);
                }
              },
              [vt, bn, Ft, fn]
            ),
            Mn = ye.useCallback(
              function () {
                if (
                  (Ie && Ie(), (0, y.at)({ event_page: "live_detail" }), Rn())
                ) {
                  var e = c()(vt, "roomId");
                  Q.Z.handlePause(e);
                }
              },
              [vt, bn, Ft]
            ),
            Zn = ye.useCallback(
              function () {
                if (Rn()) {
                  var e = c()(vt, "roomId");
                  Q.Z.handleEnded(e);
                }
              },
              [vt, bn, Ft]
            ),
            Un = ye.useCallback(
              function (e) {
                if (Rn()) {
                  var t = c()(vt, "roomId");
                  Q.Z.handleError(t, e);
                }
              },
              [vt, bn, Ft]
            ),
            Dn = ye.useCallback(
              function (e) {
                var t = c()(vt, "roomId"),
                  n = Q.Z.getRoomInfo(t);
                "switch_play_pause" === e.action &&
                  (ut(!e.paused), n && (n.USER_PAUSED = !e.paused));
              },
              [vt]
            ),
            xn = ye.useCallback(
              function (e) {
                Z.Z.open(
                  {
                    uid:
                      c()(vt, "room.commentary_room_info.user_id", "") ||
                      c()(vt, "room.commentary_room_info.userId", ""),
                    roomId: c()(vt, "room.id_str"),
                    loginSecUid: c()(ct, "id_str", ""),
                    loginUid: c()(ct, "id_str", ""),
                    isUgcLive: Et,
                    showGoToLivingBtn: !0,
                  },
                  { top: e.clientY, left: e.clientX }
                );
              },
              [vt, ct]
            );
          (0, x.G)(vt, Bt, un);
          var Fn = (0, U.Z)().isGroupFight,
            Kn = (0, D.Z)().isGuestBattle;
          return ye.createElement(
            "div",
            { className: Te()((0, r.Z)({}, Ce.Z.hasGiftBar, bt && Xt && tn)) },
            ye.createElement(
              ue.N,
              (0, o.Z)(
                (0, o.Z)({}, at),
                {},
                {
                  onFocus: function () {
                    qt(!0);
                  },
                  onBlur: function () {
                    qt(!1);
                  },
                  videoInit: !wt && Ft !== S.LV.END,
                  autoplay: !wt && Ft !== S.LV.END,
                  isPause: wt || Ft !== S.LV.END || qe,
                  refreshPlayer: ze,
                  className: Te()(Ce.Z.livingPlayer, "living_player"),
                  volume: O.sk ? 0 : (0, C.Sv)(),
                  url: bn,
                  ref: Bt,
                  onFullScreen: function (e) {
                    Jt(e), Ge && (!Ke || !Xt) && Ge(!1);
                  },
                  icons: {
                    loadingIcon: (0, Se.renderToString)(
                      ye.createElement(Ee.g, {
                        className: "live-player-loading",
                        text: "\u89c6\u9891\u52a0\u8f7d\u4e2d",
                      })
                    ),
                  },
                  mediaType: Et ? "offscreen-video" : void 0,
                  onWaiting: wn,
                  onPlaying: kn,
                  onPlay: Pn,
                  onPause: Mn,
                  onEnd: Zn,
                  onError: Un,
                  preloadTime: Zt,
                  onUserAction: Dn,
                  isBlackScreenProbe: !pe.p() && (0, se.i)(),
                  isUgcLive: Et,
                  sessionId:
                    null == In || null === (n = In.common) || void 0 === n
                      ? void 0
                      : n.session_id,
                }
              ),
              Ke &&
                jt &&
                ye.createElement(
                  "div",
                  { className: Ce.Z.toggle_chatroom, onClick: Be },
                  He ? ye.createElement(T.Z, null) : ye.createElement(I.Z, null)
                ),
              je &&
                !(je === L.kx.ANCHOR_BAN && Nt) &&
                ye.createElement(
                  de.C,
                  { cover: c()(vt.anchor, "avatar_thumb.url_list[0]", "") },
                  (0 === Qe.length || Tn) && je,
                  !(0 === Qe.length || Tn) &&
                    ye.createElement(M.Z, { rooms: Qe, target: "_self" })
                ),
              Et &&
                !pt &&
                Ft !== S.LV.END &&
                !je &&
                ye.createElement(
                  "div",
                  { className: Te()(Ce.Z.anchor) },
                  ye.createElement("img", {
                    className: Ce.Z.avatar,
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(
                        c()(
                          vt,
                          "room.commentary_room_info.avatar.url_list[0]",
                          ""
                        ) ||
                          c()(
                            vt,
                            "room.commentary_room_info.avatar.urlList[0]",
                            ""
                          ),
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                    onClick: xn,
                  }),
                  ye.createElement(
                    "div",
                    { className: Ce.Z.nickname },
                    c()(vt, "room.commentary_room_info.nickname", "")
                  )
                ),
              ye.createElement(
                me.p,
                (0, o.Z)(
                  (0, o.Z)({}, R.xo),
                  {},
                  {
                    user_id: ct.id_str,
                    device_id: st.user_unique_id,
                    ext: {
                      ignoreEmptyUrlUpload:
                        Ft === S.LV.END || void 0 === Ft ? 1 : 0,
                      roomMode: Kt,
                      roomId: Gt,
                      webRid: Vt,
                      enter_from_merge: pe.p()
                        ? ""
                        : null === (l = (0, k.Yi)()) || void 0 === l
                        ? void 0
                        : l.enter_from_merge,
                      enter_method: pe.p()
                        ? ""
                        : null === (s = (0, k.Yi)()) || void 0 === s
                        ? void 0
                        : s.enter_method,
                      is_preview: 0,
                      live_stream_session_id: (0, w.MQ)(
                        null == In || null === (d = In.common) || void 0 === d
                          ? void 0
                          : d.session_id
                      ),
                    },
                  }
                )
              ),
              ye.createElement(q.b, { isVerifyed: tt }),
              ye.createElement(V.Z, null),
              ye.createElement(oe.Z, null),
              ye.createElement(Oe, {
                on: !0,
                feature: We,
                livingRoomErrorStatus: et,
                roomStatus: Ft,
                isVerifyed: tt,
              }),
              ye.createElement(X.Z, null),
              Nt &&
                Ft !== S.LV.END &&
                h()((v = [L.kx.NONE, L.kx.ANCHOR_BAN])).call(v, je) &&
                ye.createElement(Re, { isTheaterOn: Ke }),
              "audio" === Nt && ye.createElement(Le, { isTheaterOn: Ke }),
              "video" === Nt && ye.createElement(ke, { isTheaterOn: Ke }),
              ("audio" === Tt || "video" === Tt) &&
                ye.createElement(j.Z, { isVerifyed: tt }),
              It !== ae.cK.LINKED &&
                ye.createElement(ee.Z, {
                  containerTagName: "xg-icon",
                  position: "controlsLeft",
                  index: 1,
                  playerCoverText: je,
                }),
              ye.createElement(te.Z, {
                on: Ke,
                onSwitch: function (e) {
                  var t = Bt.current.getPlayer();
                  t.fullscreen && t.plugins.fullscreen.changeFullScreen(),
                    (0, y.ij)(!e),
                    Ge && Ge(e);
                },
                containerTagName: "xg-icon",
                position: "controlsRight",
                index: 0.5,
              }),
              It !== ae.cK.LINKED &&
                Ft !== S.LV.END &&
                In &&
                Cn &&
                ye.createElement(Pe, {
                  defaultQuality: Cn,
                  streamData: In,
                  onQualitySelect: On,
                  position: "controlsRight",
                  qualityList: gn,
                  sessionId:
                    null == In || null === (_ = In.common) || void 0 === _
                      ? void 0
                      : _.session_id,
                  screenMode: En,
                  qualitiesTextMap: Nn,
                  index: 12,
                  url: bn,
                }),
              !Xt &&
                !Ke &&
                nt &&
                ye.createElement(ne.Z, {
                  containerClassName: Ce.Z.liveTitleImmersivePlugin,
                  position: "rootTop",
                }),
              (Xt || Ke) &&
                ye.createElement(
                  ye.Fragment,
                  null,
                  ye.createElement(re.Z, {
                    containerClassName: Ce.Z.liveTitlePlugin,
                    className: Ce.Z.liveTitlePluginContainer,
                    position: "rootTop",
                    title:
                      null === (p = vt.room) || void 0 === p ? void 0 : p.title,
                    userCount: (0, P.jQ)(vt.room),
                    showUserCount: Xt || !Mt,
                  }),
                  ye.createElement(B.Z, {
                    containerClassName: Ce.Z.liveAnchorFollowPlugin,
                    position: "rootTop",
                  })
                ),
              Xt &&
                !ot &&
                ye.createElement(Y.Z, {
                  position: "controlsRight",
                  containerClassName: Ce.Z.liveCommentPlugin,
                  isLogin: null == ct ? void 0 : ct.id_str,
                  onSend: Ye,
                  index: 13,
                  isFixedChat: ot,
                }),
              !je &&
                !Nt &&
                yt !== ie.xs.Scene_PK &&
                $e &&
                An &&
                ye.createElement(we, {
                  mode: null == Xe ? void 0 : Xe.liveMiburiPlugin,
                  crons: null == $e ? void 0 : $e.crons,
                }),
              ye.createElement(ve.G, {
                disEnabled: Nt && It === ae.cK.LINKED,
                handleChangeGameHiddle: function (e) {
                  ht(e);
                },
                isGameHiddle: pt,
                ele: "#ugc_view",
              }),
              ye.createElement(fe.g, null),
              bt &&
                ye.createElement(
                  ye.Fragment,
                  null,
                  Xt &&
                    ye.createElement(
                      ye.Fragment,
                      null,
                      ye.createElement(Ze, {
                        containerTagName: "xg-icon",
                        position: "controlsRight",
                        index: 14,
                        onSwitch: nn,
                      }),
                      ye.createElement(Me, {
                        container:
                          null === (g = Bt.current) ||
                          void 0 === g ||
                          null === (le = g.getPlayer()) ||
                          void 0 === le ||
                          null === (ge = le.controls) ||
                          void 0 === ge
                            ? void 0
                            : ge.root,
                        giftPages: At,
                        balance: Lt,
                        isLogin: Boolean(c()(ct, "id_str")),
                        metro: rt,
                      })
                    ),
                  ye.createElement(Ue, {
                    containerTagName: "xg-icon",
                    position: "controlsRight",
                    index: 1,
                    onSwitch: kt,
                  }),
                  ye.createElement(De, {
                    effectSwitchStatus: Rt,
                    giftMessages: Ot,
                  }),
                  ye.createElement(xe, {
                    effectSwitchStatus: Rt,
                    giftMessages: Ot,
                  })
                ),
              ye.createElement(z.Z, null),
              Fn && ye.createElement(H.Z, null),
              Kn && ye.createElement(W.Z, { guestBattleInfo: St }),
              Pt &&
                ye.createElement(Fe, {
                  isTheaterOn: Ke,
                  isFoldChatroom: He,
                  isFullScreen: Xt,
                }),
              ye.createElement(_e.M, {
                toolbarData: Yt,
                headerUserInfo: dt,
                roomId: Gt,
                authorId:
                  null == vt || null === (Ne = vt.anchor) || void 0 === Ne
                    ? void 0
                    : Ne.id_str,
                isLiveShopVisible: !0,
                isLiveShopPopVisible:
                  (null == Xe ? void 0 : Xe.liveShopPop) ===
                  he.LiveShopPopABVal.On,
                hasGiftBar: bt && Xt && tn,
                getLiveShoppingLogParams: k.Yi,
              })
            )
          );
        };
      const Ge = (0, Ie.Pi)(Ke);
    },
    46609: (e, t, n) => {
      n.d(t, { Z: () => f });
      var r = n(79705),
        o = n.n(r),
        a = n(55618),
        i = n(52255),
        l = n(85011),
        c = n(44503);
      const s = "rsPzJJhM",
        u = "EzOeUDi9",
        d = "AeoUMW0o",
        m = "TP6O2N_Y",
        v = "YKKFdXcr";
      const f = function (e) {
        var t = e.children,
          n = e.title,
          r = e.visible,
          f = e.className,
          _ = e.onCancel,
          E = e.closeable,
          p = void 0 === E || E,
          h = c.useCallback(
            function () {
              _ && _(!1);
            },
            [_]
          );
        return r
          ? c.createElement(
              a.T,
              { className: o()(s, f) },
              c.createElement(
                "div",
                { className: u },
                p &&
                  c.createElement(
                    "div",
                    { className: d, onClick: h },
                    c.createElement(i.Z, {
                      width: 36,
                      height: 36,
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(l.Z, null, {
                          logType: "js.href/src",
                          reportOnly: !1,
                        }),
                      color: "#A9AAB7",
                    })
                  ),
                n && c.createElement("div", { className: m }, n),
                c.createElement("div", { className: v }, t)
              )
            )
          : null;
      };
    },
    12730: (e, t, n) => {
      n.d(t, { Z: () => p });
      var r = n(65146),
        o = n(32781),
        a = n(94610),
        i = n.n(a),
        l = n(42327),
        c = n(79705),
        s = n.n(c),
        u = n(44503),
        d = n(9),
        m = n(20104),
        v = n(46609),
        f = n(18500);
      const _ = {
        container: "hV_xvJvC",
        title: "EleU3B4u",
        subTitle: "t_yjZLIn",
        radioItem: "hX3J0FIZ",
        divide: "fx0mbvHw",
        confirm: "Sc0xNjdL",
      };
      var E = function (e) {
        var t,
          n,
          a = e.show,
          c = e.onConfirm,
          E = e.onCancel,
          p = e.audioDevices,
          h = e.videoDevices,
          g = e.preSelectedAudioDevices,
          N = e.preSelectedVideoDevices,
          T = e.container,
          I = e.extra,
          y = e.apply,
          S = (y = void 0 === y ? {} : y).audio,
          C = void 0 !== S && S,
          b = y.video,
          A = void 0 !== b && b,
          O = u.useState(g),
          L = (0, o.Z)(O, 2),
          R = L[0],
          k = L[1],
          w = u.useState(N),
          P = (0, o.Z)(w, 2),
          M = P[0],
          Z = P[1],
          U = u.useCallback(function (e) {
            k(e);
          }, []),
          D = u.useCallback(function (e) {
            Z(e);
          }, []),
          x = u.useCallback(
            function () {
              null == c || c({ audio: R, video: M }),
                (0, m.F7)({ audio: R, video: M });
            },
            [R, M, c]
          );
        return (0, d.createPortal)(
          u.createElement(
            v.Z,
            { visible: a, onCancel: E },
            u.createElement(
              "div",
              { className: _.container },
              I && u.createElement("div", { className: _.extra }, I),
              C &&
                u.createElement(
                  u.Fragment,
                  null,
                  u.createElement(
                    "h1",
                    {
                      className: s()(
                        ((t = {}),
                        (0, r.Z)(t, _.title, !I),
                        (0, r.Z)(t, _.subTitle, Boolean(I)),
                        t)
                      ),
                    },
                    "\u8bf7\u9009\u62e9\u9ea6\u514b\u98ce\u8f93\u5165"
                  ),
                  null == p
                    ? void 0
                    : i()(p).call(p, function (e) {
                        return u.createElement(f.Z, {
                          className: _.radioItem,
                          selected: R === e.deviceId,
                          value: e.deviceId,
                          label: e.label,
                          key: e.deviceId,
                          onClick: U,
                        });
                      })
                ),
              A &&
                u.createElement(
                  u.Fragment,
                  null,
                  C && u.createElement("hr", { className: _.divide }),
                  u.createElement(
                    "h1",
                    {
                      className: s()(
                        ((n = {}),
                        (0, r.Z)(n, _.title, !I),
                        (0, r.Z)(n, _.subTitle, Boolean(I)),
                        n)
                      ),
                    },
                    "\u8bf7\u9009\u62e9\u6444\u50cf\u5934\u8f93\u5165"
                  ),
                  0 === (null == h ? void 0 : h.length) &&
                    u.createElement(f.Z, {
                      value: -1,
                      selected: !1,
                      disable: !0,
                      label: "\u672a\u68c0\u6d4b\u5230\u89c6\u9891\u8f93\u5165",
                    }),
                  (null == h ? void 0 : h.length) >= 0 &&
                    (null == h
                      ? void 0
                      : i()(h).call(h, function (e) {
                          return u.createElement(f.Z, {
                            selected: M === e.deviceId,
                            className: _.radioItem,
                            value: e.deviceId,
                            label: e.label,
                            key: e.deviceId,
                            onClick: D,
                          });
                        }))
                ),
              u.createElement(
                l.zx,
                { className: _.confirm, onClick: x, type: "primary" },
                "\u786e\u5b9a"
              )
            )
          ),
          T || document.body
        );
      };
      const p = (0, u.memo)(E);
    },
    18500: (e, t, n) => {
      n.d(t, { Z: () => m });
      var r = n(65146),
        o = n(44503);
      const a = "OPN3jHA0",
        i = "JEvBRrDG",
        l = "UEJ7jo_e",
        c = "XqqiGZnw",
        s = "rIf_fwaM";
      var u = n(79705),
        d = n.n(u);
      const m = function (e) {
        var t = e.selected,
          n = e.disable,
          u = e.label,
          m = e.className,
          v = e.onClick,
          f = e.value,
          _ = o.useCallback(
            function () {
              v && v(f, !t);
            },
            [f, t, v]
          );
        return o.createElement(
          "div",
          { className: d()(a, (0, r.Z)({}, s, n), m), onClick: _ },
          o.createElement("div", { className: d()(i, (0, r.Z)({}, l, t)) }),
          u && o.createElement("span", { className: c }, u)
        );
      };
    },
    82214: (e, t, n) => {
      n.d(t, { Z: () => b });
      var r,
        o = n(44503),
        a = n(32781),
        i = n(19478),
        l = n.n(i),
        c = n(94610),
        s = n.n(c);
      function u() {
        return (
          (u = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          u.apply(this, arguments)
        );
      }
      const d = function (e) {
        return o.createElement(
          "svg",
          u(
            {
              width: 14,
              height: 14,
              viewBox: "0 0 14 14",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = o.createElement("path", {
              d: "M1.75 2.917c0-.645.522-1.167 1.167-1.167h1.75a.583.583 0 010 1.167h-1.75v1.75a.583.583 0 01-1.167 0v-1.75zM1.75 7c0-.322.261-.583.583-.583h9.334a.583.583 0 010 1.166H2.333A.583.583 0 011.75 7zM2.917 12.25a1.167 1.167 0 01-1.167-1.167v-1.75a.583.583 0 011.167 0v1.75h1.75a.583.583 0 010 1.167h-1.75zM12.25 2.917c0-.645-.522-1.167-1.167-1.167h-1.75a.583.583 0 000 1.167h1.75v1.75a.583.583 0 001.167 0v-1.75zM11.083 12.25c.645 0 1.167-.522 1.167-1.167v-1.75a.583.583 0 00-1.167 0v1.75h-1.75a.583.583 0 000 1.167h1.75z",
              fill: "#fff",
              fillOpacity: 0.9,
            }))
        );
      };
      var m = n(830),
        v = n(14001);
      const f = function (e) {
        var t = e.children,
          n = (0, o.useState)(!1),
          r = (0, a.Z)(n, 2),
          i = r[0],
          c = r[1],
          u = l()(function () {
            return c(!1);
          }, 100);
        return o.createElement(
          v.a,
          {
            onClick: function (e) {
              e.preventDefault();
            },
            onMouseLeave: u,
            onMouseEnter: function () {
              c(!0), (0, m.Cm)(), u.cancel();
            },
          },
          o.createElement(d, { width: 14, height: 14 }),
          o.createElement("span", null, "\u624b\u673a\u89c2\u770b"),
          s()(o.Children).call(o.Children, t, function (e) {
            return (
              (0, o.isValidElement)(e) && (0, o.cloneElement)(e, { show: i })
            );
          })
        );
      };
      var _ = n(42327);
      const E = "fZs9_b8g",
        p = "OmdK8a12";
      const h = function (e) {
        var t = e.children,
          n = (0, o.useState)(!1),
          r = (0, a.Z)(n, 2),
          i = r[0],
          c = r[1],
          u = l()(function () {
            return c(!1);
          }, 100);
        return o.createElement(
          _.zx,
          {
            className: E,
            onMouseLeave: u,
            onMouseEnter: function () {
              c(!0), (0, m.Cm)(), u.cancel();
            },
            "data-e2e": "mobile-view-button",
          },
          o.createElement(d, { className: p }),
          o.createElement("span", null, "\u624b\u673a\u89c2\u770b"),
          s()(o.Children).call(o.Children, t, function (e) {
            return (
              (0, o.isValidElement)(e) && (0, o.cloneElement)(e, { show: i })
            );
          })
        );
      };
      var g = n(79705),
        N = n.n(g);
      const T = "RQ9TnXud",
        I = "dxVqlp09",
        y = "JqcVOPz1",
        S = "XGBL3Awd";
      const C = function (e) {
        var t = e.className,
          n = e.qrcode_url,
          r = e.show,
          a = void 0 !== r && r;
        return o.createElement(
          "div",
          { className: N()(T, t), style: { display: a ? "block" : "none" } },
          o.createElement("img", {
            className: I,
            src: globalThis
              .getFilterXss()
              .filterUrl(n, null, { logType: "js.href/src", reportOnly: !1 }),
            alt: "",
          }),
          o.createElement("p", { className: y }, "\u626b\u7801\u89c2\u770b"),
          o.createElement(
            "p",
            { className: S },
            "\u6253\u5f00\u6296\u97f3APP\u626b\u63cf\u4e8c\u7ef4\u7801\u53ef\u4ee5\u8fdb\u884c\u66f4\u591a\u4e92\u52a8"
          )
        );
      };
      const b = function (e) {
        var t = e.type,
          n = e.qrcode_url,
          r = (0, o.useMemo)(
            function () {
              return "button" === t ? h : f;
            },
            [t]
          );
        return o.createElement(r, null, o.createElement(C, { qrcode_url: n }));
      };
    },
    5470: (e, t, n) => {
      n.d(t, { Z: () => v });
      var r = n(56402),
        o = n.n(r),
        a = n(23383),
        i = n(11171),
        l = n(54634),
        c = n(85131),
        s = n(42327),
        u = n(24142),
        d = n(44503);
      const m = "icuE8Teq";
      const v = (0, u.Pi)(function () {
        var e = (0, c.Z)(),
          t = e.roomStore,
          n = t.roomInfo,
          r = t.setFollowStatus,
          u = e.linkmicStore,
          v = u.setIsFansGuide,
          f = u.linkMicConfig,
          _ = e.userStore.userInfo,
          E = (0, d.useMemo)(
            function () {
              return {
                roomId: o()(n, "roomId", ""),
                followStatus: o()(
                  n,
                  "anchor.follow_info.follow_status",
                  a.E.INNOCENT
                ),
                sec_to_user_id: o()(n, "anchor.sec_uid", ""),
                to_user_id: o()(n, "anchor.id_str", ""),
              };
            },
            [n]
          ),
          p = E.roomId,
          h = E.followStatus,
          g = E.sec_to_user_id,
          N = E.to_user_id,
          T = (0, d.useMemo)(
            function () {
              return {
                isLogin: Boolean(o()(_, "id_str", "")),
                sec_user_id: o()(_, "sec_uid", ""),
              };
            },
            [_]
          ),
          I = T.isLogin,
          y = T.sec_user_id,
          S = d.useCallback(
            function (e) {
              r(e),
                e === a.E.FOLLOWED &&
                  (f.big_party_accept_need_verified ||
                    f.audio_chat_accept_need_verified) &&
                  v(!0);
            },
            [r, f, v]
          );
        return d.createElement(l.ZP, {
          channel_id: i.RN.ROOM,
          className: m,
          size: s.qE.normal,
          followStatus: h,
          isLogin: I,
          sec_user_id: y,
          sec_to_user_id: g,
          to_user_id: N,
          current_room_id: p,
          followCb: S,
        });
      });
    },
    30301: (e, t, n) => {
      n.d(t, { Z: () => C });
      var r,
        o = n(64408),
        a = n(32781),
        i = n(19478),
        l = n.n(i),
        c = n(88438),
        s = n.n(c),
        u = n(5594),
        d = n.n(u),
        m = n(44503);
      function v() {
        return (
          (v = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          v.apply(this, arguments)
        );
      }
      const f = function (e) {
        return m.createElement(
          "svg",
          v(
            {
              width: 12,
              height: 12,
              viewBox: "0 0 12 12",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = m.createElement("path", {
              d: "M5.998 9a.498.498 0 01-.355-.149L2.816 6.025a.5.5 0 11.708-.707l1.974 1.975V1.5a.5.5 0 011 0v5.794l1.977-1.976a.5.5 0 11.707.707L6.354 8.854A.498.498 0 016 9h-.003zM9 11a.5.5 0 000-1H3a.5.5 0 000 1h6z",
              fill: "#fff",
              fillOpacity: 0.9,
            }))
        );
      };
      var _ = n(46927),
        E = n(42327),
        p = n(57023),
        h = n(74394),
        g = n(16655),
        N = n(27687);
      const T = "qCE2IbJe",
        I = "GYh4boIo",
        y = "FJrKsnNm",
        S = "KDormqCN";
      const C = function (e) {
        var t = e.userId,
          n = e.immersive,
          r = (0, m.useState)(!1),
          i = (0, a.Z)(r, 2),
          c = i[0],
          u = i[1],
          v = (0, m.useState)(!1),
          C = (0, a.Z)(v, 2),
          b = C[0],
          A = C[1],
          O = (0, m.useState)(!1),
          L = (0, a.Z)(O, 2),
          R = L[0],
          k = L[1],
          w = (0, _.q)(),
          P = w.pauseAutoHide,
          M = w.recoverAutoHide,
          Z = l()(function () {
            u(!1), n && (null == M || M());
          }, 100);
        return (
          (0, m.useEffect)(
            function () {
              (0, o.Z)(
                d().mark(function e() {
                  var n;
                  return d().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (!(0, h.D5)() || g.DT()) {
                            e.next = 9;
                            break;
                          }
                          if (!t) {
                            e.next = 8;
                            break;
                          }
                          return (e.next = 4), N.Y();
                        case 4:
                          (n = e.sent), A(!n), (e.next = 9);
                          break;
                        case 8:
                          R && A(!0);
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )();
            },
            [t, R]
          ),
          (0, m.useEffect)(function () {
            var e = s()(function () {
              k(!0);
            }, 5e3);
            return function () {
              clearTimeout(e);
            };
          }, []),
          b
            ? m.createElement(
                E.zx,
                {
                  className: T,
                  onMouseLeave: Z,
                  onMouseEnter: function () {
                    u(!0), Z.cancel(), n && (null == P || P());
                  },
                },
                m.createElement(f, {
                  width: n ? 12 : 14,
                  height: n ? 12 : 14,
                  viewBox: "0 0 12 12",
                  className: I,
                }),
                m.createElement(
                  "span",
                  { className: S },
                  "\u4e0b\u8f7d\u5ba2\u6237\u7aef"
                ),
                m.createElement(
                  "div",
                  { className: y, style: { display: c ? "block" : "none" } },
                  m.createElement(p.E6, {
                    isShow: c,
                    withClose: !1,
                    forLive: !0,
                  })
                )
              )
            : null
        );
      };
    },
    56056: (e, t, n) => {
      n.d(t, { Z: () => h });
      var r,
        o = n(32781),
        a = n(19478),
        i = n.n(a),
        l = n(94610),
        c = n.n(l),
        s = n(44503);
      function u() {
        return (
          (u = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          u.apply(this, arguments)
        );
      }
      const d = function (e) {
        return s.createElement(
          "svg",
          u(
            {
              width: 24,
              height: 24,
              viewBox: "0 0 24 24",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = s.createElement("path", {
              d: "M8.667 12.145a1.333 1.333 0 11-2.667 0 1.333 1.333 0 012.667 0zM13.333 12.145a1.333 1.333 0 11-2.666 0 1.333 1.333 0 012.666 0zM16.667 13.479a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667z",
              fill: "#2F3035",
              fillOpacity: 0.4,
            }))
        );
      };
      var m = n(830),
        v = n(46927);
      const f = "hABkhuXP",
        _ = "RfVenm18",
        E = "fQDZZL9j",
        p = "ejKJ3F8q";
      const h = function (e) {
        var t = e.immersive,
          n = e.children,
          r = (0, s.useState)(!1),
          a = (0, o.Z)(r, 2),
          l = a[0],
          u = a[1],
          h = (0, v.q)(),
          g = h.pauseAutoHide,
          N = h.recoverAutoHide,
          T = i()(function () {
            u(!1), t && (null == N || N());
          }, 100);
        return (
          (0, s.useEffect)(
            function () {
              l && (0, m.q3)();
            },
            [l]
          ),
          s.createElement(
            "button",
            {
              className: f,
              type: "button",
              onMouseLeave: T,
              onMouseEnter: function () {
                u(!0), T.cancel(), t && (null == g || g());
              },
              "data-e2e": "more-button",
            },
            s.createElement(d, { viewBox: "0 0 24 24", className: _ }),
            s.createElement(
              "ul",
              { className: E, style: { display: l ? "flex" : "none" } },
              c()(s.Children).call(s.Children, n, function (e, t) {
                return s.createElement("li", { key: t, className: p }, e);
              })
            )
          )
        );
      };
    },
    92394: (e, t, n) => {
      n.d(t, { Z: () => m });
      var r,
        o,
        a = n(44503);
      function i() {
        return (
          (i = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          i.apply(this, arguments)
        );
      }
      const l = function (e) {
        return a.createElement(
          "svg",
          i(
            {
              width: 14,
              height: 14,
              viewBox: "0 0 14 14",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = a.createElement("path", {
              d: "M7 5.25c.323 0 .584.261.584.583v2.334a.583.583 0 01-1.167 0V5.833c0-.322.261-.583.583-.583zM7.584 9.917a.583.583 0 11-1.167 0 .583.583 0 011.167 0z",
              fill: "#fff",
              fillOpacity: 0.9,
            })),
          o ||
            (o = a.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M8.006 2.309a1.167 1.167 0 00-2.011 0L1.18 10.492a1.167 1.167 0 001.006 1.758h9.627c.902 0 1.463-.98 1.005-1.758L8.006 2.309zM7 2.901l4.814 8.182H2.187L7 2.901z",
              fill: "#fff",
              fillOpacity: 0.9,
            }))
        );
      };
      var c = n(830),
        s = n(36631),
        u = n(72095),
        d = n(14001);
      const m = function (e) {
        var t = e.roomId,
          n = e.anchorSecUserId;
        return a.createElement(
          d.a,
          {
            onClick: function (e) {
              e.preventDefault(),
                (0, c.dP)(),
                (0, u.F)({
                  type: s.R.ROOM,
                  param: { roomId: t, currentRoomId: t },
                  submitParam: { targetRoomId: t, secTargetAnchorId: n },
                });
            },
          },
          a.createElement(l, { width: 14, height: 14 }),
          a.createElement("span", null, "\u4e3e\u62a5\u76f4\u64ad\u95f4")
        );
      };
    },
    14582: (e, t, n) => {
      n.d(t, { Z: () => h });
      var r = n(30906),
        o = n(29529),
        a = n(32781),
        i = n(67161),
        l = n(10081),
        c = n.n(l),
        s = n(88438),
        u = n.n(s),
        d = n(44503),
        m = { adjustX: 1, adjustY: 1 },
        v = [0, 0];
      const f = function () {
        var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 10,
          t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : m;
        return {
          left: {
            points: ["cr", "cl"],
            overflow: t,
            offset: [Number("-".concat(e)), 0],
            targetOffset: v,
          },
          right: {
            points: ["cl", "cr"],
            overflow: t,
            offset: [e, 0],
            targetOffset: v,
          },
          top: {
            points: ["bc", "tc"],
            overflow: t,
            offset: [0, Number("-".concat(e))],
            targetOffset: v,
          },
          bottom: {
            points: ["tc", "bc"],
            overflow: t,
            offset: [0, e],
            targetOffset: v,
          },
          topLeft: {
            points: ["bl", "tl"],
            overflow: t,
            offset: [0, Number("-".concat(e))],
            targetOffset: v,
          },
          leftTop: {
            points: ["tr", "tl"],
            overflow: t,
            offset: [Number("-".concat(e)), 0],
            targetOffset: v,
          },
          topRight: {
            points: ["br", "tr"],
            overflow: t,
            offset: [0, Number("-".concat(e))],
            targetOffset: v,
          },
          rightTop: {
            points: ["tl", "tr"],
            overflow: t,
            offset: [e, 0],
            targetOffset: v,
          },
          bottomRight: {
            points: ["tr", "br"],
            overflow: t,
            offset: [0, e],
            targetOffset: v,
          },
          rightBottom: {
            points: ["bl", "br"],
            overflow: t,
            offset: [e, 0],
            targetOffset: v,
          },
          bottomLeft: {
            points: ["tl", "bl"],
            overflow: t,
            offset: [0, e],
            targetOffset: v,
          },
          leftBottom: {
            points: ["br", "bl"],
            overflow: t,
            offset: [Number("-".concat(e)), 0],
            targetOffset: v,
          },
        };
      };
      var _ = n(39782),
        E = [
          "children",
          "placement",
          "trigger",
          "overlay",
          "getTooltipContainer",
          "prefixCls",
          "align",
          "destroyTooltipOnHide",
          "onVisibleChange",
          "overlayClassName",
          "overlayStyle",
          "onPopupAlign",
          "className",
          "mouseEnterDelay",
          "mouseLeaveDelay",
          "offset",
          "autoAdjustOverflowConfig",
          "visible",
          "scrollElement",
          "scrollHide",
        ];
      function p(e) {
        var t = e.children,
          n = e.placement,
          l = void 0 === n ? "bottom" : n,
          s = e.trigger,
          m = void 0 === s ? "hover" : s,
          v = e.overlay,
          p = e.getTooltipContainer,
          h = e.prefixCls,
          g = void 0 === h ? "dylive-tooltip" : h,
          N = e.align,
          T = e.destroyTooltipOnHide,
          I = e.onVisibleChange,
          y = e.overlayClassName,
          S = e.overlayStyle,
          C = e.onPopupAlign,
          b = e.className,
          A = e.mouseEnterDelay,
          O = void 0 === A ? 0 : A,
          L = e.mouseLeaveDelay,
          R = void 0 === L ? 0 : L,
          k = e.offset,
          w = e.autoAdjustOverflowConfig,
          P = e.visible,
          M = e.scrollElement,
          Z = e.scrollHide,
          U = void 0 === Z || Z,
          D = (0, i.Z)(e, E),
          x = (0, d.useState)(l),
          F = (0, a.Z)(x, 2),
          K = (F[0], F[1]),
          G = (0, d.useState)(Boolean(P)),
          V = (0, a.Z)(G, 2),
          Y = V[0],
          B = V[1];
        (0, d.useEffect)(
          function () {
            if (U) {
              var e = function () {
                Y && B(!1);
              };
              return (
                document.addEventListener("scroll", e, !0),
                M instanceof HTMLElement && M.addEventListener("scroll", e),
                function () {
                  U &&
                    (document.removeEventListener("scroll", e),
                    M instanceof HTMLElement &&
                      M.removeEventListener("scroll", e));
                }
              );
            }
          },
          [M, Y]
        ),
          (0, d.useEffect)(
            function () {
              void 0 !== P && B(Boolean(P));
            },
            [P]
          );
        var H = (0, d.useCallback)(
            function (e) {
              I && I(e), B(void 0 !== P ? Boolean(P) : e);
            },
            [P, I]
          ),
          W = (0, d.useCallback)(
            function () {
              var e = "function" == typeof v ? v() : v;
              return e || null;
            },
            [v]
          ),
          j = (0, d.useCallback)(
            function (e, t) {
              var n = new RegExp("".concat(g, "-placement-([a-zA-Z]+)\\s?")),
                r = e.className.match(n);
              r && K(r[1]), C && C(e, t);
            },
            [C, g]
          ),
          q = (0, d.useCallback)(
            function () {
              e.onMouseLeave
                ? e.onMouseLeave()
                : -1 !== c()(m).call(m, "hover") &&
                  (R > 0
                    ? u()(function () {
                        B(!1);
                      }, 1e3 * R)
                    : B(!1));
            },
            [m, e, R]
          ),
          z = !1,
          Q = !1;
        if ("boolean" == typeof T) z = T;
        else if ("object" === (0, o.Z)(T)) {
          (z = !0), (Q = !T.keepParent);
        }
        var X = "".concat(b, " ");
        y && (X += y);
        var J = (0, d.useMemo)(
            function () {
              return f(k, w);
            },
            [k, w]
          ),
          $ = d.isValidElement(t) ? t : d.createElement("span", null, t);
        return d.createElement(
          _.default,
          (0, r.Z)(
            {
              builtinPlacements: J,
              popupPlacement: l,
              popupClassName: X,
              action: m,
              popup: W,
              onPopupVisibleChange: H,
              prefixCls: g,
              destroyPopupOnHide: z,
              autoDestroy: Q,
              popupAlign: N,
              popupVisible: Y,
              getPopupContainer: p,
              popupStyle: S,
              onMouseLeave: q,
              onPopupAlign: j,
              mouseLeaveDelay: R,
              mouseEnterDelay: O,
            },
            D
          ),
          $
        );
      }
      p.defaultProps = {
        trigger: "hover",
        placement: "bottom",
        mouseEnterDelay: 0,
        mouseLeaveDelay: 0,
      };
      const h = d.memo(p);
    },
    9037: (e, t, n) => {
      n.d(t, { Z: () => l });
      var r = n(44503);
      const o = {
        tooltips: "fHknbHHl",
        popup: "yrhBxx1G",
        top: "d5rF9Fsn",
        bottom: "tN240Wft",
        left: "OCEHP_W4",
        right: "lnC4qT9q",
      };
      var a = n(79705),
        i = n.n(a);
      function l(e) {
        var t = e.content,
          n = e.children,
          a = e.position,
          l = void 0 === a ? "top" : a,
          c = e.className;
        return r.createElement(
          "div",
          { className: o.tooltips },
          r.createElement("div", { className: i()(o.popup, o[l], c) }, t),
          n
        );
      }
    },
    46778: (e, t, n) => {
      n.d(t, { Z: () => F });
      var r = n(30906),
        o = n(65146),
        a = n(64408),
        i = n(32781),
        l = n(56402),
        c = n.n(l),
        s = n(92012),
        u = n.n(s),
        d = n(5594),
        m = n.n(d),
        v = n(79705),
        f = n.n(v),
        _ = n(11171),
        E = n(63786),
        p = n(23383),
        h = n(830),
        g = n(54634),
        N = n(36631),
        T = n(72095),
        I = n(22459),
        y = n(10790),
        S = n(42327),
        C = n(44503);
      const b = {
        user_popup: "jolA3aFh",
        mystery_man_bg: "VOBEeC7p",
        dark: "au74Iybh",
        report: "hEPG6wxc",
        base_info: "IrD6n6kd",
        right: "Cotr8Cfd",
        nickname: "erb1HJvb",
        label: "PdobEqWS",
        value: "QAmXsgk8",
        mystery_popup: "tmhAcZqE",
        avatar: "E85d0JmL",
        tips: "LVDYsaTX",
        view_detail_button: "tpFofVBd",
        arrow: "TIYdxxd9",
        sign: "LwONsQQR",
        btns: "SllfYJTY",
        show_go_to_living_btn: "IBl8kUwP",
      };
      var A = n(99719),
        O = n(64698),
        L = n(17962),
        R = n(60311),
        k = n(85938),
        w = function (e) {
          var t = e.isSelf;
          return C.createElement(
            "div",
            { className: b.mystery_popup },
            C.createElement(I.q, {
              src: globalThis
                .getFilterXss()
                .filterUrl(O, null, { logType: "js.href/src", reportOnly: !1 }),
              className: b.avatar,
            }),
            C.createElement(
              "h2",
              { className: b.nickname },
              "\u795e\u79d8\u4eba"
            ),
            C.createElement(
              "p",
              { className: b.tips },
              t
                ? "\u4f60\u5df2\u5f00\u542f\u795e\u79d8\u4eba\u5957\u88c5"
                : "\u8be5\u7528\u6237\u5df2\u5f00\u542f\u795e\u79d8\u4eba\u5957\u88c5"
            ),
            C.createElement(
              "button",
              {
                type: "button",
                className: b.view_detail_button,
                onClick: function () {
                  return y.F.info("\u8bf7\u5728\u624b\u673a\u4e0a\u6253\u5f00");
                },
              },
              C.createElement("span", null, "\u67e5\u770b\u8be6\u60c5"),
              C.createElement("img", {
                src: globalThis
                  .getFilterXss()
                  .filterUrl(L, null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
                className: b.arrow,
              })
            )
          );
        },
        P = function (e) {
          var t,
            n = e.uid,
            o = e.secUid,
            l = e.loginUid,
            s = e.loginSecUid,
            d = e.roomId,
            v = e.user,
            f = e.isMysteryMan,
            N = e.isSelf,
            T = e.pointParams,
            y = e.displayId,
            A = e.showGoToLivingBtn,
            O = e.onFollowStatusUpdate,
            L = e.userInfo,
            R = e.isMessageUser,
            k = e.isUgcLive,
            P = (0, C.useState)({}),
            M = (0, i.Z)(P, 2),
            Z = M[0],
            U = M[1],
            D = (0, C.useRef)();
          if (f) return C.createElement(w, { isSelf: N });
          C.useEffect(
            function () {
              k &&
                (0, a.Z)(
                  m().mark(function e() {
                    var t, r, o, a, i, l, c;
                    return m().wrap(function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (e.next = 2), (0, _.bG)({ target_uid: n });
                          case 2:
                            (t = e.sent).status &&
                              ((c = t.data.data),
                              (D.current =
                                null == c ||
                                null === (r = c.follow_info) ||
                                void 0 === r
                                  ? void 0
                                  : r.follow_status),
                              U({
                                secUid: null == c ? void 0 : c.sec_uid,
                                displayId: null == c ? void 0 : c.display_id,
                                followStatus:
                                  null == c ||
                                  null === (o = c.follow_info) ||
                                  void 0 === o
                                    ? void 0
                                    : o.follow_status,
                                followerCount:
                                  null == c ||
                                  null === (a = c.follow_info) ||
                                  void 0 === a
                                    ? void 0
                                    : a.follower_count,
                                followingCount:
                                  null == c ||
                                  null === (i = c.follow_info) ||
                                  void 0 === i
                                    ? void 0
                                    : i.following_count,
                                avatar:
                                  null == c ||
                                  null === (l = c.avatar_thumb) ||
                                  void 0 === l
                                    ? void 0
                                    : l.url_list[0],
                                nickname: null == c ? void 0 : c.nickname,
                              }));
                          case 4:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                  })
                )();
            },
            [k]
          );
          var x = C.useCallback(
              function (e) {
                if (!E.sk) {
                  var t, r;
                  if (
                    n &&
                    n ===
                      c()(window, "__STORE__.roomStore.roomInfo.anchor.id_str")
                  )
                    null === (r = window.__STORE__.roomStore) ||
                      void 0 === r ||
                      r.setFollowStatus(e);
                  null === (t = window.__STORE__.roomStore) ||
                    void 0 === t ||
                    t.setFollowInfo(n, e),
                    O && O({ uid: n, secUid: o, followStatus: e });
                }
              },
              [n, o]
            ),
            F = C.useMemo(
              function () {
                return k
                  ? D.current
                  : null !== (e = window.__STORE__.roomStore) &&
                    void 0 !== e &&
                    e.followInfo[n]
                  ? null === (t = window.__STORE__.roomStore) || void 0 === t
                    ? void 0
                    : t.followInfo[n]
                  : c()(v, "followInfo.followStatus", p.E.INNOCENT) ||
                    c()(v, "followInfo.follow_status", p.E.INNOCENT);
                var e, t;
              },
              [v, k, D.current]
            );
          return C.createElement(
            C.Fragment,
            null,
            C.createElement(
              "div",
              { className: b.base_info },
              C.createElement(I.q, {
                src: globalThis
                  .getFilterXss()
                  .filterUrl(
                    k ? Z.avatar : c()(v, "avatarThumb.urlList[0]", ""),
                    null,
                    { logType: "js.href/src", reportOnly: !1 }
                  ),
              }),
              C.createElement(
                "div",
                { className: b.right },
                C.createElement(
                  "div",
                  { className: b.nickname },
                  k ? Z.nickname : c()(v, "nickname", "")
                ),
                C.createElement(
                  "div",
                  null,
                  C.createElement(
                    "span",
                    { className: b.label },
                    "\u5173\u6ce8"
                  ),
                  C.createElement(
                    "span",
                    { className: b.value },
                    k
                      ? Z.followingCount
                      : R
                      ? L.following_count
                      : c()(v, "followInfo.followingCount", "") || ""
                  ),
                  C.createElement(
                    "span",
                    { className: b.label },
                    "\u7c89\u4e1d"
                  ),
                  C.createElement(
                    "span",
                    { className: b.value },
                    k
                      ? Z.followerCount
                      : R
                      ? L.follower_count
                      : c()(v, "followInfo.followerCount", "") || ""
                  )
                )
              )
            ),
            C.createElement(
              "p",
              { className: b.sign },
              c()(v, "signature", "")
            ),
            C.createElement(
              "div",
              { className: b.btns },
              N
                ? C.createElement(
                    S.zx,
                    { className: b.open, type: "primary" },
                    C.createElement(
                      "a",
                      {
                        href: globalThis
                          .getFilterXss()
                          .filterUrl(
                            "https://www.douyin.com/falcon/webcast_openpc/pages/streamingtool_download/index.html",
                            null,
                            { logType: "js.href/src", reportOnly: !1 }
                          ),
                        target: "_blank",
                        rel: "noreferrer",
                      },
                      "\u6211\u8981\u5f00\u64ad"
                    )
                  )
                : C.createElement(
                    C.Fragment,
                    null,
                    C.createElement(g.ZP, {
                      channel_id: k ? _.RN.ROOM : _.RN.CHAT,
                      className: b.follow,
                      isLogin: Boolean(l),
                      sec_to_user_id: k ? Z.secUid : o,
                      sec_user_id: s,
                      to_user_id: n,
                      current_room_id: d,
                      followStatus: F,
                      followCb: x,
                      isUgcLive: k,
                      pointParams: T,
                      onClick: function () {
                        T &&
                          (0, h.gi)(
                            (0, r.Z)(
                              (0, r.Z)({}, T),
                              {},
                              { actionType: "follow" }
                            )
                          );
                      },
                    }),
                    C.createElement(
                      S.zx,
                      {
                        type: "primary",
                        theme: "border",
                        onClick: function () {
                          var e;
                          T &&
                            (0, h.gi)(
                              (0, r.Z)(
                                (0, r.Z)({}, T),
                                {},
                                { actionType: "go_main" }
                              )
                            ),
                            window.open(
                              u()(
                                (e = "//".concat(
                                  (0, E.iE)().VIDEO_DOMAIN,
                                  "/user/"
                                ))
                              ).call(e, k ? Z.secUid : o),
                              "_blank",
                              "noopener"
                            );
                        },
                      },
                      "\u4e3b\u9875"
                    ),
                    ((A && y) || k) &&
                      C.createElement(
                        S.zx,
                        { type: "primary", theme: "border" },
                        C.createElement(
                          "a",
                          {
                            href: globalThis
                              .getFilterXss()
                              .filterUrl(
                                u()(
                                  (t = "//".concat((0, E.iE)().DOMAIN, "/"))
                                ).call(t, k ? Z.displayId : y),
                                null,
                                { logType: "js.href/src", reportOnly: !1 }
                              ),
                            rel: "noreferrer",
                          },
                          "\u53bbTa\u76f4\u64ad\u95f4"
                        )
                      )
                  )
            )
          );
        },
        M = function (e) {
          var t = e.user;
          return C.createElement(
            C.Fragment,
            null,
            C.createElement(
              "div",
              { className: b.base_info },
              C.createElement(I.q, {
                src: globalThis
                  .getFilterXss()
                  .filterUrl("", null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
              }),
              C.createElement(
                "div",
                { className: b.right },
                C.createElement(
                  "div",
                  { className: b.nickname },
                  (0, A.t)(c()(t, "desensitizedNickname", "******"))
                ),
                C.createElement(
                  "div",
                  null,
                  C.createElement(
                    "span",
                    { className: b.label },
                    "\u5173\u6ce8"
                  ),
                  C.createElement("span", { className: b.value }, "****"),
                  C.createElement(
                    "span",
                    { className: b.label },
                    "\u7c89\u4e1d"
                  ),
                  C.createElement("span", { className: b.value }, "****")
                )
              )
            ),
            C.createElement("p", { className: b.sign }, "****"),
            C.createElement("div", { className: b.btns })
          );
        };
      const Z = function (e) {
        var t,
          n = e.uid,
          r = e.secUid,
          l = e.loginUid,
          s = e.loginSecUid,
          u = e.roomId,
          d = e.message,
          v = e.hasReport,
          _ = void 0 !== v && v,
          E = e.style,
          p = e.hide,
          g = e.domId,
          I = e.isEnableUserCard,
          y = e.pointParams,
          S = e.displayId,
          A = e.showGoToLivingBtn,
          O = void 0 !== A && A,
          L = e.onFollowStatusUpdate,
          w = e.isMessageUser,
          Z = e.isUgcLive,
          U = n === l,
          D = (0, C.useState)({}),
          x = (0, i.Z)(D, 2),
          F = x[0],
          K = x[1],
          G = (0, C.useCallback)(
            function () {
              var e = { roomId: u },
                t = {
                  roomId: u,
                  chatType: 1,
                  secReportedUserId: r,
                  msgId: c()(d, "msgId", ""),
                  comment: c()(d, "payload.content", ""),
                  webcast_uid: I ? "" : c()(d, "payload.user.webcastUid", ""),
                };
              (0, T.F)({ type: N.R.COMMENT, param: e, submitParam: t });
            },
            [u, r, d]
          );
        (0, C.useEffect)(
          function () {
            _ && l && !U && (0, h.q3)();
          },
          [_, l, U]
        );
        var V = (0, C.useMemo)(
            function () {
              return c()(d, "payload.user", {});
            },
            [d]
          ),
          Y = V.sec_uid,
          B = (0, C.useCallback)(
            (function () {
              var e = (0, a.Z)(
                m().mark(function e(t) {
                  var n;
                  return m().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (e.next = 2), (0, R.et)(t);
                        case 2:
                          (n = e.sent), K(n.user);
                        case 4:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            []
          );
        (0, C.useEffect)(
          function () {
            B(Y);
          },
          [Y]
        ),
          (0, C.useEffect)(function () {
            (0,
            h.EP)({ click_type: "audience", event_page: "live_detail", click_user_position: null == y ? void 0 : y.click_user_position });
          }, []);
        var H = 2 === V.mysteryMan;
        return C.createElement(
          "div",
          {
            className: f()(
              b.user_popup,
              b[(0, k.gh)()],
              ((t = {}),
              (0, o.Z)(t, b.mystery_man_bg, H),
              (0, o.Z)(t, b.show_go_to_living_btn, O),
              t)
            ),
            id: g,
            style: E,
            onClick: function (e) {
              return e.stopPropagation();
            },
          },
          _ && l && !U
            ? C.createElement(
                "span",
                { className: b.report, onClick: G },
                "\u4e3e\u62a5"
              )
            : null,
          p
            ? C.createElement(M, { user: V })
            : C.createElement(P, {
                uid: n,
                secUid: r,
                loginUid: l,
                loginSecUid: s,
                roomId: u,
                user: V,
                userInfo: F,
                isMessageUser: w,
                isMysteryMan: H,
                isSelf: U,
                pointParams: y,
                displayId: S,
                showGoToLivingBtn: O,
                onFollowStatusUpdate: L,
                isUgcLive: Z,
              })
        );
      };
      var U = n(9),
        D = n(82937),
        x = null;
      const F = {
        open: function (e, t, n) {
          return (
            x && x.destroy(),
            (x = (function (e, t, n) {
              var o,
                a,
                i,
                l = t.top,
                c = void 0 === l ? 0 : l,
                s = t.left,
                u = void 0 === s ? 0 : s,
                d = document.getElementById(D.Im),
                m = document.createElement("div");
              d
                ? (i = U.createPortal(
                    C.createElement(
                      Z,
                      (0, r.Z)((0, r.Z)({}, e), {}, { style: t, domId: A.p })
                    ),
                    n || d
                  ))
                : ((t.zIndex = 9998),
                  document.body.appendChild(m),
                  (i = U.createPortal(
                    C.createElement(
                      Z,
                      (0, r.Z)((0, r.Z)({}, e), {}, { style: t, domId: A.p })
                    ),
                    n || m
                  ))),
                U.render(i, d || m);
              var v = document.getElementById(A.p),
                f = (null == v ? void 0 : v.getBoundingClientRect()) || {
                  height: 0,
                  width: 0,
                },
                _ = f.height,
                E = f.width,
                p =
                  null === (o = document) ||
                  void 0 === o ||
                  null === (a = o.body) ||
                  void 0 === a
                    ? void 0
                    : a.getBoundingClientRect(),
                h = p.height,
                g = p.width,
                N = Number(c),
                T = Number(u);
              _ + N > h && (N -= _),
                E + T > g && (T -= E),
                v &&
                  ((v.style.top = "".concat(N, "px")),
                  (v.style.left = "".concat(T, "px")));
              var I = function e(t) {
                var n = document.getElementById(A.p);
                (n && n.contains(null == t ? void 0 : t.target)) ||
                  (null == t || t.preventDefault(),
                  null == t || t.stopPropagation(),
                  document.body.removeEventListener("click", e, !0),
                  x &&
                    (d
                      ? U.unmountComponentAtNode(d)
                      : (U.unmountComponentAtNode(m),
                        document.body.removeChild(m)),
                    (x = null)));
              };
              return (
                document.body.addEventListener("click", I, !0), { destroy: I }
              );
            })(e, t, n)),
            x
          );
        },
        close: function () {
          x && x.destroy();
        },
      };
    },
    99719: (e, t, n) => {
      n.d(t, { t: () => a, p: () => i });
      var r = n(84578),
        o = n.n(r),
        a = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
          return "".concat(o()(e).call(e, 0, 1), "*****");
        },
        i = "user_popup";
    },
    3803: (e, t, n) => {
      n.d(t, { Z: () => s });
      var r,
        o = n(32781),
        a = n(65146),
        i = n(44503),
        l =
          ((r = {}),
          (0, a.Z)(r, 628, 2),
          (0, a.Z)(r, 884, 3),
          (0, a.Z)(r, 1140, 4),
          (0, a.Z)(r, 1596, 5),
          (0, a.Z)(r, 2232, 6),
          r),
        c = [2232, 1596, 1140, 884, 628];
      const s = function () {
        var e = i.useState(6),
          t = (0, o.Z)(e, 2),
          n = t[0],
          r = t[1],
          a = i.useCallback(function (e) {
            for (var t = 0; t < c.length; t++) {
              var n = c[t];
              if (e >= n) return l[n];
            }
            return l[628];
          }, []),
          s = i.useCallback(
            function () {
              var e = a(window.innerWidth);
              r(e);
            },
            [a]
          );
        return (
          i.useEffect(
            function () {
              return (
                s(),
                window.addEventListener("resize", s),
                function () {
                  window.removeEventListener("resize", s);
                }
              );
            },
            [s]
          ),
          { columnsNum: n }
        );
      };
    },
    43251: (e, t, n) => {
      n.d(t, { Z: () => y });
      var r = n(32781),
        o = n(56402),
        a = n.n(o),
        i = n(75289),
        l = n(44503),
        c = n(85131),
        s = n(30906),
        u = n(65146),
        d = n(18837),
        m = n(79008),
        v = n(32183),
        f = n(79705),
        _ = n.n(f);
      const E = "IApKHGc5",
        p = "nmZMGMuM",
        h = "zgMGUb3Z",
        g = "Pn29ucSb";
      var N = n(32932),
        T = n(25083);
      const I = l.memo(function (e) {
        var t = e.x,
          n = e.y,
          o = e.width,
          a = e.height,
          i = e.visible,
          f = e.forwardRef,
          I = e.src,
          y = void 0 === I ? "" : I,
          S = e.onPause,
          C = e.onPlay,
          b = e.sessionId,
          A = l.useState(y),
          O = (0, r.Z)(A, 2),
          L = O[0],
          R = O[1],
          k = (0, c.Z)(),
          w = k.abStore.liveStartPlay,
          P = k.userStore,
          M = P.userInfo,
          Z = P.odin,
          U = k.appStore.isSpider;
        return (
          l.useEffect(
            function () {
              if (!i) {
                var e,
                  t =
                    null === (e = f.current) || void 0 === e
                      ? void 0
                      : e.getPlayer();
                null != t &&
                  t.video &&
                  (null == t || t.position({ y: 0, h: 1 }));
              }
            },
            [i]
          ),
          l.useEffect(
            function () {
              y && R(y);
            },
            [y]
          ),
          l.createElement(
            "div",
            {
              className: _()(E, (0, u.Z)({}, g, !i)),
              style: { left: t, top: n },
            },
            l.createElement(
              "div",
              { className: p, style: { width: o, height: a } },
              l.createElement(
                d.N,
                {
                  className: h,
                  isPure: !0,
                  autoplayMuted: !U,
                  videoInit: !U,
                  autoplay: !U,
                  isPause: U,
                  ref: f,
                  url: L,
                  onPlaying: C,
                  onPause: S,
                  preloadTime: w,
                  sessionId: b,
                },
                l.createElement(m.G, null),
                l.createElement(
                  v.p,
                  (0, s.Z)(
                    (0, s.Z)({}, N.xo),
                    {},
                    {
                      user_id: M.id_str,
                      device_id: Z.user_unique_id,
                      ext: {
                        isNewAce: !0,
                        enter_from_merge: T.vM(),
                        enter_method: "web_card",
                        is_preview: 1,
                      },
                    }
                  )
                )
              )
            )
          )
        );
      });
      const y = function () {
        var e = l.useState({ x: 0, y: 0, width: 0, height: 0 }),
          t = (0, r.Z)(e, 2),
          n = t[0],
          o = t[1],
          s = l.useState(!1),
          u = (0, r.Z)(s, 2),
          d = u[0],
          m = u[1],
          v = l.useState(),
          f = (0, r.Z)(v, 2),
          _ = f[0],
          E = f[1],
          p = l.useState(!1),
          h = (0, r.Z)(p, 2),
          g = h[0],
          N = h[1],
          T = l.useRef(null),
          y = ((0, c.Z)().appStore.isSpider, l.useRef(0)),
          S = l.useCallback(function (e, t) {
            var n = t.current;
            n &&
              (E(e),
              (y.current += 1),
              o({
                x: n.offsetLeft,
                y: n.offsetTop,
                width: n.offsetWidth,
                height: n.offsetHeight,
              }),
              m(!0));
          }, []),
          C = l.useCallback(function () {
            if ((m(!1), T.current)) {
              var e = T.current.getPlayer();
              e && (e.pause(), E(void 0));
            }
          }, []),
          b = l.useCallback(function () {
            N(!0);
          }, []),
          A = l.useCallback(function () {
            N(!1);
          }, []),
          O = l.useMemo(
            function () {
              var e,
                t,
                n,
                r,
                o,
                a =
                  null == _ ||
                  null === (e = _.room) ||
                  void 0 === e ||
                  null === (t = e.stream_url) ||
                  void 0 === t
                    ? void 0
                    : t.live_core_sdk_data;
              return a
                ? null ===
                    (n = JSON.parse(
                      null == a || null === (o = a.pull_data) || void 0 === o
                        ? void 0
                        : o.stream_data
                    )) ||
                  void 0 === n ||
                  null === (r = n.common) ||
                  void 0 === r
                  ? void 0
                  : r.session_id
                : "";
            },
            [_]
          ),
          L = l.useCallback(
            function () {
              if (!_ && 0 === y.current) return null;
              var e = new i.xb(a()(_, "room", {})).getCurrResolution();
              return l.createElement(I, {
                forwardRef: T,
                x: n.x,
                y: n.y,
                width: n.width,
                height: n.height,
                visible: d && g,
                onPlay: b,
                onPause: A,
                sessionId: O,
                src: globalThis
                  .getFilterXss()
                  .filterUrl(
                    (null == _ ? void 0 : _.streamSrc) || e.current.url,
                    null,
                    { logType: "js.href/src", reportOnly: !1 }
                  ),
              });
            },
            [d, n, _, g, b, A]
          );
        return {
          cardPlayerRef: T,
          renderLivePlayer: L,
          onRoomFocus: S,
          onRoomBlur: C,
          isPlay: g,
        };
      };
    },
    37510: (e, t, n) => {
      n.d(t, { Z: () => B });
      var r,
        o = n(67161),
        a = n(64408),
        i = n(30906),
        l = n(5594),
        c = n.n(l),
        s = n(80051),
        u = n.n(s),
        d = n(44503),
        m = n(56402),
        v = n.n(m),
        f = n(10790),
        _ = n(72302),
        E = n(29267),
        p = n(80054),
        h = n(98479),
        g = n(54510),
        N = n(830),
        T = n(86860),
        I = n(27796),
        y = n(76659),
        S = n(150),
        C = n(2857),
        b =
          (null === (r = y.Es()) || void 0 === r ? void 0 : r.user_unique_id) ||
          "",
        A = { webid: b, device_id: b, app_name: "douyin_web" },
        O = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return C.Z.get("/webcast/gift/list/", {
            params: (0, i.Z)(
              (0, i.Z)(
                (0, i.Z)(
                  (0, i.Z)(
                    {},
                    null == I || null === (e = S) || void 0 === e
                      ? void 0
                      : e.getNavigatorParams()
                  ),
                  null == I || null === (t = S) || void 0 === t
                    ? void 0
                    : t.getSharkCommonParams({})
                ),
                A
              ),
              {},
              { webcast_sdk_version: 2450 },
              n
            ),
          });
        },
        L = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return C.Z.get("/webcast/assets/effects/", {
            params: (0, i.Z)(
              (0, i.Z)(
                (0, i.Z)(
                  (0, i.Z)(
                    {},
                    null == I || null === (e = S) || void 0 === e
                      ? void 0
                      : e.getNavigatorParams()
                  ),
                  null == I || null === (t = S) || void 0 === t
                    ? void 0
                    : t.getSharkCommonParams({})
                ),
                A
              ),
              {},
              { webcast_sdk_version: 2450 },
              n
            ),
          });
        },
        R = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return C.Z.post("/webcast/gift/send/", T.stringify((0, i.Z)({}, n)), {
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            params: (0, i.Z)(
              (0, i.Z)(
                (0, i.Z)(
                  {},
                  null == I || null === (e = S) || void 0 === e
                    ? void 0
                    : e.getNavigatorParams()
                ),
                null == I || null === (t = S) || void 0 === t
                  ? void 0
                  : t.getSharkCommonParams({})
              ),
              A
            ),
          });
        },
        k = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return C.Z.get("/webcast/wallet/info/", { params: (0, i.Z)({}, e) });
        },
        w = n(85131),
        P = n(9),
        M = n(75409),
        Z = n(42327),
        U = n(46609);
      const D = "aNjrwnCa",
        x = "aj7d0nSI",
        F = "BjVaBRTP",
        K = "UY2SJ15Y";
      var G = function (e) {
        var t = e.title,
          n = e.content,
          r = e.confirmBtnText,
          o = void 0 === r ? "\u786e\u5b9a" : r,
          a = e.closeBtnText,
          i = void 0 === a ? "\u53d6\u6d88" : a,
          l = e.onConfirm,
          c = e.onClose;
        return d.createElement(
          U.Z,
          { visible: !0, className: K, title: t, onCancel: c },
          d.createElement(
            "div",
            { className: D },
            d.createElement("div", { className: x }, n),
            d.createElement(
              "div",
              { className: F },
              d.createElement(
                Z.zx,
                {
                  onClick: function () {
                    c && c();
                  },
                },
                i
              ),
              d.createElement(
                Z.zx,
                {
                  onClick: function () {
                    l && l();
                  },
                },
                o
              )
            )
          )
        );
      };
      var V = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            r = n.elementClass,
            o = void 0 === r ? "confirm-modal" : r,
            i = function () {
              e &&
                t &&
                (M.ZP.removeClass(t, o),
                P.unmountComponentAtNode(t),
                e.removeChild(t),
                (e.style.overflow = ""));
            },
            l = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                r = n.title,
                l = n.content,
                s = n.confirmBtnText,
                u = n.closeBtnText,
                m = n.onConfirm,
                v = n.onClose,
                f = (function () {
                  var e = (0, a.Z)(
                    c().mark(function e() {
                      return c().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (!m) {
                                e.next = 3;
                                break;
                              }
                              return (e.next = 3), m();
                            case 3:
                              i();
                            case 4:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function () {
                    return e.apply(this, arguments);
                  };
                })(),
                _ = (function () {
                  var e = (0, a.Z)(
                    c().mark(function e() {
                      return c().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (!v) {
                                e.next = 3;
                                break;
                              }
                              return (e.next = 3), v();
                            case 3:
                              i();
                            case 4:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function () {
                    return e.apply(this, arguments);
                  };
                })();
              (e = document.body),
                (t = M.ZP.findDom(e, ".".concat(o))) ||
                  ((t = document.createElement("div")),
                  M.ZP.addClass(t, o),
                  e.appendChild(t),
                  (e.style.overflow = "hidden"),
                  P.render(
                    d.createElement(G, {
                      title: r,
                      content: l,
                      confirmBtnText: s,
                      closeBtnText: u,
                      onConfirm: f,
                      onClose: _,
                    }),
                    t
                  ));
            };
          return { showModal: l, destroyModal: i };
        },
        Y = ["giftSource"];
      const B = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
          t = (0, w.Z)(),
          n = t.userStore.userInfo,
          r = t.roomStore.roomInfo,
          l = t.giftStore,
          s = l.giftStatus,
          m = l.giftList,
          T = l.effectList,
          I = l.balance,
          y = l.useRechargeComponent,
          S = l.setGiftMessages,
          C = l.setGiftPages,
          b = l.setEffectList,
          A = l.setBalance,
          P = V(),
          M = P.showModal,
          Z = (0, E.y)(),
          U = Z.showRecharge,
          D = (0, _.n)(),
          x = D.player,
          F = Boolean(v()(n, "id_str")),
          K = v()(r, "roomId", ""),
          G = v()(r, "anchor.sec_uid", ""),
          B = v()(r, "room.episode_extra"),
          H = v()(B, "episode_id_str", 0) || 0,
          W = v()(B, "mod.episode_stage"),
          j = v()(p.$F, W, p.dq.NORMAL),
          q = (0, d.useCallback)(
            function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.type,
                n = void 0 === t ? "recharge" : t,
                r = e.balance,
                o = void 0 === r ? 0 : r,
                a = e.amount,
                i = void 0 === a ? 0 : a;
              y ? U({ type: n, balance: o, amount: i }) : (0, h.n_)();
            },
            [y, U]
          ),
          z = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return O(
                (0, i.Z)(
                  {
                    room_id: K,
                    to_room_id: K,
                    sec_anchor_id: G,
                    sec_to_user_id: G,
                    gift_scene: j,
                    to_episode_id: H,
                    fetch_giftlist_from: 3,
                  },
                  e
                )
              ).then(function (e) {
                var t = e.data,
                  n = e.logId;
                if (0 === v()(t, "status_code")) {
                  var r = v()(t, "data.pages", []),
                    o = (0, h.BU)(r);
                  return C(o), u().resolve(t);
                }
                return (
                  f.F.info(
                    v()(
                      t,
                      "data.prompts",
                      "\u83b7\u53d6\u793c\u7269\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    )
                  ),
                  g.k.error("\u83b7\u53d6\u793c\u7269\u5931\u8d25", t, n),
                  u().reject(t)
                );
              });
            },
            [K, G, H, j, C]
          ),
          Q = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return L(
                (0, i.Z)({ is_living: !1, download_assets_from: 3 }, e)
              ).then(function (e) {
                var t = e.data,
                  n = e.logId;
                if (0 === v()(t, "status_code")) {
                  var r = v()(t, "data.assets", []),
                    o = (0, h.Js)(r);
                  return b(o), u().resolve(t);
                }
                return (
                  f.F.info(
                    v()(
                      t,
                      "data.prompts",
                      "\u83b7\u53d6\u7279\u6548\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    )
                  ),
                  g.k.error("\u83b7\u53d6\u7279\u6548\u5931\u8d25", t, n),
                  u().reject(t)
                );
              });
            },
            [b]
          ),
          X = (0, d.useCallback)(function () {
            var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            return L(
              (0, i.Z)({ is_living: !1, download_assets_from: 3 }, e)
            ).then(function (e) {
              var t = e.data,
                n = e.logId;
              if (0 === v()(t, "status_code")) {
                var r = v()(t, "data.assets", []),
                  o = (0, h.Js)(r);
                return u().resolve(o[0]);
              }
              return (
                g.k.error(
                  "\u83b7\u53d6\u5355\u4e2a\u7279\u6548\u5931\u8d25",
                  t,
                  n
                ),
                u().reject()
              );
            });
          }, []),
          J = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              if (F)
                return k((0, i.Z)({}, e)).then(function (e) {
                  var t = e.data,
                    n = e.logId;
                  if (0 === v()(t, "status_code")) {
                    var r = v()(t, "data.diamond", 0);
                    return A(r), u().resolve(t);
                  }
                  return (
                    f.F.info(
                      v()(
                        t,
                        "data.prompts",
                        "\u83b7\u53d6\u6296\u5e01\u4f59\u989d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                      )
                    ),
                    g.k.error(
                      "\u83b7\u53d6\u6296\u5e01\u4f59\u989d\u5931\u8d25",
                      t,
                      n
                    ),
                    u().reject(t)
                  );
                });
            },
            [F, A]
          ),
          $ = (0, d.useCallback)(
            (0, a.Z)(
              c().mark(function e() {
                var t,
                  r,
                  l,
                  d,
                  _ = arguments;
                return c().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        if (
                          ((t = _.length > 0 && void 0 !== _[0] ? _[0] : {}),
                          (r = !(_.length > 1 && void 0 !== _[1]) || _[1]),
                          F)
                        ) {
                          e.next = 7;
                          break;
                        }
                        return (
                          (e.next = 5),
                          (0, h.m8)(
                            "\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c",
                            "live_gift"
                          )
                        );
                      case 5:
                        return (0, h.rp)(x), e.abrupt("return", u().reject());
                      case 7:
                        if (s) {
                          e.next = 11;
                          break;
                        }
                        return (
                          f.F.info(
                            "\u6682\u65e0\u9001\u793c\u6743\u9650\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                          ),
                          (0, h.rp)(x),
                          e.abrupt("return", u().reject())
                        );
                      case 11:
                        return (
                          (l = t.giftSource),
                          (d = (0, o.Z)(t, Y)),
                          e.abrupt(
                            "return",
                            R(
                              (0, i.Z)(
                                {
                                  room_id: K,
                                  to_room_id: K,
                                  sec_to_user_id: G,
                                  to_episode_id: H,
                                  send_type: 4,
                                  send_scene: 1,
                                  gift_source: 0,
                                  buff_level: 0,
                                },
                                d
                              )
                            ).then(
                              (function () {
                                var e = (0, a.Z)(
                                  c().mark(function e(o) {
                                    var a, i, s, _, E;
                                    return c().wrap(function (e) {
                                      for (;;)
                                        switch ((e.prev = e.next)) {
                                          case 0:
                                            if (
                                              ((a = o.data),
                                              (i = o.logId),
                                              (s = v()(a, "status_code")),
                                              (_ = t.price * t.count),
                                              0 !== s)
                                            ) {
                                              e.next = 10;
                                              break;
                                            }
                                            (E = (0, h.mL)(
                                              v()(a, "data"),
                                              m,
                                              T,
                                              n,
                                              v()(d, "count")
                                            )),
                                              S(E),
                                              J(),
                                              (0, N.U$)({
                                                gift_id: v()(a, "data.gift_id"),
                                                combo_cnt: v()(
                                                  a,
                                                  "data.combo_count"
                                                ),
                                                group_cnt: v()(
                                                  a,
                                                  "data.group_count"
                                                ),
                                                gift_source: l,
                                                money_per_unit: t.price,
                                                gift_cnt: t.count,
                                                money: _,
                                              }),
                                              (e.next = 16);
                                            break;
                                          case 10:
                                            if (20003 !== s) {
                                              e.next = 15;
                                              break;
                                            }
                                            return (
                                              (e.next = 13),
                                              (0, h.m8)(
                                                "\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c",
                                                "live_gift"
                                              )
                                            );
                                          case 13:
                                            e.next = 16;
                                            break;
                                          case 15:
                                            40001 === s
                                              ? r &&
                                                (y
                                                  ? q({
                                                      type: "balance",
                                                      balance: _ - I,
                                                      amount: _,
                                                    })
                                                  : M({
                                                      content:
                                                        "\u60a8\u7684\u4f59\u989d\u4e0d\u8db3\uff0c\u8bf7\u5145\u503c\uff5e",
                                                      confirmBtnText:
                                                        "\u53bb\u5145\u503c",
                                                      onConfirm: h.n_,
                                                    }))
                                              : 42201 === s
                                              ? f.F.info(
                                                  "\u4e3a\u4fdd\u969c\u8d26\u53f7\u548c\u8d44\u91d1\u5b89\u5168\uff0c\u8bf7\u5148\u524d\u5f80\u6296\u97f3app\u5b8c\u6210\u8eab\u4efd\u9a8c\u8bc1"
                                                )
                                              : 42202 === s
                                              ? f.F.info(
                                                  "\u4e3a\u4fdd\u969c\u8d26\u53f7\u548c\u8d44\u91d1\u5b89\u5168\uff0c\u8bf7\u5148\u524d\u5f80\u6296\u97f3app\u5b8c\u6210\u8eab\u4efd\u6838\u5bf9"
                                                )
                                              : (f.F.info(
                                                  v()(
                                                    a,
                                                    "data.prompts",
                                                    "\u9001\u793c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                                                  )
                                                ),
                                                g.k.error(
                                                  "\u9001\u793c\u5931\u8d25",
                                                  a,
                                                  i
                                                ));
                                          case 16:
                                            if (0 !== s) {
                                              e.next = 20;
                                              break;
                                            }
                                            return e.abrupt(
                                              "return",
                                              u().resolve(a)
                                            );
                                          case 20:
                                            return (
                                              (0, h.rp)(x),
                                              e.abrupt("return", u().reject(a))
                                            );
                                          case 22:
                                          case "end":
                                            return e.stop();
                                        }
                                    }, e);
                                  })
                                );
                                return function (t) {
                                  return e.apply(this, arguments);
                                };
                              })()
                            )
                          )
                        );
                      case 13:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            ),
            [F, s, n, K, G, H, m, T, I, y, x, J, S, M, q]
          );
        return (
          (0, d.useEffect)(
            function () {
              e && s && (z(), Q());
            },
            [s]
          ),
          (0, d.useEffect)(
            function () {
              e && F && J();
            },
            [F]
          ),
          {
            getGifts: z,
            getEffects: Q,
            getSingleEffect: X,
            getBalance: J,
            sendGift: $,
            handleRecharge: q,
          }
        );
      };
    },
    44477: (e, t, n) => {
      n.d(t, { Y: () => N, Z: () => I });
      var r = n(85131),
        o = n(64408),
        a = n(65146),
        i = n(5594),
        l = n.n(i),
        c = n(44503),
        s = n(9),
        u = n(75409),
        d = n(79705),
        m = n.n(d),
        v = n(42327),
        f = n(46609);
      const _ = "Gxhxj2BV",
        E = "dQXw5PoI",
        p = "B55hi6VM",
        h = "n8aUu0bU";
      var g = function (e) {
        var t,
          n = e.title,
          r = e.content,
          o = e.confirmBtnText,
          i = void 0 === o ? "\u786e\u5b9a" : o,
          l = e.closeBtnText,
          s = void 0 === l ? "\u53d6\u6d88" : l,
          u = e.onConfirm,
          d = e.onClose,
          g = e.className;
        return c.createElement(
          f.Z,
          {
            visible: !0,
            className: m()(
              ((t = {}), (0, a.Z)(t, h, !0), (0, a.Z)(t, g, Boolean(g)), t)
            ),
            title: n,
            onCancel: d,
            closeable: !1,
          },
          c.createElement(
            "div",
            { className: _ },
            c.createElement("div", { className: E }, r),
            c.createElement(
              "div",
              { className: p },
              c.createElement(
                v.zx,
                {
                  type: v.L$.secondary,
                  onClick: function () {
                    d && d();
                  },
                },
                s
              ),
              c.createElement(
                v.zx,
                {
                  onClick: function () {
                    u && u();
                  },
                },
                i
              )
            )
          )
        );
      };
      var N,
        T = n(73997);
      !(function (e) {
        (e.Red = "1"), (e.Blue = "2");
      })(N || (N = {}));
      const I = function () {
        var e = (0, r.Z)().linkmicStore,
          t = e.teamfightInfo,
          n = e.linkMicSeats,
          a = (0, T.Z)({ teamfightInfo: t, linkMicSeats: n }),
          i = a.isGroupFight,
          d = a.statusTexting,
          m = a.pickEmptySeatPositionByGroup,
          v = a.groupMemberCnts,
          f = a.willInterruptWithPosQuit,
          _ = a.leftTeamScore,
          E = a.rightTeamScore,
          p = a.status,
          h = a.countDown,
          I = a.isInPunish,
          y = a.isGroupPlaying,
          S = a.redGroupSeats,
          C = a.blueGroupSeats,
          b = (function () {
            var e,
              t,
              n = (
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {}
              ).elementClass,
              r = void 0 === n ? "confirm-modal" : n,
              a = function () {
                e &&
                  t &&
                  (u.ZP.removeClass(t, r),
                  s.unmountComponentAtNode(t),
                  e.removeChild(t),
                  (e.style.overflow = ""));
              },
              i = function () {
                var n =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  i = n.title,
                  d = n.content,
                  m = n.confirmBtnText,
                  v = n.closeBtnText,
                  f = n.onConfirm,
                  _ = n.onClose,
                  E = n.className,
                  p = (function () {
                    var e = (0, o.Z)(
                      l().mark(function e() {
                        return l().wrap(function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                if (!f) {
                                  e.next = 3;
                                  break;
                                }
                                return (e.next = 3), f();
                              case 3:
                                a();
                              case 4:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                      })
                    );
                    return function () {
                      return e.apply(this, arguments);
                    };
                  })(),
                  h = (function () {
                    var e = (0, o.Z)(
                      l().mark(function e() {
                        return l().wrap(function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                if (!_) {
                                  e.next = 3;
                                  break;
                                }
                                return (e.next = 3), _();
                              case 3:
                                a();
                              case 4:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                      })
                    );
                    return function () {
                      return e.apply(this, arguments);
                    };
                  })();
                (e = document.body),
                  (t = u.ZP.findDom(e, ".".concat(r))) ||
                    ((t = document.createElement("div")),
                    u.ZP.addClass(t, r),
                    e.appendChild(t),
                    (e.style.overflow = "hidden"),
                    s.render(
                      c.createElement(g, {
                        title: i,
                        content: d,
                        confirmBtnText: m,
                        closeBtnText: v,
                        onConfirm: p,
                        onClose: h,
                        className: E,
                      }),
                      t
                    ));
              };
            return { showModal: i, destroyModal: a };
          })(),
          A = b.showModal;
        return {
          isGroupFight: i,
          statusTexting: d,
          pickEmptySeatPositionByGroup: m,
          groupMemberCnts: v,
          willInterruptWithPosQuit: f,
          exitGameConfirm: function (e, t) {
            if (t) {
              var n = String(t) === N.Red ? "\u7ea2\u961f" : "\u84dd\u961f";
              A({
                title: "\u786e\u8ba4\u9000\u51fa".concat(n, "\u5417"),
                content: "\u9000\u51fa\u540e".concat(
                  n,
                  "\u4eba\u6570\u4e3a 0\uff0c\u56e2\u6218\u5c06\u81ea\u52a8\u7ed3\u675f"
                ),
                onConfirm: function () {
                  e();
                },
              });
            }
          },
          leftTeamScore: _,
          rightTeamScore: E,
          status: p,
          countDown: h,
          isInPunish: I,
          isGroupPlaying: y,
          redGroupSeats: S,
          blueGroupSeats: C,
        };
      };
    },
    99520: (e, t, n) => {
      n.d(t, { Z: () => a });
      var r = n(85131),
        o = n(51847);
      const a = function () {
        var e = (0, r.Z)().linkmicStore.guestBattleInfo,
          t = (0, o.Z)({ guestBattleInfo: e });
        return {
          isGuestBattle: t.isGuestBattle,
          status: t.status,
          isInPunish: t.isInPunish,
          isGuestPlaying: t.isGuestPlaying,
        };
      };
    },
    39534: (e, t, n) => {
      n.d(t, { Z: () => R });
      var r,
        o = n(89884),
        a = n.n(o),
        i = n(56402),
        l = n.n(i),
        c = n(22111),
        s = n.n(c),
        u = n(80051),
        d = n.n(u),
        m = n(73051),
        v = n.n(m),
        f = n(59440),
        _ = n.n(f),
        E = n(46914),
        p = n(20104),
        h = n(830),
        g = n(54510),
        N = n(87240),
        T = n(54120),
        I = n(72842);
      !(function (e) {
        (e[(e.CloseRoomTypeNormal = 0)] = "CloseRoomTypeNormal"),
          (e[(e.CloseRoomTypeForceClose = 1)] = "CloseRoomTypeForceClose"),
          (e[(e.CloseRoomTypeFinish = 2)] = "CloseRoomTypeFinish"),
          (e[(e.CloseRoomTypeAnchorKickout = 4)] =
            "CloseRoomTypeAnchorKickout"),
          (e[(e.CloseRoomTypeAccountKickout = 5)] =
            "CloseRoomTypeAccountKickout"),
          (e[(e.CloseRoomTypeSelfOnRecord = 6)] = "CloseRoomTypeSelfOnRecord"),
          (e[(e.CloseRoomTypeFail = 7)] = "CloseRoomTypeFail"),
          (e[(e.CloseRoomTypeForbidden = 8)] = "CloseRoomTypeForbidden"),
          (e[(e.CloseRoomTypeCocosError = 9)] = "CloseRoomTypeCocosError"),
          (e[(e.CloseRoomTypeChangingRoom = 10)] = "CloseRoomTypeChangingRoom"),
          (e[(e.CloseRoomTypeForceByMSeq = 11)] = "CloseRoomTypeForceByMSeq"),
          (e[(e.CloseRoomTypeTermination = 12)] = "CloseRoomTypeTermination"),
          (e[(e.CloseRoomTypeNone = 13)] = "CloseRoomTypeNone");
      })(r || (r = {}));
      var y = n(95842),
        S = n(73177),
        C = n(72302),
        b = n(10790),
        A = n(44503),
        O = n(85131),
        L = n(14484);
      const R = function () {
        var e = (0, O.Z)(),
          t = e.roomStore.roomInfo,
          n = e.linkmicStore,
          o = n.setLinkStatus,
          i = n.linkStatus,
          c = n.selectedPosition,
          u = n.setApplySource,
          m = n.setIsCandidate,
          f = n.linkMicSeats,
          R = n.setSelfLinkedPosition,
          k = n.linkMicConfig,
          w = n.setDevices,
          P = e.userStore.userInfo,
          M = (0, C.n)().player,
          Z = A.useMemo(
            function () {
              var e;
              return null === (e = f[c || ""]) || void 0 === e
                ? void 0
                : e.user;
            },
            [f, c]
          ),
          U = l()(t, "anchor.id_str", ""),
          D = l()(t, "roomId", ""),
          x = A.useCallback(
            function (e, t) {
              var n = t || {},
                r = n.priorityPosition,
                a = n.teamFightTeamId,
                i = a ? { teamfight_team_id: a } : void 0,
                l = r || c;
              return (0, E.q7)(
                s()(
                  {
                    room_id: D,
                    anchor_id: U,
                    link_type: e,
                    apply_type: y.XC.NORMAL,
                    guest_supported_vendor: 4,
                  },
                  void 0 === l ? {} : { position: l },
                  i
                )
              ).then(function (e) {
                var t = e.data,
                  n = e.logId,
                  r = t.status_code;
                if (((0, p.PW)(r), 0 === r)) {
                  var i;
                  if (
                    (o(I.cK.LINKING),
                    k.config[S.V9.AU_BigPartyAcceptNeedVerified] ===
                      S.q2.OPEN ||
                      k.config[S.V9.AU_AudioChatAcceptNeedVerified] ===
                        S.q2.OPEN)
                  ) {
                    var l;
                    b.F.info(
                      (null == t || null === (l = t.data) || void 0 === l
                        ? void 0
                        : l.prompts) ||
                        "\u7533\u8bf7\u6210\u529f\uff0c\u7b49\u5f85\u4e3b\u64ad\u901a\u8fc7",
                      M.root
                    );
                  } else {
                    var c,
                      s =
                        null == t || null === (c = t.data) || void 0 === c
                          ? void 0
                          : c.prompts;
                    s && b.F.info(s, M.root);
                  }
                  null != t &&
                    null !== (i = t.data) &&
                    void 0 !== i &&
                    i.auto_join_full &&
                    m(!0),
                    (0, h.Hj)({ grouppk_group: "1" === a ? "red" : "blue" });
                } else if (4016005 === r)
                  b.F.info(
                    "\u5f53\u524d\u76f4\u64ad\u95f4\u4ec5\u652f\u6301\u7c89\u4e1d\u8fde\u7ebf\uff0c\u8bf7\u5148\u5173\u6ce8\u4e3b\u64ad",
                    M.root
                  );
                else if (30010 === r)
                  b.F.info(
                    "\u60a8\u5f53\u524d\u672a\u5b9e\u540d\u8ba4\u8bc1\uff0c\u8bf7\u53bb\u624b\u673a\u7aef\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\u540e\u91cd\u8bd5",
                    M.root
                  );
                else {
                  var u;
                  b.F.info(
                    (null == t || null === (u = t.data) || void 0 === u
                      ? void 0
                      : u.prompts) ||
                      "\u7533\u8bf7\u4e0a\u9ea6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",
                    M.root
                  );
                }
                return 0 === r
                  ? d().resolve(t)
                  : (g.k.error("\u7533\u8bf7\u4e0a\u9ea6\u5931\u8d25", t, n),
                    d().reject(t));
              });
            },
            [o, D, U, c, m, k.config, M]
          ),
          F = A.useCallback(
            function (e, t, n) {
              var l;
              if (i === I.cK.NOT_LINK) return d().resolve();
              if (
                n &&
                "function" ==
                  typeof (null === (l = navigator) || void 0 === l
                    ? void 0
                    : l.sendBeacon)
              ) {
                var c = new (v())();
                return (
                  c.append("room_id", D),
                  c.append("end_reason", "".concat(r.CloseRoomTypeNormal)),
                  c.append("request_source", "leave_normally"),
                  navigator.sendBeacon(
                    "".concat(
                      L.Pe(),
                      "/webcast/linkmic_audience/leave/?aid=6383&live_id=1"
                    ),
                    c
                  ),
                  d().resolve()
                );
              }
              return (0, E.TL)({
                room_id: D,
                end_reason: r.CloseRoomTypeNormal,
                request_source: "leave_normally",
              })
                .then(function (n) {
                  var r = n.data,
                    i = n.logId,
                    l = r.status_code;
                  return (
                    (0, p.w9)(l),
                    0 === l
                      ? ((0, h.SR)(e, t),
                        (0, h.Ai)(),
                        w({ audio: void 0, video: void 0 }),
                        o(I.cK.NOT_LINK))
                      : 31001 === l
                      ? a()()
                      : b.F.info(
                          "\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",
                          M.root
                        ),
                    0 === l
                      ? d().resolve(r)
                      : (g.k.error(
                          "\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25",
                          r,
                          i
                        ),
                        d().reject(r))
                  );
                })
                .finally(function () {
                  u(N.JW.NONE);
                });
            },
            [D, o, u, i, M, w]
          ),
          K = A.useCallback(
            function () {
              return (0, E.JJ)(D).then(function (e) {
                var t = e.data,
                  n = e.logId,
                  r = t.status_code;
                if (((0, p.xc)(r), 0 === r)) {
                  var a, i, l;
                  if (
                    (o(I.cK.LINKED),
                    null != t &&
                      null !== (a = t.data) &&
                      void 0 !== a &&
                      a.delegate_setting)
                  ) {
                    var c,
                      s = (
                        null == t || null === (c = t.data) || void 0 === c
                          ? void 0
                          : c.delegate_setting
                      ).enable_delegate;
                    localStorage.setItem(T.QU, s ? N.eG.ON : N.eG.OFF);
                  }
                  var u =
                    null == t ||
                    null === (i = t.data) ||
                    void 0 === i ||
                    null === (l = i.linked_users) ||
                    void 0 === l
                      ? void 0
                      : _()(l).call(l, function (e) {
                          var t;
                          return (
                            (null === (t = e.user) || void 0 === t
                              ? void 0
                              : t.id_str) === (null == P ? void 0 : P.id_str)
                          );
                        });
                  u && R(u.user_position),
                    b.F.info("\u8fde\u7ebf\u6210\u529f", M.root),
                    (0, h.TD)() && (0, h.tk)();
                }
                return 0 === r
                  ? d().resolve(t)
                  : (g.k.error(
                      "\u52a0\u5165\u8fde\u9ea6\u623f\u95f4\u5931\u8d25",
                      t,
                      n
                    ),
                    d().reject(t));
              });
            },
            [D, o, R, P, M]
          ),
          G = A.useCallback(
            function (e) {
              var t;
              return (0, E.VV)({
                room_id: D,
                sec_to_user_id:
                  e ||
                  (null == Z || null === (t = Z.user) || void 0 === t
                    ? void 0
                    : t.sec_uid) ||
                  "",
                silence_type: y.av.SILENCE_TYPE_NORMAL,
              }).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId,
                  o = n.status_code;
                return (
                  (0, p.ih)(o),
                  0 === o
                    ? (b.F.info("\u9759\u97f3\u6210\u529f"), d().resolve(n))
                    : (g.k.error("\u9759\u97f3\u5931\u8d25", n, r),
                      b.F.info(
                        (null == n || null === (t = n.data) || void 0 === t
                          ? void 0
                          : t.prompts) ||
                          "\u7533\u8bf7\u9759\u97f3\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",
                        M.root
                      ),
                      d().reject(n))
                );
              });
            },
            [D, Z, M]
          ),
          V = A.useCallback(
            function (e) {
              var t;
              return (0, E.AE)({
                room_id: D,
                sec_to_user_id:
                  e ||
                  (null == Z || null === (t = Z.user) || void 0 === t
                    ? void 0
                    : t.sec_uid) ||
                  "",
              }).then(function (e) {
                var t = e.data,
                  n = e.logId;
                return 0 === t.status_code
                  ? (b.F.info("\u53d6\u6d88\u9759\u97f3\u6210\u529f", M.root),
                    d().resolve(t))
                  : (g.k.error("\u53d6\u6d88\u9759\u97f3\u5931\u8d25", t, n),
                    b.F.info(
                      "\u7533\u8bf7\u53d6\u6d88\u9759\u97f3\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",
                      M.root
                    ),
                    d().reject(t));
              });
            },
            [D, Z, M]
          ),
          Y = A.useCallback(
            function (e) {
              var t = e || {},
                n = t.from,
                r = t.to;
              return (
                (0, h.W1)(c, { from: n, to: r }),
                (0, E.oX)({ room_id: D, to_position: c }).then(function (e) {
                  var t = e.data,
                    n = e.logId,
                    r = t.status_code;
                  return 0 === r
                    ? d().resolve(t)
                    : (4004177 === r
                        ? a()()
                        : (b.F.info(
                            "\u5207\u6362\u9ea6\u4f4d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",
                            M.root
                          ),
                          g.k.error(
                            "\u5207\u6362\u9ea6\u4f4d\u5931\u8d25",
                            t,
                            n
                          )),
                      d().reject(t));
                })
              );
            },
            [D, c, M]
          );
        return {
          apply: x,
          leave: F,
          join: K,
          silence: G,
          unSilence: V,
          enableVideo: A.useCallback(
            function (e) {
              var t;
              return (0, E.SR)(
                D,
                e ||
                  (null == Z || null === (t = Z.user) || void 0 === t
                    ? void 0
                    : t.id_str) ||
                  ""
              ).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                0 !== (null == n ? void 0 : n.status_code) &&
                  b.F.info(
                    (null == n || null === (t = n.data) || void 0 === t
                      ? void 0
                      : t.prompts) ||
                      "\u7533\u8bf7\u5f00\u542f\u89c6\u9891\u5931\u8d25, \u8bf7\u7a0d\u540e\u91cd\u8bd5",
                    M.root
                  );
                return 0 === (null == n ? void 0 : n.status_code)
                  ? d().resolve(n)
                  : (g.k.error(
                      "\u5f00\u542f\u89c6\u9891\u8fde\u7ebf\u5931\u8d25",
                      n,
                      r
                    ),
                    d().reject(n));
              });
            },
            [D, Z, M]
          ),
          disableVideo: A.useCallback(
            function (e) {
              var t;
              return (0, E.cJ)(
                D,
                e ||
                  (null == Z || null === (t = Z.user) || void 0 === t
                    ? void 0
                    : t.id_str) ||
                  ""
              ).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                0 !== (null == n ? void 0 : n.status_code) &&
                  b.F.info(
                    (null == n || null === (t = n.data) || void 0 === t
                      ? void 0
                      : t.prompts) ||
                      "\u7533\u8bf7\u5173\u95ed\u89c6\u9891\u5931\u8d25, \u8bf7\u7a0d\u540e\u91cd\u8bd5",
                    M.root
                  );
                return 0 === (null == n ? void 0 : n.status_code)
                  ? d().resolve(n)
                  : (g.k.error(
                      "\u5f00\u542f\u89c6\u9891\u8fde\u7ebf\u5931\u8d25",
                      n,
                      r
                    ),
                    d().reject(n));
              });
            },
            [D, Z, M]
          ),
          switchMic: Y,
        };
      };
    },
    19268: (e, t, n) => {
      n.d(t, { I: () => l });
      var r = n(32781),
        o = n(19478),
        a = n.n(o),
        i = n(44503),
        l = function () {
          var e = i.useState(),
            t = (0, r.Z)(e, 2),
            n = t[0],
            o = t[1],
            l = i.useCallback(function (e) {
              o(e);
            }, []),
            c = i.useMemo(
              function () {
                return a()(l, 200);
              },
              [l]
            ),
            s = i.useCallback(
              function () {
                c.cancel(), o(void 0);
              },
              [c]
            );
          return { hoverId: n, onCardMouseEnter: c, onCardMouseLeave: s };
        };
    },
    21914: (e, t, n) => {
      n.d(t, { $: () => r, Z: () => s });
      var r,
        o = n(56402),
        a = n.n(o),
        i = n(85131),
        l = n(44503),
        c = n(2942);
      !(function (e) {
        (e[(e.ROOM_ID_EMPTY = 0)] = "ROOM_ID_EMPTY"),
          (e[(e.LIVING_PAUSE = 1)] = "LIVING_PAUSE"),
          (e[(e.LIVING_END = 2)] = "LIVING_END"),
          (e[(e.NO_LOGIN = 3)] = "NO_LOGIN"),
          (e[(e.DEFAULT = 4)] = "DEFAULT");
      })(r || (r = {}));
      const s = function () {
        var e,
          t,
          n = (0, i.Z)(),
          o = n.userStore.userInfo,
          s = n.roomStore.roomInfo,
          u = s.roomId,
          d = void 0 === u ? "" : u;
        return (0, l.useMemo)(
          function () {
            return d
              ? a()(s, "room.mosaic_status", 0) ||
                c.LV.PAUSE === a()(s, "room.status")
                ? r.LIVING_PAUSE
                : a()(s, "room.status") === c.LV.END
                ? r.LIVING_END
                : o.id_str
                ? r.DEFAULT
                : r.NO_LOGIN
              : r.ROOM_ID_EMPTY;
          },
          [
            d,
            null == s || null === (e = s.room) || void 0 === e
              ? void 0
              : e.status,
            null == s || null === (t = s.room) || void 0 === t
              ? void 0
              : t.mosaic_status,
            o.id_str,
          ]
        );
      };
    },
    19347: (e, t, n) => {
      n.d(t, { Z: () => C });
      var r = n(64408),
        o = n(30906),
        a = n(5594),
        i = n.n(a),
        l = n(80051),
        c = n.n(l),
        s = n(21805),
        u = n.n(s),
        d = n(44503),
        m = n(10790),
        v = n(72302),
        f = n(54510),
        _ = n(70179),
        E = n(98479),
        p = n(23383),
        h = n(11171),
        g = n(2857),
        N = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return g.Z.get("/webcast/linkmic/battle/stats/", {
            params: (0, o.Z)({}, e),
          });
        },
        T = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return g.Z.get("/webcast/linkmic/list/", { params: (0, o.Z)({}, e) });
        },
        I = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return g.Z.get("/webcast/linkmic/battle/ranklist_armies/", {
            params: (0, o.Z)({}, e),
          });
        },
        y = n(85131),
        S = n(46778);
      const C = function () {
        var e,
          t,
          n = (0, d.useRef)(!1),
          a = (0, y.Z)(),
          l = a.userStore.userInfo,
          s = a.roomStore.roomInfo,
          g = a.pkStore.pkAppData,
          C = (0, v.n)().player,
          b = (null == s ? void 0 : s.roomId) || "",
          A =
            (null == s || null === (e = s.anchor) || void 0 === e
              ? void 0
              : e.id_str) || "",
          O =
            (null == s || null === (t = s.anchor) || void 0 === t
              ? void 0
              : t.sec_uid) || "",
          L = (null == l ? void 0 : l.id_str) || "",
          R = (null == l ? void 0 : l.sec_uid) || "",
          k = (null == g ? void 0 : g.channelId) || 0,
          w = null == g ? void 0 : g.ver,
          P = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return N(
                (0, o.Z)(
                  {
                    room_id: b,
                    anchor_id: A,
                    sec_anchor_id: O,
                    channel_id: k,
                    from_type: 3,
                  },
                  e
                )
              ).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                return 0 === (null == n ? void 0 : n.status_code)
                  ? c().resolve(n)
                  : (m.F.info(
                      (null == n || null === (t = n.data) || void 0 === t
                        ? void 0
                        : t.prompts) ||
                        "\u83b7\u53d6 PK \u72b6\u6001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    ),
                    f.k.error("\u83b7\u53d6 PK \u72b6\u6001\u5931\u8d25", n, r),
                    c().reject(n));
              });
            },
            [b, A, O, k]
          ),
          M = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return T(
                (0, o.Z)(
                  (0, o.Z)(
                    (0, o.Z)(
                      {
                        room_id: b,
                        channel_id: k,
                        offset: 0,
                        count: 50,
                        link_status: 4,
                      },
                      w === _.TG.DOUBLE && {
                        scene: 1,
                        request_source: "audience_enter_room",
                      }
                    ),
                    w === _.TG.MULTI && {
                      scene: 7,
                      request_source: "receive_multi_linker_sei",
                    }
                  ),
                  e
                )
              ).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                return 0 === (null == n ? void 0 : n.status_code)
                  ? c().resolve(n)
                  : (m.F.info(
                      (null == n || null === (t = n.data) || void 0 === t
                        ? void 0
                        : t.prompts) ||
                        "\u83b7\u53d6 PK \u5217\u8868\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    ),
                    f.k.error("\u83b7\u53d6 PK \u5217\u8868\u5931\u8d25", n, r),
                    c().reject(n));
              });
            },
            [b, k, w]
          ),
          Z = (0, d.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return I((0, o.Z)({ channel_id: k }, e)).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                return 0 === (null == n ? void 0 : n.status_code)
                  ? c().resolve(n)
                  : (m.F.info(
                      (null == n || null === (t = n.data) || void 0 === t
                        ? void 0
                        : t.prompts) ||
                        "\u83b7\u53d6 PK \u8d21\u732e\u699c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    ),
                    f.k.error(
                      "\u83b7\u53d6 PK \u8d21\u732e\u699c\u5931\u8d25",
                      n,
                      r
                    ),
                    c().reject(n));
              });
            },
            [k]
          ),
          U = (0, d.useCallback)(function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              t = e.targetUid,
              n = e.secTargetUid;
            return h
              .bG({ target_uid: t, sec_target_uid: n })
              .then(function (e) {
                var t = e.data,
                  n = e.logId;
                return 0 === (null == t ? void 0 : t.status_code)
                  ? c().resolve(t)
                  : (f.k.error(
                      "\u83b7\u53d6 PK \u8d21\u732e\u699c\u7684\u7528\u6237\u4fe1\u606f\u5931\u8d25",
                      t,
                      n
                    ),
                    c().reject(t));
              });
          }, []),
          D = (0, d.useCallback)(
            (function () {
              var e = (0, r.Z)(
                i().mark(function e(t) {
                  var r,
                    a,
                    l,
                    c,
                    s,
                    d,
                    v,
                    f,
                    _,
                    E,
                    p,
                    h,
                    g,
                    N,
                    T,
                    I,
                    y,
                    A,
                    O,
                    k,
                    w,
                    P,
                    M,
                    Z,
                    D,
                    x,
                    F,
                    K,
                    G,
                    V,
                    Y,
                    B;
                  return i().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((r = t.user),
                              (a = t.event),
                              (l = t.style),
                              (c = t.container),
                              (s = void 0 === c ? null : c),
                              (d = t.showGoToLivingBtn),
                              (v = void 0 !== d && d),
                              (f = t.needGetUserInfo),
                              (_ = void 0 !== f && f),
                              (E = t.pointParams),
                              (p = void 0 === E ? {} : E),
                              (h = t.onFollowStatusUpdate),
                              (g = r.uid),
                              (N = void 0 === g ? "" : g),
                              (T = r.secUid),
                              (I = void 0 === T ? "" : T),
                              (y = r.displayId),
                              (A = void 0 === y ? "" : y),
                              (O = r.name),
                              (k = r.avatar),
                              (w = r.mysteryMan),
                              (P = r.desensitizedNickname),
                              (M = r.signature),
                              (Z = r.followInfo),
                              (D = N === L),
                              (F = {
                                payload: {
                                  user: (x = {
                                    nickname: O,
                                    mysteryMan: w,
                                    desensitizedNickname: P,
                                    signature: M,
                                    followInfo: Z,
                                    avatarThumb: { urlList: [k] },
                                  }),
                                },
                              }),
                              null == O || !u()(O).call(O, "***") || D)
                            ) {
                              e.next = 8;
                              break;
                            }
                            return (
                              m.F.info(
                                "\u56e0\u4e3b\u64ad\u8bbe\u7f6e\u4e0d\u652f\u6301\u67e5\u770b\u4ed6\u4eba\u8d44\u6599"
                              ),
                              e.abrupt("return")
                            );
                          case 8:
                            if (!_) {
                              e.next = 26;
                              break;
                            }
                            if (!n.current) {
                              e.next = 11;
                              break;
                            }
                            return e.abrupt("return");
                          case 11:
                            return (
                              (n.current = !0),
                              (e.prev = 12),
                              (e.next = 15),
                              U({ targetUid: N, secTargetUid: I })
                            );
                          case 15:
                            (Y = e.sent),
                              (B = (null == Y ? void 0 : Y.data) || {}),
                              (x.followInfo = {
                                followStatus:
                                  null === (K = B.follow_info) || void 0 === K
                                    ? void 0
                                    : K.follow_status,
                                followerCount:
                                  (null === (G = B.follow_info) || void 0 === G
                                    ? void 0
                                    : G.follower_count) || 0,
                                followingCount:
                                  (null === (V = B.follow_info) || void 0 === V
                                    ? void 0
                                    : V.following_count) || 0,
                              }),
                              (x.signature = B.signature),
                              (e.next = 23);
                            break;
                          case 21:
                            (e.prev = 21), (e.t0 = e.catch(12));
                          case 23:
                            return (
                              (e.prev = 23), (n.current = !1), e.finish(23)
                            );
                          case 26:
                            S.Z.open(
                              {
                                uid: N,
                                secUid: I,
                                displayId: A,
                                loginUid: L,
                                loginSecUid: R,
                                roomId: b,
                                isSelf: D,
                                hasReport: !1,
                                message: F,
                                showGoToLivingBtn: v,
                                pointParams: p,
                                onFollowStatusUpdate: h,
                              },
                              (0, o.Z)(
                                (0, o.Z)({}, l),
                                {},
                                { top: a.clientY, left: a.clientX }
                              ),
                              s || (null == C ? void 0 : C.root)
                            );
                          case 27:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[12, 21, 23, 26]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            [b, L, R, C, U]
          ),
          x = (0, d.useCallback)(
            function () {
              var e,
                t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
              if (!L)
                return (
                  (0, E.m8)(
                    "\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c",
                    "live_pk"
                  ),
                  (0, E.rp)(C),
                  c().reject()
                );
              var n = t.uid,
                r = t.secUid,
                o = t.followStatus,
                a = u()((e = [p.E.EACH_OTHER, p.E.FROMUID_TO_TARGETUID])).call(
                  e,
                  o
                ),
                i = a ? "\u53d6\u6d88\u5173\u6ce8" : "\u5173\u6ce8",
                l = a ? h.fv : h.ZN;
              return l({
                to_user_id: n,
                sec_to_user_id: r,
                current_room_id: b,
                sec_user_id: L,
                channel_id: h.RN.ROOM,
              }).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                return 0 === (null == n ? void 0 : n.status_code)
                  ? (m.F.info("".concat(i, "\u6210\u529f")), c().resolve(n))
                  : (m.F.info(
                      (null == n || null === (t = n.data) || void 0 === t
                        ? void 0
                        : t.prompts) ||
                        "".concat(
                          i,
                          "\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                        )
                    ),
                    f.k.error("".concat(i, "\u5931\u8d25"), n, r),
                    c().reject(n));
              });
            },
            [b, L, C]
          );
        return {
          getPKStatus: P,
          getPKList: M,
          getPKContributors: Z,
          showUserInfoCard: D,
          followOrUnfollow: x,
        };
      };
    },
    57120: (e, t, n) => {
      n.d(t, { G: () => m });
      var r = n(56402),
        o = n.n(r),
        a = n(90823),
        i = n.n(a),
        l = n(10081),
        c = n.n(l),
        s = n(92012),
        u = n.n(s),
        d = n(44503),
        m = function (e, t, n) {
          var r = (0, d.useRef)(),
            a = (0, d.useRef)(0),
            l = o()(e, "roomId");
          (0, d.useEffect)(
            function () {
              l &&
                (v(e, "set"),
                clearInterval(r.current),
                (r.current = i()(function () {
                  if (1 !== a.current) v(e, "del"), (a.current = 1);
                  else if (!v(e, "get")) {
                    var n,
                      o =
                        null == t || null === (n = t.current) || void 0 === n
                          ? void 0
                          : n.getPlayer();
                    null == o || o.pause(), clearInterval(r.current);
                  }
                }, 1e3)));
            },
            [l, n]
          );
        },
        v = function (e, t) {
          var n = o()(e, "roomId");
          if (n) {
            var r = localStorage.getItem("playRoom"),
              a = null == r ? void 0 : c()(r).call(r, n);
            if ("get" === t) return void 0 !== a && a > -1;
            if ("set" === t) {
              var i;
              if (r)
                localStorage.setItem(
                  "playRoom",
                  u()((i = "".concat(r, ","))).call(i, n)
                );
              else localStorage.setItem("playRoom", "".concat(n));
              return !1;
            }
            "del" === t && localStorage.setItem("playRoom", "".concat(n));
          }
        };
    },
    13958: (e, t, n) => {
      n.d(t, { Z: () => d });
      var r = n(30906),
        o = n(65146),
        a = n(56402),
        i = n.n(a),
        l = n(9120),
        c = n.n(l),
        s = n(44503),
        u = [
          function (e) {
            var t = e.resolution;
            return null != t && t.match("3840")
              ? function (e) {
                  var t = e.fps,
                    n = e.sdk_key;
                  return 50 === t
                    ? (0, o.Z)({}, n, "4K\u9ad8\u5e27\u7387")
                    : (0, o.Z)({}, n, "4K");
                }
              : null;
          },
        ];
      const d = function (e) {
        return (0, s.useMemo)(
          function () {
            var t = i()(e, "options.qualities", []);
            return c()(t).call(
              t,
              function (e, t) {
                return (0, r.Z)(
                  (0, r.Z)({}, e),
                  c()(u).call(
                    u,
                    function (e, n) {
                      var o, a;
                      return (0, r.Z)(
                        (0, r.Z)({}, e),
                        null !==
                          (o =
                            null === (a = n(t)) || void 0 === a
                              ? void 0
                              : a(t)) && void 0 !== o
                          ? o
                          : {}
                      );
                    },
                    {}
                  )
                );
              },
              {}
            );
          },
          [e]
        );
      };
    },
    63546: (e, t, n) => {
      n.d(t, { Z: () => u });
      var r = n(56402),
        o = n.n(r),
        a = n(63786),
        i = n(2942),
        l = n(830),
        c = n(85131),
        s = n(44503);
      const u = function () {
        var e = (0, c.Z)().roomStore.roomInfo;
        return (0, s.useMemo)(
          function () {
            var t, n;
            return a.sk
              ? ""
              : "web_share_link" ===
                (null === (t = window) ||
                void 0 === t ||
                null === (n = t.__INVISIBLE_QUERY__) ||
                void 0 === n
                  ? void 0
                  : n.enter_from_merge)
              ? e.enter_mode === i.gE.APP
                ? l.R5.QRCODE
                : l.R5.STREAM
              : l.FO[o()(e, "room.stream_url.stream_orientation")] || "";
          },
          [e]
        );
      };
    },
    90524: (e, t, n) => {
      n.r(t), n.d(t, { default: () => Wr });
      var r = n(65146),
        o = n(30906),
        a = n(64408),
        i = n(32781),
        l = n(56402),
        c = n.n(l),
        s = n(77370),
        u = n.n(s),
        d = n(5594),
        m = n.n(d),
        v = n(21696),
        f = n.n(v),
        _ = n(94610),
        E = n.n(_),
        p = n(90823),
        h = n.n(p),
        g = n(80051),
        N = n.n(g),
        T = n(92012),
        I = n.n(T),
        y = n(63135),
        S = n.n(y),
        C = n(2857),
        b = n(830),
        A = function (e) {
          return C.Z.get("/webcast/web/leave/", {
            params: { room_id: e, leave_source: "WEB_INITIATIVE" },
          });
        },
        O = function (e, t, n, r, o) {
          var a = null != o ? o : "/webcast/web/enter/";
          return C.Z.get(a, {
            params: {
              web_rid: null == e ? void 0 : S()(e).call(e),
              room_id_str: t,
              enter_source: n === b.iT.SHARE_LINK ? "web_share_reflow" : "",
              "Room-Enter-User-Login-Ab": r,
              is_need_double_stream: !1,
            },
          });
        },
        L = n(68196),
        R = n(2942),
        k = n(9778),
        w = n(21857),
        P = n.n(w),
        M = n(90792),
        Z = n(44503),
        U = n(10790),
        D = n(18841),
        x = n(66231),
        F = n(59505),
        K = function (e) {
          var t = e.messageFrom,
            n = (0, Z.useState)(!1),
            r = (0, i.Z)(n, 2),
            o = r[0],
            a = r[1];
          (0, Z.useEffect)(function () {
            P()
              .app.getVersion()
              .then(function (e) {
                "windows" === x.f().os.toLowerCase() &&
                  "app" === t &&
                  P()
                    .app.getAutoStart()
                    .then(function (t) {
                      0 === t.code &&
                        !t.data &&
                        F.y(e.data.version, ">=", "1.3.0") &&
                        (a(!0), (0, b.iL)());
                    });
              });
          }, []);
          var l = (0, Z.useCallback)(function () {
              P()
                .app.setAutoStart(!0)
                .then(function (e) {
                  0 === e.code
                    ? (U.F.info(
                        "\u300c\u5f00\u673a\u542f\u52a8\u300d\u8bbe\u7f6e\u6210\u529f"
                      ),
                      (0, b.d3)({ action: "now" }))
                    : U.F.info(
                        "\u300c\u5f00\u673a\u542f\u52a8\u300d\u8bbe\u7f6e\u5931\u8d25"
                      ),
                    a(!1);
                });
            }, []),
            c = (0, Z.useCallback)(function () {
              a(!1), (0, b.d3)({ action: "later" });
            }, []);
          return o
            ? Z.createElement(D.Z, {
                content:
                  "\u8bbe\u7f6e\u300c\u5f00\u673a\u542f\u52a8\u300d\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u6296\u97f3App\u4e00\u952e\u6253\u5f00\u7535\u8111\u76f4\u64ad\u95f4",
                confirmBtnText: "\u73b0\u5728\u8bbe\u7f6e",
                cancleBtnText: "\u6682\u4e0d\u8bbe\u7f6e",
                onConfirm: l,
                onCancel: c,
              })
            : null;
        };
      const G = (0, Z.memo)(K);
      var V,
        Y,
        B,
        H,
        W = n(21805),
        j = n.n(W),
        q = n(81099),
        z = "audiencePanelScrollId";
      !(function (e) {
        (e[(e.DEFAULT = 30)] = "DEFAULT"), (e[(e.DURATION = 35)] = "DURATION");
      })(H || (H = {}));
      var Q,
        X,
        J,
        $,
        ee =
          ((V = {}),
          (0, r.Z)(V, H.DEFAULT, "\u9ed8\u8ba4"),
          (0, r.Z)(V, H.DURATION, "\u8fdb\u623f\u65f6\u95f4"),
          V),
        te =
          ((Y = {}),
          (0, r.Z)(
            Y,
            H.DEFAULT,
            "\u70b9\u8d5e\u548c\u9001\u793c\u540e\u6392\u5e8f\u66f4\u65b0"
          ),
          (0, r.Z)(
            Y,
            H.DURATION,
            "\u9000\u51fa\u91cd\u8fdb\u540e\u6392\u5e8f\u66f4\u65b0"
          ),
          Y),
        ne =
          ((B = {}),
          (0, r.Z)(B, H.DEFAULT, "default"),
          (0, r.Z)(B, H.DURATION, "duration"),
          B);
      !(function (e) {
        e.WEBCAST_ROOM_RANK_METHOD = "WebcastRoomRankMessage";
      })(Q || (Q = {})),
        (function (e) {
          (e.ENTER_ROOM = "enter_room"),
            (e.MOUSE_ENTER = "mouse_hover_show"),
            (e.MOUSE_LEAVE = "mouse_hover_close");
        })(X || (X = {})),
        (function (e) {
          (e.SHOW = "show"), (e.CLICK = "click");
        })(J || (J = {})),
        (function (e) {
          (e[(e.DEFAULT = 0)] = "DEFAULT"),
            (e[(e.ENABLE = 1)] = "ENABLE"),
            (e[(e.DISABLE = 2)] = "DISABLE");
        })($ || ($ = {}));
      var re = function () {
          var e,
            t,
            n,
            r,
            o,
            a,
            i,
            l,
            c,
            s,
            u,
            d,
            m,
            v,
            f,
            _,
            E,
            p,
            h,
            g,
            N,
            T,
            I,
            y,
            S,
            C,
            b,
            A,
            O,
            L,
            R,
            k =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            w = arguments.length > 1 ? arguments[1] : void 0;
          return {
            rank: null == k ? void 0 : k.rank,
            score: null == k ? void 0 : k.score,
            scoreBlur: null == k ? void 0 : k.score_description,
            gapDescription: null == k ? void 0 : k.gap_description,
            isHidden:
              (null == k ? void 0 : k.is_hidden) &&
              (null == k || null === (e = k.user) || void 0 === e
                ? void 0
                : e.id_str) !== w,
            uid:
              null == k || null === (t = k.user) || void 0 === t
                ? void 0
                : t.id_str,
            secUid:
              null == k || null === (n = k.user) || void 0 === n
                ? void 0
                : n.sec_uid,
            displayId:
              null == k || null === (r = k.user) || void 0 === r
                ? void 0
                : r.display_id,
            name:
              null == k || null === (o = k.user) || void 0 === o
                ? void 0
                : o.nickname,
            avatar: (0, q.uC)(
              null == k ||
                null === (a = k.user) ||
                void 0 === a ||
                null === (i = a.avatar_thumb) ||
                void 0 === i ||
                null === (l = i.url_list) ||
                void 0 === l
                ? void 0
                : l[0]
            ),
            mysteryMan:
              null == k || null === (c = k.user) || void 0 === c
                ? void 0
                : c.mystery_man,
            desensitizedNickname:
              null == k || null === (s = k.user) || void 0 === s
                ? void 0
                : s.desensitized_nickname,
            signature:
              null == k || null === (u = k.user) || void 0 === u
                ? void 0
                : u.signature,
            followInfo: {
              followStatus:
                null == k ||
                null === (d = k.user) ||
                void 0 === d ||
                null === (m = d.follow_info) ||
                void 0 === m
                  ? void 0
                  : m.follow_status,
              followerCount:
                null == k ||
                null === (v = k.user) ||
                void 0 === v ||
                null === (f = v.follow_info) ||
                void 0 === f
                  ? void 0
                  : f.follower_count,
              followingCount:
                null == k ||
                null === (_ = k.user) ||
                void 0 === _ ||
                null === (E = _.follow_info) ||
                void 0 === E
                  ? void 0
                  : E.following_count,
            },
            honorLevel: {
              icon: (0, q.uC)(
                null == k ||
                  null === (p = k.user) ||
                  void 0 === p ||
                  null === (h = p.pay_grade) ||
                  void 0 === h ||
                  null === (g = h.new_im_icon_with_level) ||
                  void 0 === g ||
                  null === (N = g.url_list) ||
                  void 0 === N
                  ? void 0
                  : N[0]
              ),
            },
            fansClub: {
              icon: (0, q.uC)(
                null == k ||
                  null === (T = k.user) ||
                  void 0 === T ||
                  null === (I = T.fans_club) ||
                  void 0 === I ||
                  null === (y = I.data) ||
                  void 0 === y ||
                  null === (S = y.badge) ||
                  void 0 === S ||
                  null === (C = S.icons) ||
                  void 0 === C ||
                  null === (b = C[2]) ||
                  void 0 === b ||
                  null === (A = b.url_list) ||
                  void 0 === A
                  ? void 0
                  : A[0]
              ),
              name:
                null == k ||
                null === (O = k.user) ||
                void 0 === O ||
                null === (L = O.fans_club) ||
                void 0 === L ||
                null === (R = L.data) ||
                void 0 === R
                  ? void 0
                  : R.club_name,
            },
          };
        },
        oe = function (e) {
          var t, n, r;
          return j()((t = [$.DEFAULT, $.ENABLE])).call(
            t,
            null == e ||
              null === (n = e.room) ||
              void 0 === n ||
              null === (r = n.room_auth) ||
              void 0 === r
              ? void 0
              : r.UpRightStatsFloatingLayer
          );
        },
        ae = n(24142),
        ie = n(79705),
        le = n.n(ie),
        ce = n(85131);
      const se = "zBToBU_j",
        ue = "fHFxxwsy",
        de = "sz0V8anf",
        me = "Wk9PFFRZ",
        ve = "ns_9qfU4",
        fe = "U1OI3Gtm";
      const _e = (0, ae.Pi)(function () {
        var e,
          t,
          n,
          o,
          a,
          i,
          l,
          c = (0, ce.Z)().roomStore.roomInfo,
          s =
            !(0, Z.useMemo)(
              function () {
                var e;
                return (
                  Number(
                    null === (e = c.room) || void 0 === e
                      ? void 0
                      : e.status_str
                  ) === R.LV.END
                );
              },
              [null === (e = c.room) || void 0 === e ? void 0 : e.status_str]
            ) &&
            (null == c || null === (t = c.room) || void 0 === t
              ? void 0
              : t.room_view_stats) &&
            !(
              null != c &&
              null !== (n = c.room) &&
              void 0 !== n &&
              null !== (o = n.room_view_stats) &&
              void 0 !== o &&
              o.is_hidden
            ),
          u =
            (null == c || null === (a = c.room) || void 0 === a
              ? void 0
              : a.live_room_mode) === R.ke.MEDIA,
          d = oe(c),
          m = !u && d,
          v =
            null == c ||
            null === (i = c.room) ||
            void 0 === i ||
            null === (l = i.room_view_stats) ||
            void 0 === l
              ? void 0
              : l.display_middle;
        return s
          ? Z.createElement(
              "div",
              { className: le()(se, (0, r.Z)({}, ue, m)) },
              Z.createElement("div", { className: me }),
              m
                ? Z.createElement(
                    Z.Fragment,
                    null,
                    Z.createElement(
                      "div",
                      { className: ve },
                      "\u5728\u7ebf\u89c2\u4f17"
                    ),
                    Z.createElement("div", { className: fe }, "\xb7"),
                    Z.createElement(
                      "div",
                      { className: de, "data-e2e": "live-room-audience" },
                      v
                    )
                  )
                : Z.createElement(
                    "div",
                    { className: de },
                    v || "0\u4eba\u6b21\u89c2\u770b"
                  )
            )
          : null;
      });
      var Ee = n(19478),
        pe = n.n(Ee),
        he = n(84578),
        ge = n.n(he),
        Ne = n(88438),
        Te = n.n(Ne),
        Ie = n(70343),
        ye = n(46778),
        Se = n(14582),
        Ce = n(67161);
      const be = "btoHwS6u",
        Ae = "wuqAeksu",
        Oe = "UiRVW3Ed",
        Le = "BrHFuuDL";
      var Re = ["className"];
      const ke = function (e) {
        var t = e.className,
          n = (0, Ce.Z)(e, Re);
        return Z.createElement(
          "div",
          (0, o.Z)({ className: le()(be, t) }, n),
          Z.createElement(
            "div",
            { className: Ae },
            Z.createElement(
              "div",
              { className: Oe },
              "\u6392\u5e8f\u89c4\u5219"
            ),
            "\u5728\u7ebf\u89c2\u4f17\u5217\u8868\u62e5\u6709\u4e24\u79cd\u4e0d\u540c\u7ef4\u5ea6\u7684\u6392\u5e8f\u65b9\u5f0f\uff0c\u53ef\u81ea\u7531\u5207\u6362\u67e5\u770b\u3002"
          ),
          Z.createElement(
            "div",
            { className: Ae },
            Z.createElement(
              "div",
              { className: Le },
              "\u65b9\u5f0f\u4e00\uff1a\u9ed8\u8ba4\u6392\u5e8f"
            ),
            "\u89c2\u4f17\u70b9\u8d5e30\u6b21\u6216\u9001\u51fa1\u6296\u5e01\u793c\u7269\uff0c\u5747\u6709\u673a\u4f1a\u83b7\u5f971\u70b9\u699c\u5355\u503c\uff1b\u6bcf10\u5206\u949f\uff0c\u5355\u4e2a\u7528\u6237\u53ef\u901a\u8fc7\u70b9\u8d5e\u83b7\u5f975\u70b9\u699c\u5355\u503c\uff0c\u8d85\u51fa\u540e\u5c06\u4e0d\u518d\u7ee7\u7eed\u83b7\u5f97\u3002\uff08\u9ad8\u5cf0\u65f6\u6bb5\u53ef\u80fd\u4f1a\u6709\u8ba1\u503c\u5ef6\u8fdf\u6216\u4e0d\u7a33\u5b9a\u73b0\u8c61\uff0c\u5747\u5c5e\u6b63\u5e38\uff09"
          ),
          Z.createElement(
            "div",
            { className: Ae },
            Z.createElement(
              "div",
              { className: Le },
              "\u65b9\u5f0f\u4e8c\uff1a\u8fdb\u623f\u65f6\u95f4\u6392\u5e8f"
            ),
            "\u6b64\u5217\u8868\u6309\u7167\u7528\u6237\u8fdb\u623f\u5148\u540e\u6392\u5e8f\uff0c\u8fdb\u623f\u8d8a\u65e9\u6392\u540d\u8d8a\u9760\u524d\uff0c\u82e5\u4e2d\u9014\u9000\u51fa\u91cd\u8fdb\uff0c\u5219\u4f1a\u4ee5\u6700\u65b0\u4e00\u6b21\u8fdb\u623f\u65f6\u95f4\u53c2\u4e0e\u6392\u5e8f\uff0c\u5217\u8868\u6700\u591a\u5c55\u793a200\u4eba\u3002"
          ),
          Z.createElement(
            "div",
            { className: Ae },
            Z.createElement(
              "div",
              { className: Oe },
              "\u7279\u522b\u63d0\u9192"
            ),
            "\u6b64\u5217\u8868\u4ec5\u5c55\u793a\u5f53\u524d\u5728\u76f4\u64ad\u95f4\u5185\u7528\u6237\u4e92\u52a8\u60c5\u51b5\uff0c\u82e5\u79bb\u5f00\u76f4\u64ad\u95f4\u6216\u9000\u51fa\u91cd\u8fdb\u540e\uff0c\u5217\u8868\u4fe1\u606f\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u8bf7\u70b9\u51fb\u6253\u5f00\u5728\u7ebf\u89c2\u4f17\u5217\u8868\u4e86\u89e3\u5f53\u524d\u6392\u540d\u3002"
          )
        );
      };
      var we = n(57617),
        Pe = n.n(we);
      const Me = "I87kD5Ir",
        Ze = "jaiUJ07k",
        Ue = "_JPPizDm";
      var De = ["activeRankType", "className", "onRankTypeChange"],
        xe = function (e) {
          var t,
            n = e.activeRankType,
            a = void 0 === n ? H.DEFAULT : n,
            i = e.className,
            l = e.onRankTypeChange,
            c = (0, Ce.Z)(e, De),
            s = E()((t = Pe()(ee))).call(t, Number);
          return Z.createElement(
            "div",
            (0, o.Z)({ className: le()(Me, i) }, c),
            E()(s).call(s, function (e) {
              return Z.createElement(
                "div",
                {
                  key: e,
                  className: le()(Ze, (0, r.Z)({}, Ue, e === a)),
                  onClick: function () {
                    !(function (e) {
                      l && l(e);
                    })(e);
                  },
                },
                ee[e]
              );
            })
          );
        };
      const Fe = (0, Z.memo)(xe);
      const Ke = function () {
          var e = (0, Z.useState)(!1),
            t = (0, i.Z)(e, 2),
            n = t[0],
            r = t[1],
            o = (0, Z.useRef)(),
            a = (0, Z.useRef)(),
            l = (0, Z.useCallback)(function () {
              clearTimeout(a.current),
                (o.current = Te()(function () {
                  r(!0);
                }, 80));
            }, []),
            c = (0, Z.useCallback)(function () {
              clearTimeout(o.current),
                (a.current = Te()(function () {
                  r(!1);
                }, 80));
            }, []);
          return {
            popoverVisible: n,
            setPopoverVisible: r,
            showPopover: l,
            hidePopover: c,
          };
        },
        Ge = "bsHR3vIl",
        Ve = "ccjbiaQI",
        Ye = "zFB5ffT7",
        Be = "w13hRBTs",
        He = "H5QpqyH7";
      var We = { adjustX: 1, adjustY: 0 },
        je = function (e) {
          var t = e.activeRankType,
            n = void 0 === t ? H.DEFAULT : t,
            r = e.className,
            o = e.onRankClick,
            a = e.onRankVisibleChange,
            i = e.onRankTypeChange,
            l = (0, Z.useRef)(null),
            c = Ke(),
            s = c.popoverVisible,
            u = c.showPopover,
            d = c.hidePopover,
            m = Ke(),
            v = m.popoverVisible,
            f = m.showPopover,
            _ = m.hidePopover;
          return (
            (0, Z.useEffect)(
              function () {
                v && a && a(v);
              },
              [v]
            ),
            Z.createElement(
              "div",
              { className: le()(Ge, r), ref: l },
              Z.createElement(
                Se.Z,
                {
                  visible: s,
                  scrollHide: !1,
                  placement: "bottom",
                  offset: 6,
                  zIndex: 10,
                  autoAdjustOverflowConfig: We,
                  overlay: Z.createElement(ke, {
                    className: He,
                    onMouseEnter: u,
                    onMouseLeave: d,
                  }),
                  getTooltipContainer: function () {
                    return l.current;
                  },
                },
                Z.createElement(
                  "div",
                  { className: Ve },
                  te[n],
                  Z.createElement("div", {
                    className: Be,
                    onMouseEnter: u,
                    onMouseLeave: d,
                  })
                )
              ),
              Z.createElement(
                Se.Z,
                {
                  visible: v,
                  scrollHide: !1,
                  placement: "bottom",
                  offset: 6,
                  zIndex: 10,
                  autoAdjustOverflowConfig: We,
                  overlay: Z.createElement(Fe, {
                    activeRankType: n,
                    onRankTypeChange: function (e) {
                      i && i(e), _();
                    },
                    onMouseEnter: f,
                    onMouseLeave: _,
                  }),
                  getTooltipContainer: function () {
                    return l.current;
                  },
                },
                Z.createElement(
                  "div",
                  {
                    className: Ye,
                    onClick: function () {
                      f(), o && o();
                    },
                    onMouseLeave: _,
                  },
                  ee[n],
                  "\u6392\u5e8f",
                  Z.createElement("div", { className: Be })
                )
              )
            )
          );
        };
      const qe = (0, Z.memo)(je);
      var ze = n(19347),
        Qe = n(53607),
        Xe = n(51652),
        Je = n(62239),
        $e = n(7103),
        et = ["src"],
        tt = function (e) {
          var t = e.src,
            n = (0, Ce.Z)(e, et),
            r =
              "light" === Qe.Q.getItem({ sKey: Xe.CookieKeys.Theme }) ? Je : $e,
            a = (0, Z.useState)(r),
            l = (0, i.Z)(a, 2),
            c = l[0],
            s = l[1],
            u = (0, Z.useCallback)(
              function () {
                s(r);
              },
              [r]
            );
          return (
            (0, Z.useEffect)(
              function () {
                t && s(t);
              },
              [t]
            ),
            Z.createElement(
              "img",
              (0, o.Z)(
                (0, o.Z)({}, n),
                {},
                {
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(c, null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                  onError: u,
                }
              )
            )
          );
        };
      const nt = (0, Z.memo)(tt),
        rt = {
          wrap: "xVcgegQm",
          hasHover: "jDfuWYRH",
          rank: "LAHo6_aM",
          rank1: "Vbxh6h6l",
          rank2: "TfGBnrp2",
          rank3: "MELC7vEz",
          avatarWrap: "KhzvVRa_",
          avatar: "t5f6zmdD",
          info: "HFMRXo_d",
          user: "yb_6MzFf",
          userInfo: "Omt7Tqr_",
          name: "IgN8mayw",
          gapDescription: "AN6sHqkh",
          honorLevel: "gYA79bZP",
          fansClub: "RMo9P3ni",
          label: "HdnfFjen",
          score: "bGm17qWt",
        };
      var ot = function (e) {
        var t,
          n,
          o,
          a,
          i,
          l = e.userInfo,
          c = void 0 === l ? {} : l,
          s = e.activeRankType,
          u = void 0 === s ? H.DEFAULT : s,
          d = e.isSelf,
          m = void 0 !== d && d,
          v = e.hasHover,
          f = void 0 === v || v,
          _ = e.className,
          E = (0, ze.Z)().showUserInfoCard,
          p = (0, Z.useMemo)(
            function () {
              return c.rank && (c.score || u === H.DURATION)
                ? Number(c.rank) > 99
                  ? "99+"
                  : c.rank
                : "-";
            },
            [c.rank, c.score, u]
          ),
          h = (0, Z.useMemo)(
            function () {
              return c.isHidden
                ? "https://sf16-passport-va.ibytedtos.com/img/user-avatar-musically/3cc8090976e92743e480fdba88d29b76~120x256.image"
                : c.avatar;
            },
            [c.avatar, c.isHidden]
          ),
          g = (0, Z.useMemo)(
            function () {
              var e, t;
              return c.isHidden
                ? null === (e = c.name) ||
                  void 0 === e ||
                  null === (t = ge()(e).call(e, 0, 1)) ||
                  void 0 === t
                  ? void 0
                  : I()(t).call(t, "***")
                : c.name;
            },
            [c.name, c.isHidden]
          ),
          N = (0, Z.useCallback)(
            function (e) {
              c.isHidden
                ? U.F.info(
                    "\u6682\u4e0d\u652f\u6301\u67e5\u770b\u8be5\u7528\u6237\u4fe1\u606f"
                  )
                : E({
                    event: e,
                    user: c,
                    needGetUserInfo: !0,
                    pointParams: { click_user_position: b.JC.SINGLE_ROOM_RANK },
                  });
            },
            [c, E]
          );
        return Z.createElement(
          "div",
          {
            className: le()(rt.wrap, (0, r.Z)({}, rt.hasHover, f), _),
            onClick: N,
          },
          Z.createElement(
            "div",
            { className: le()(rt.rank, rt["rank".concat(p)]) },
            p
          ),
          Z.createElement(
            "div",
            { className: rt.avatarWrap },
            Z.createElement(
              "div",
              { className: rt.avatar },
              Z.createElement(nt, {
                height: 32,
                src: globalThis
                  .getFilterXss()
                  .filterUrl(h, null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
              })
            )
          ),
          Z.createElement(
            "div",
            { className: rt.info },
            Z.createElement(
              "div",
              { className: rt.user },
              Z.createElement(
                "div",
                { className: rt.userInfo },
                Z.createElement("div", { className: rt.name }, g),
                m &&
                  Z.createElement(
                    "div",
                    { className: rt.gapDescription },
                    c.gapDescription
                  )
              ),
              !m &&
                (null === (t = c.honorLevel) || void 0 === t
                  ? void 0
                  : t.icon) &&
                Z.createElement(
                  "div",
                  { className: rt.honorLevel },
                  Z.createElement("img", {
                    height: 14,
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(
                        null === (n = c.honorLevel) || void 0 === n
                          ? void 0
                          : n.icon,
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                  })
                ),
              !m &&
                (null === (o = c.fansClub) || void 0 === o ? void 0 : o.icon) &&
                Z.createElement(
                  "div",
                  { className: rt.fansClub },
                  Z.createElement("img", {
                    height: 14,
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(
                        null === (a = c.fansClub) || void 0 === a
                          ? void 0
                          : a.icon,
                        null,
                        { logType: "js.href/src", reportOnly: !1 }
                      ),
                  }),
                  Z.createElement(
                    "div",
                    { className: rt.label },
                    Z.createElement(
                      "span",
                      null,
                      null === (i = c.fansClub) || void 0 === i
                        ? void 0
                        : i.name
                    )
                  )
                )
            ),
            c.scoreBlur &&
              Z.createElement("div", { className: rt.score }, c.scoreBlur)
          )
        );
      };
      const at = (0, Z.memo)(ot);
      var it = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return C.Z.get("/webcast/ranklist/audience/", {
            params: (0, o.Z)({ webcast_sdk_version: 2450 }, e),
          });
        },
        lt = n(54510);
      const ct = function () {
        var e,
          t,
          n = (0, ce.Z)().roomStore.roomInfo,
          r = (null == n ? void 0 : n.roomId) || "",
          a =
            (null == n || null === (e = n.anchor) || void 0 === e
              ? void 0
              : e.id_str) || "",
          i =
            (null == n || null === (t = n.anchor) || void 0 === t
              ? void 0
              : t.sec_uid) || "",
          l = (0, Z.useCallback)(
            function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return it(
                (0, o.Z)({ room_id: r, anchor_id: a, sec_anchor_id: i }, e)
              ).then(function (e) {
                var t,
                  n = e.data,
                  r = e.logId;
                return 0 === (null == n ? void 0 : n.status_code)
                  ? N().resolve(n)
                  : (U.F.info(
                      (null == n || null === (t = n.data) || void 0 === t
                        ? void 0
                        : t.prompts) ||
                        "\u83b7\u53d6\u89c2\u4f17\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"
                    ),
                    lt.k.error(
                      "\u83b7\u53d6\u89c2\u4f17\u6570\u636e\u5931\u8d25",
                      n,
                      r
                    ),
                    N().reject(n));
              });
            },
            [r, a, i]
          );
        return { getAudienceData: l };
      };
      var st = n(92637),
        ut = n.n(st),
        dt = n(85722),
        mt = n(80054);
      const vt = function () {
          var e = (0, Z.useState)([]),
            t = (0, i.Z)(e, 2),
            n = t[0],
            r = t[1],
            o = (0, Z.useState)([]),
            a = (0, i.Z)(o, 2),
            l = a[0],
            c = a[1],
            s = (0, ce.Z)().userStore.userInfo,
            u = null == s ? void 0 : s.sec_uid,
            d = (0, Z.useCallback)(function (e) {
              var t,
                n,
                o = ut()(
                  (t = ut()(
                    (n = ut()(e).call(e, function (e) {
                      return e.method === mt.ZP.WEBCAST_GIFT_MESSAGE;
                    }))
                  ).call(n, function (e) {
                    var t, n;
                    return (
                      (null == e ||
                      null === (t = e.payload) ||
                      void 0 === t ||
                      null === (n = t.user) ||
                      void 0 === n
                        ? void 0
                        : n.secUid) === u
                    );
                  }))
                ).call(t, k.J$),
                a = ut()(e).call(e, function (e) {
                  return e.method === Q.WEBCAST_ROOM_RANK_METHOD;
                });
              o.length ? r(o) : a.length && c(a);
            }, []);
          return (
            (0, Z.useEffect)(
              function () {
                return (
                  dt.yw.subscribe(R.dQ.AUDIENCE, d),
                  function () {
                    dt.yw.unsubscribe(R.dQ.AUDIENCE, d);
                  }
                );
              },
              [d]
            ),
            { giftMessages: n, roomRankMessages: l }
          );
        },
        ft = "nex5gRxd",
        _t = "BXGjrOv9",
        Et = "lROQ3lSZ",
        pt = "Ftej7yOc",
        ht = "k3ybpzRL",
        gt = "lth6zU43",
        Nt = "HKVdSOaV",
        Tt = "eLCS4kCQ",
        It = "Q9doGaiV",
        yt = "uLRrKJqd",
        St = "sG8M2eYz";
      var Ct = n(98479),
        bt = n(82937),
        At = function (e) {
          var t,
            n,
            o = e.userId,
            l = void 0 === o ? "" : o,
            c = Boolean(l),
            s = (0, Z.useState)(!1),
            u = (0, i.Z)(s, 2),
            d = u[0],
            v = u[1],
            f = (0, Z.useState)(!1),
            _ = (0, i.Z)(f, 2),
            p = _[0],
            h = _[1],
            g = (0, Z.useState)(H.DEFAULT),
            N = (0, i.Z)(g, 2),
            T = N[0],
            y = N[1],
            S = (0, Z.useState)([]),
            C = (0, i.Z)(S, 2),
            A = C[0],
            O = C[1],
            L = (0, Z.useState)({}),
            R = (0, i.Z)(L, 2),
            k = R[0],
            w = R[1],
            P = (0, Z.useState)(0),
            M = (0, i.Z)(P, 2),
            U = M[0],
            D = M[1],
            x = (0, Z.useRef)(),
            F = (0, Z.useRef)(),
            K = (0, Z.useRef)(),
            G = (0, Z.useRef)(),
            V = (0, Z.useRef)(null),
            Y = (0, Z.useRef)(!1),
            B = (0, Z.useRef)(!1),
            W = (0, Z.useRef)(0),
            j = (0, ce.Z)().roomStore.roomInfo,
            q = ct().getAudienceData,
            Q = vt(),
            $ = Q.giftMessages,
            ee = Q.roomRankMessages,
            te =
              null == j ||
              null === (t = j.room) ||
              void 0 === t ||
              null === (n = t.room_view_stats) ||
              void 0 === n
                ? void 0
                : n.display_middle,
            oe = k.rank || 0,
            ae = (0, Z.useMemo)(
              function () {
                return p && k.uid;
              },
              [p, k.uid]
            ),
            ie = (0, Z.useMemo)(
              function () {
                return p ? A : ge()(A).call(A, 0, 3);
              },
              [p, A]
            ),
            se = (0, Z.useMemo)(
              function () {
                var e,
                  t = te - ie.length - U;
                return U > 0 && t > 0
                  ? I()(
                      (e = "\u8fd8\u6709".concat(
                        U,
                        "\u540d\u9690\u8eab\u7528\u6237\u3001"
                      ))
                    ).call(
                      e,
                      t,
                      "\u540d\u672a\u767b\u5f55\u7528\u6237\u6b63\u5728\u89c2\u770b"
                    )
                  : U > 0
                  ? "\u8fd8\u6709".concat(
                      U,
                      "\u540d\u9690\u8eab\u7528\u6237\u6b63\u5728\u89c2\u770b"
                    )
                  : t > 0
                  ? "\u8fd8\u6709".concat(
                      t,
                      "\u540d\u672a\u767b\u5f55\u7528\u6237\u6b63\u5728\u89c2\u770b"
                    )
                  : "";
              },
              [U, te, ie]
            ),
            ue = (function () {
              var e = (0, a.Z)(
                m().mark(function e() {
                  var t,
                    n,
                    r,
                    o,
                    a,
                    i,
                    c,
                    s = arguments;
                  return m().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              s.length > 0 &&
                                void 0 !== s[0] &&
                                s[0] &&
                                (O([]), v(!0)),
                              (e.prev = 2),
                              (e.next = 5),
                              q({ rank_type: T })
                            );
                          case 5:
                            (a = e.sent),
                              (i = E()(
                                (t =
                                  (null == a ||
                                  null === (n = a.data) ||
                                  void 0 === n
                                    ? void 0
                                    : n.ranks) || [])
                              ).call(t, function (e) {
                                return re(e, l);
                              })),
                              (c = re(
                                null == a ||
                                  null === (r = a.data) ||
                                  void 0 === r
                                  ? void 0
                                  : r.self_info,
                                l
                              )),
                              O(i),
                              w(c),
                              D(
                                (null == a ||
                                null === (o = a.data) ||
                                void 0 === o
                                  ? void 0
                                  : o.invisible_total) || 0
                              ),
                              (0, Ie.be)(),
                              (e.next = 16);
                            break;
                          case 14:
                            (e.prev = 14), (e.t0 = e.catch(2));
                          case 16:
                            return (e.prev = 16), v(!1), e.finish(16);
                          case 19:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[2, 14, 16, 19]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            de = function () {
              x.current && clearTimeout(x.current), h(!0), (B.current = !0);
            },
            me = function () {
              x.current && clearTimeout(x.current),
                (x.current = Te()(function () {
                  h(!1), ye.Z.close();
                }, 150));
            },
            ve = function () {
              F.current && clearTimeout(F.current), (F.current = void 0);
            },
            fe = function (e) {
              e.current && clearTimeout(e.current), (e.current = void 0);
            },
            _e = function (e, t) {
              var n =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : 3e3;
              e.current = Te()(function () {
                t && t(), fe(e);
              }, n);
            };
          return (
            (0, Z.useEffect)(
              function () {
                ue(!0);
              },
              [T]
            ),
            (0, Z.useEffect)(
              function () {
                fe(G), $.length && !K.current && _e(K, ue);
              },
              [$]
            ),
            (0, Z.useEffect)(
              function () {
                p || K.current || !ee.length || G.current || _e(G, ue, 3e4);
              },
              [ee]
            ),
            (0, Z.useEffect)(
              function () {
                p &&
                  !F.current &&
                  (fe(G),
                  fe(K),
                  ue(),
                  (function () {
                    var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 3e4;
                    F.current = Te()(function () {
                      ve();
                    }, e);
                  })());
              },
              [p]
            ),
            (0, Z.useEffect)(
              function () {
                var e, t;
                p &&
                  (null === (e = document.getElementById(bt.Im)) ||
                    void 0 === e ||
                    e.addEventListener("mouseenter", de),
                  null === (t = document.getElementById(bt.Im)) ||
                    void 0 === t ||
                    t.addEventListener("mouseleave", me));
                return function () {
                  var e, t;
                  null === (e = document.getElementById(bt.Im)) ||
                    void 0 === e ||
                    e.removeEventListener("mouseenter", de),
                    null === (t = document.getElementById(bt.Im)) ||
                      void 0 === t ||
                      t.removeEventListener("mouseleave", me);
                };
              },
              [p]
            ),
            (0, Z.useEffect)(function () {
              var e = V.current;
              return (
                null == e || e.addEventListener("mouseenter", de),
                null == e || e.addEventListener("mouseleave", me),
                function () {
                  null == e || e.removeEventListener("mouseenter", de),
                    null == e || e.removeEventListener("mouseleave", me);
                }
              );
            }, []),
            (0, Z.useEffect)(
              function () {
                B.current &&
                  (p
                    ? ((0, b.Gb)({ show_type: X.MOUSE_ENTER, user_rank: oe }),
                      (0, b.wS)({
                        action_type: J.SHOW,
                        rank_type: ne[T],
                        user_rank: oe,
                      }),
                      (W.current = new Date().getTime()))
                    : ((0, b.Gb)({ show_type: X.MOUSE_LEAVE, user_rank: oe }),
                      (0, b.uX)({
                        duration: new Date().getTime() - W.current,
                        user_rank: oe,
                      })));
              },
              [p]
            ),
            (0, Z.useEffect)(
              function () {
                null != k &&
                  k.uid &&
                  !Y.current &&
                  ((0, b.Gb)({ show_type: X.ENTER_ROOM, user_rank: oe }),
                  (Y.current = !0));
              },
              [null == k ? void 0 : k.uid]
            ),
            Z.createElement(
              "div",
              { className: ft, ref: V },
              Z.createElement(qe, {
                className: le()(_t, (0, r.Z)({}, Et, p)),
                activeRankType: T,
                onRankClick: function () {
                  (0, b.wS)({
                    action_type: J.CLICK,
                    rank_type: ne[T],
                    user_rank: oe,
                  });
                },
                onRankVisibleChange: function (e) {
                  e &&
                    (0, b.H)({
                      action_type: J.SHOW,
                      rank_type: ne[T],
                      user_rank: oe,
                    });
                },
                onRankTypeChange: function (e) {
                  y(e),
                    (0, b.H)({
                      action_type: J.CLICK,
                      rank_type: ne[e],
                      user_rank: oe,
                    });
                },
              }),
              Z.createElement(
                "div",
                { className: pt },
                Z.createElement(
                  "div",
                  {
                    id: z,
                    className: le()(ht, (0, r.Z)({}, gt, p)),
                    onScroll: pe()(Ie.be, 150),
                  },
                  E()(ie).call(ie, function (e) {
                    return Z.createElement(
                      Ie.ZP,
                      {
                        key: e.uid,
                        scrollContainer: z,
                        height: 48,
                        once: !0,
                        overflow: !0,
                      },
                      Z.createElement(at, { userInfo: e, activeRankType: T })
                    );
                  }),
                  ie.length > 0 &&
                    ie.length < 200 &&
                    p &&
                    se &&
                    Z.createElement("div", { className: Nt }, se),
                  ie.length >= 200 &&
                    Z.createElement(
                      "div",
                      { className: Nt },
                      "\u6700\u591a\u663e\u793a200\u540d\u89c2\u4f17\u54e6"
                    ),
                  !ie.length &&
                    Z.createElement(
                      "div",
                      { className: Tt },
                      d
                        ? "\u52a0\u8f7d\u4e2d"
                        : "\u6682\u65e0\u5728\u7ebf\u89c2\u4f17"
                    )
                ),
                c &&
                  ae &&
                  Z.createElement(at, {
                    className: It,
                    userInfo: k,
                    activeRankType: T,
                    isSelf: !0,
                  }),
                !c &&
                  p &&
                  Z.createElement(
                    "div",
                    { className: le()(It, yt) },
                    Z.createElement(
                      "div",
                      {
                        className: St,
                        onClick: function () {
                          (0, Ct.m8)(
                            "\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u6392\u540d",
                            "live_audience"
                          );
                        },
                      },
                      "\u767b\u5f55\u67e5\u770b\u6211\u7684\u6392\u540d"
                    )
                  )
              )
            )
          );
        };
      const Ot = (0, Z.memo)(At),
        Lt = "lm0AA2B_";
      var Rt = function (e) {
        var t = e.userId,
          n = e.showAudienceContent,
          r = void 0 !== n && n;
        return Z.createElement(
          "div",
          { className: Lt },
          Z.createElement(_e, null),
          r && Z.createElement(Ot, { userId: t })
        );
      };
      const kt = (0, Z.memo)(Rt),
        wt = "R5ITbXfy",
        Pt = "k5cuEeRD",
        Mt = "KzEaOTp_";
      var Zt,
        Ut = n(7733),
        Dt = function () {
          return Z.createElement(
            Z.Fragment,
            null,
            "\u9700\u5148",
            Z.createElement(
              "span",
              {
                className: Mt,
                onClick: function () {
                  (0, Ut.p)().then(function (e) {
                    var t, n, r;
                    e({
                      headerText:
                        "\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",
                      success:
                        ((r = (0, a.Z)(
                          m().mark(function e() {
                            return m().wrap(function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    window.location.reload();
                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e);
                          })
                        )),
                        function () {
                          return r.apply(this, arguments);
                        }),
                      next: "https://".concat(
                        null === (t = window) ||
                          void 0 === t ||
                          null === (n = t.location) ||
                          void 0 === n
                          ? void 0
                          : n.host
                      ),
                      enterMethod: "livesdk_audience_live_message",
                    });
                  });
                },
              },
              "\u767b\u5f55"
            ),
            "\uff0c\u624d\u80fd\u5f00\u59cb\u804a\u5929"
          );
        };
      !(function (e) {
        (e[(e.NO_LOGIN = 0)] = "NO_LOGIN"),
          (e[(e.MUTE = 1)] = "MUTE"),
          (e[(e.BLACK_HOUSE = 2)] = "BLACK_HOUSE"),
          (e[(e.END = 3)] = "END"),
          (e[(e.DEFAULT = 4)] = "DEFAULT"),
          (e[(e.KICK_OUT = 5)] = "KICK_OUT"),
          (e[(e.APP_ONLY = 6)] = "APP_ONLY");
      })(Zt || (Zt = {}));
      var xt = {
        0: Z.createElement(Dt, null),
        1: "\u4f60\u5df2\u88ab\u7981\u8a00",
        2: "\u4f60\u88ab\u5173\u8fdb\u5c0f\u9ed1\u5c4b\uff0c\u6682\u65f6\u65e0\u6cd5\u64cd\u4f5c",
        3: "\u76f4\u64ad\u5df2\u7ed3\u675f",
        4: "\u804a\u5929\u529f\u80fd\u4e0d\u53ef\u7528",
        5: "\u5df2\u9000\u51fa\u76f4\u64ad\u95f4\uff0c\u65e0\u6cd5\u8bc4\u8bba",
        6: "\u8be5\u5185\u5bb9\u4ec5\u9650\u624b\u673a\u89c2\u770b",
      };
      const Ft = function (e) {
        var t = e.type,
          n = e.className;
        return Z.createElement(
          "div",
          { className: le()(wt, n) },
          Z.createElement("div", { className: Pt }, xt[t])
        );
      };
      var Kt = n(3768),
        Gt = n(77521),
        Vt = n.n(Gt),
        Yt = n(65981),
        Bt = function (e) {
          var t = e.room_id_str,
            n = e.content,
            r = e.episode_id,
            o = e.stage,
            a = e.team_id,
            i = (function () {
              try {
                return r && o
                  ? (0, Yt.stringify)({ episode_id: BigInt(r), stage: o })
                  : void 0;
              } catch (e) {
                return;
              }
            })();
          return C.Z.get("/webcast/room/chat/", {
            params: {
              room_id: t,
              content: n,
              type: 0,
              episode_info_str: i,
              flow_time: i && Vt()(),
              team_id: a,
            },
          });
        },
        Ht = n(21914);
      const Wt = function (e, t, n, r) {
        var o = (0, ce.Z)().roomStore.roomInfo,
          i = (0, Z.useMemo)(
            function () {
              return (function (e, t) {
                return (function () {
                  var n = (0, a.Z)(
                    m().mark(function n(r) {
                      var o, a, i, l, s;
                      return m().wrap(function (n) {
                        for (;;)
                          switch ((n.prev = n.next)) {
                            case 0:
                              return (
                                null === (o = t.current) ||
                                  void 0 === o ||
                                  o.inputClear(),
                                (a = e.roomId),
                                (i = void 0 === a ? "" : a),
                                (0, b.hA)({
                                  anchor_id: c()(e, "anchor.id_str", ""),
                                  room_id: i,
                                  message: r,
                                }),
                                (n.next = 5),
                                Bt({
                                  room_id_str: i,
                                  content: r,
                                  episode_id: c()(
                                    e,
                                    "room.episode_extra.episode_id_str"
                                  ),
                                  stage: c()(
                                    e,
                                    "room.episode_extra.mod.episode_stage"
                                  ),
                                })
                              );
                            case 5:
                              (l = n.sent),
                                (s = l.data),
                                (n.t0 = s.status_code),
                                (n.next =
                                  n.t0 === Kt.Ze.SUCCESS
                                    ? 10
                                    : n.t0 === Kt.Ze.MUTE
                                    ? 12
                                    : n.t0 === Kt.Ze.WORD_LIMITED
                                    ? 14
                                    : 16);
                              break;
                            case 10:
                              return (
                                dt.yw.queuePush((0, k.ft)(s.data)),
                                n.abrupt("break", 18)
                              );
                            case 12:
                              return (
                                U.F.info(
                                  s.data.prompts ||
                                    "\u4f60\u5df2\u88ab\u7981\u8a00"
                                ),
                                n.abrupt("break", 18)
                              );
                            case 14:
                              return (
                                U.F.info(
                                  s.data.prompts ||
                                    "\u8d85\u51fa\u5b57\u6570\u9650\u5236"
                                ),
                                n.abrupt("break", 18)
                              );
                            case 16:
                              return (
                                U.F.info(
                                  s.data.prompts ||
                                    "\u670d\u52a1\u51fa\u73b0\u5f02\u5e38"
                                ),
                                n.abrupt("break", 18)
                              );
                            case 18:
                            case "end":
                              return n.stop();
                          }
                      }, n);
                    })
                  );
                  return function (e) {
                    return n.apply(this, arguments);
                  };
                })();
              })(o, t);
            },
            [o, t]
          ),
          l = (0, Ht.Z)(),
          s = (0, Z.useCallback)(
            function (t) {
              l !== Ht.$.LIVING_END &&
                r(
                  ut()(t).call(t, function (t) {
                    return (0, k.J$)(t) && (0, k.G$)(e, t);
                  })
                );
            },
            [e, l, r]
          );
        return (
          (0, Z.useEffect)(
            function () {
              var e = dt.yw.subscribe(R.dQ.CHATROOM, s);
              return function () {
                e();
              };
            },
            [s, n]
          ),
          { onSend: i }
        );
      };
      var jt = n(64128);
      const qt = function () {
        var e = (0, ce.Z)().roomStore,
          t = e.setEmojiList,
          n = e.setEmojiReflex,
          r = e.emojiReflex,
          o = e.emojiList;
        return (
          (0, Z.useEffect)(function () {
            (0, a.Z)(
              m().mark(function e() {
                var r, o, a, i, l;
                return m().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (e.next = 2), (0, jt.b)();
                      case 2:
                        (a = e.sent),
                          (i = {}),
                          (l =
                            null === (r = a.data) || void 0 === r
                              ? void 0
                              : E()((o = r.emoji_list)).call(o, function (e) {
                                  var t = e.origin_uri,
                                    n = e.display_name,
                                    r = e.emoji_url,
                                    o = e.hide;
                                  return (
                                    (i[n] = r.url_list[0]),
                                    {
                                      display_name: n,
                                      hide: o,
                                      uri: t,
                                      url: r.url_list[0],
                                    }
                                  );
                                })),
                          t(l),
                          n(i);
                      case 7:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            )();
          }, []),
          (0, Z.useMemo)(
            function () {
              return { input: !1, display: !0, map: r, list: o, icon: "" };
            },
            [r, o]
          )
        );
      };
      var zt = n(40324);
      const Qt = function (e, t, n, r, o, a) {
        var l = (0, ce.Z)().userStore.userInfo,
          c = (0, Z.useState)(!1),
          s = (0, i.Z)(c, 2),
          u = s[0],
          d = s[1],
          m = (0, Z.useRef)(),
          v = (0, Z.useState)([]),
          f = (0, i.Z)(v, 2),
          _ = f[0],
          E = f[1],
          p = (0, Z.useCallback)(function (e) {
            E(e);
          }, []),
          h = qt(),
          g = Wt(l.id_str, m, n, p).onSend;
        return {
          renderChatRoom: (0, Z.useCallback)(
            function () {
              return (0, Z.createElement)(zt.ZP, {
                ref: m,
                className: e,
                inputContainerStyle: Kt.J1,
                emojiConfig: h,
                customMessages: Kt._G,
                messageMethods: Kt.NL,
                bottomMessageMethods: Kt.nx,
                showHeader: !1,
                enableChat: u,
                source: _,
                placeholder: "\u4e0e\u5927\u5bb6\u4e92\u52a8\u4e00\u4e0b...",
                inputLimit: 50,
                enableEnterSend: !0,
                disableInputEnterWrap: !0,
                onSend: g,
                onClickTextArea: r
                  ? function () {
                      a(!0);
                    }
                  : void 0,
                enableAnimation: !0,
                isMediaLive: t,
                isFixedChat: r,
                isSpringSkin: o,
              });
            },
            [e, h, u, r, o, a, t, g, _]
          ),
          setEnableChat: d,
          enableChat: u,
          onSend: g,
          chatroomRef: m,
        };
      };
      var Xt = n(60964),
        Jt = n(41981),
        $t = n(47966),
        en = n(81711),
        tn = n.n(en);
      const nn = function (e, t, n, o, a, i) {
        var l = (0, ce.Z)().audienceStore.setAudienceAuthStatus,
          s = (0, Ht.Z)(),
          u = (0, Z.useCallback)(
            function (t) {
              tn()(t).call(t, function (t) {
                var n,
                  r,
                  s,
                  u = t.method,
                  d = t.payload;
                if (u && d) {
                  var m = Number(d.action);
                  switch (u) {
                    case R.lm.WEBCAST_VERIFY_MESSAGE:
                      switch (m) {
                        case R.Jq.CLOSE_CHAT:
                          o(!1), a(Zt.DEFAULT);
                          break;
                        case R.Jq.OPEN_CHAT:
                          o(!0);
                      }
                      break;
                    case R.lm.WEBCAST_CONTROL_MESSAGE:
                      switch (m) {
                        case R.Rz.FINISH:
                        case R.Rz.FINISH_BY_ADMIN:
                        case R.Rz.ROOM_FINISH_BY_SWITCH:
                          null === (n = i.current) || void 0 === n || n.clear();
                          break;
                        case R.Rz.RESUME:
                          l(!0), o(!0);
                      }
                      break;
                    case R.lm.WEBCAST_MEMBER_MESSAGE:
                      switch (m) {
                        case R.WU.SET_SILENCE:
                        case R.WU.MANAGER_SET_SILENCE:
                          o(!1), a(Zt.MUTE);
                          break;
                        case R.WU.CANCEL_SILENCE:
                        case R.WU.MANAGER_CANCEL_SILENCE:
                          o(!0);
                          break;
                        case R.WU.BLOCK:
                          l(!1), o(!1), a(Zt.BLACK_HOUSE);
                          break;
                        case R.WU.KICK_OUT:
                          l(!1),
                            o(!1),
                            a(Zt.KICK_OUT),
                            null === (r = i.current) ||
                              void 0 === r ||
                              r.clear();
                          break;
                        case R.WU.LEAVE:
                          var v,
                            f = c()(d, "user.id");
                          if (
                            "WEB_INITIATIVE" !== d.actionDescription &&
                            f === e
                          )
                            l(!1),
                              o(!1),
                              a(Zt.KICK_OUT),
                              null === (v = i.current) ||
                                void 0 === v ||
                                v.clear();
                      }
                      break;
                    case R.lm.WEBCAST_NOTICE_MESSAGE:
                      if ((m = Number(d.noticeType)) === R.F3.RESUME) o(!0);
                      break;
                    case R.lm.WEBCAST_DELETE_MESSAGE:
                      var _ = d.deleteMsgIds;
                      null === (s = i.current) || void 0 === s || s.delete(_);
                  }
                }
              });
            },
            [i, l, a, o, e]
          );
        (0, Z.useEffect)(
          function () {
            return (
              dt.yw.subscribe(R.dQ.ROOM_BUSINESS, u),
              function () {
                dt.yw.unsubscribe(R.dQ.ROOM_BUSINESS, u);
              }
            );
          },
          [u, n]
        );
        var d = (0, Z.useMemo)(
          function () {
            var e;
            return (
              (e = {}),
              (0, r.Z)(e, Ht.$.ROOM_ID_EMPTY, function () {
                o(!1), a(Zt.DEFAULT);
              }),
              (0, r.Z)(e, Ht.$.LIVING_PAUSE, function () {
                o(!0);
              }),
              (0, r.Z)(e, Ht.$.NO_LOGIN, function () {
                o(!1), a(Zt.NO_LOGIN);
              }),
              (0, r.Z)(e, Ht.$.LIVING_END, function () {
                o(!1), a(Zt.END);
              }),
              (0, r.Z)(e, Ht.$.DEFAULT, function () {
                o(!0);
              }),
              e
            );
          },
          [a, o]
        );
        (0, Z.useEffect)(
          function () {
            d[s](), t && (o(!1), l(!1), a(Zt.APP_ONLY));
          },
          [d, s, t, l, a, o]
        );
      };
      const rn = (0, ae.Pi)(
        function (e, t) {
          var n,
            r,
            o,
            a = e.css,
            l = e.className,
            s = e.isMedia,
            u = e.isVerified,
            d = e.isFixedChat,
            m = e.isAppOnly,
            v = e.isSpringSkin,
            f = (0, Z.useState)(Zt.DEFAULT),
            _ = (0, i.Z)(f, 2),
            E = _[0],
            p = _[1],
            h = (0, ce.Z)(),
            g = h.userStore.userInfo,
            N = h.roomStore.roomInfo,
            T = h.audienceStore,
            I = T.audiencePanelStatus,
            y = T.audienceStatus,
            S = T.setAudienceAuthStatus,
            C = h.layoutStore.resource,
            b = (0, Z.useState)(!1),
            A = (0, i.Z)(b, 2),
            O = A[0],
            L = A[1];
          (0, Z.useEffect)(
            function () {
              var e = oe(N);
              S(e && !m && !s);
            },
            [N, m, s]
          );
          var k = (0, Z.useMemo)(
              function () {
                return { uid: c()(g, "id_str") };
              },
              [g]
            ).uid,
            w = Qt(a.chatroom, s, u, d, v, L),
            P = w.onSend,
            M = w.renderChatRoom,
            U = w.setEnableChat,
            D = w.enableChat,
            x = w.chatroomRef;
          return (
            (0, Z.useImperativeHandle)(t, function () {
              return { onSend: P, setShowChat: L };
            }),
            nn(k, m, u, U, p, x),
            Z.createElement(
              "div",
              {
                className: le()(a.chatroomWrap, l),
                style: {
                  background: v
                    ? null == C || null === (n = C.color) || void 0 === n
                      ? void 0
                      : n.chatBack
                    : void 0,
                },
              },
              I && Z.createElement(kt, { userId: k, showAudienceContent: y }),
              Z.createElement(
                "div",
                { className: a.chatroomContainer },
                O &&
                  Z.createElement(Jt.Z, {
                    isSkin: v,
                    enable: d,
                    onSend: P,
                    onClose: function () {
                      L(!1);
                    },
                  }),
                (null === (r = N.room) ||
                void 0 === r ||
                null === (o = r.room_auth) ||
                void 0 === o
                  ? void 0
                  : o.PublicScreen) === R.RZ.OFF
                  ? Z.createElement($t.jj, {
                      type: $t.NI.emptyList,
                      title:
                        "\u5f53\u524d\u76f4\u64ad\u95f4\u6682\u4e0d\u652f\u6301\u53d1\u5f39\u5e55",
                    })
                  : Z.createElement(
                      "div",
                      { className: a.chatroomContent },
                      Z.createElement(Xt.ri, null, M())
                    ),
                !D &&
                  Z.createElement(Ft, { className: a.input_disabled, type: E })
              )
            )
          );
        },
        { forwardRef: !0 }
      );
      var on = n(42689),
        an = n(50369),
        ln = n(77106),
        cn = "\u60a8\u6b63\u5728\u76f4\u64ad\u4e2d",
        sn = function (e) {
          var t = e.type,
            n = void 0 === t ? $t.NI.emptyList : t;
          return Z.createElement(
            $t.jj,
            (0, o.Z)(
              {
                type: n,
                className: "live-room-error ".concat(n),
                secondaryButtonTitle:
                  $t.NI.serverError === n ? "\u5237\u65b0" : void 0,
              },
              e
            )
          );
        },
        un = n(91433);
      const dn = "FQtQospv",
        mn = "X6R_WWll";
      const vn = function (e) {
        var t = e.anchorNickname,
          n = e.children;
        return Z.createElement(
          "div",
          { className: dn },
          n,
          Z.createElement(
            "div",
            { className: mn, "data-e2e": "live-room-nickname" },
            t
          )
        );
      };
      var fn,
        _n = n(82214);
      function En() {
        return (
          (En = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          En.apply(this, arguments)
        );
      }
      const pn = function (e) {
          return Z.createElement(
            "svg",
            En(
              {
                width: 16,
                height: 16,
                viewBox: "0 0 16 16",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
              },
              e
            ),
            fn ||
              (fn = Z.createElement("path", {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M10.811 4.615c0 1.485-1.241 2.692-2.777 2.71h-.067C6.431 7.306 5.189 6.1 5.189 4.614v-.904C5.19 2.214 6.45 1 8 1c1.552 0 2.811 1.214 2.811 2.711v.904zm-7.65 4.979C4.33 9.037 6.675 8.73 8 8.73c1.327 0 3.676.307 4.846.868.679.38 1.155 1.23 1.155 2.225v.572c0 .738-.39 1.357-.928 1.556-1.284.366-3.698.563-5.071.563-1.375 0-3.79-.201-5.078-.565C2.391 13.748 2 13.13 2 12.393v-.572c0-.997.478-1.85 1.162-2.227z",
                fill: "#2F3035",
              }))
          );
        },
        hn = "t0PaGoYR",
        gn = "YPg7irN6";
      const Nn = (0, ae.Pi)(function (e) {
        var t = e.isMedia,
          n = e.isLiveEnded,
          r = (0, ce.Z)(),
          o = r.roomStore.roomInfo,
          a = r.audienceStore.audiencePanelStatus,
          i = (0, Z.useMemo)(
            function () {
              var e = c()(o, "room.room_view_stats", null);
              return {
                room_view_stats: e,
                is_hidden: c()(e, "is_hidden", !1),
                display_middle: c()(e, "display_middle"),
              };
            },
            [o]
          ),
          l = i.room_view_stats,
          s = i.is_hidden,
          u = i.display_middle;
        return (
          !a &&
          !n &&
          l &&
          !s &&
          Z.createElement(
            "span",
            { className: hn, "data-e2e": "live-room-audience" },
            t
              ? u || "0\u4eba\u6b21\u89c2\u770b"
              : Z.createElement(
                  Z.Fragment,
                  null,
                  u && Z.createElement(pn, { className: gn }),
                  u
                )
          )
        );
      });
      var Tn = n(82272),
        In = n(63786),
        yn = n(14001),
        Sn = n(22459),
        Cn = n(52252);
      const bn = "AiLcueK6",
        An = "dnK5CMia";
      const On = function (e) {
        var t,
          n,
          r = e.anchorSecUserId,
          o = e.anchorAvatar,
          a = (0, Z.useRef)("");
        return (
          (0, Z.useEffect)(
            function () {
              var e;
              if (!Cn.p()) {
                var t = (0, Tn.Yi)(),
                  n = t.enter_method,
                  r = void 0 === n ? "" : n,
                  o = t.enter_from_merge,
                  i = void 0 === o ? "" : o;
                a.current = I()(
                  (e = "?enter_method=".concat(r, "&enter_from_merge="))
                ).call(e, i, "&event_page=live_detail&tab_name=");
              }
            },
            [r]
          ),
          Z.createElement(
            yn.a,
            {
              className: bn,
              href: globalThis
                .getFilterXss()
                .filterUrl(
                  I()(
                    (t = I()(
                      (n = "//".concat((0, In.iE)().VIDEO_DOMAIN, "/user/"))
                    ).call(n, r))
                  ).call(t, a.current),
                  null,
                  { logType: "js.href/src", reportOnly: !1 }
                ),
              target: "_blank",
              rel: "noreferrer",
              onClick: function () {
                (0, b.EP)({
                  click_type: "anchor",
                  event_page: "live_detail",
                  click_user_position: b.JC.LIVE_OPEN_TOP_LEFT_ANCHOR,
                });
              },
            },
            Z.createElement(Sn.q, {
              className: An,
              type: "extraExtraExtraSmall",
              src: globalThis
                .getFilterXss()
                .filterUrl(o, null, { logType: "js.href/src", reportOnly: !1 }),
            })
          )
        );
      };
      var Ln = n(30301),
        Rn = n(5470);
      const kn = "glbUlPGR",
        wn = "ZWzkmVza",
        Pn = "s49a85m9",
        Mn = "Rw7IEm_k";
      var Zn = n(87240),
        Un = n(20104),
        Dn = n(44477),
        xn = n(39534),
        Fn = n(72842),
        Kn = n(42327);
      const Gn = "PN7wAHEK",
        Vn = "d73I8bq3",
        Yn = "FirhmjF4";
      const Bn = (0, ae.Pi)(function (e) {
        var t,
          n = e.className,
          r = e.metro,
          o = (0, ce.Z)(),
          a = o.roomStore.roomInfo,
          i = o.linkmicStore,
          l = i.linkStatus,
          c = i.setShowDevicesModal,
          s = i.selfLinkedPosition,
          u = i.setSelectedPosition,
          d = i.setApplySource,
          m = i.linkRoomType,
          v = i.isPlayModeNotSupport,
          f = (0, xn.Z)().leave,
          _ = (0, Dn.Z)(),
          E = _.isGroupFight,
          p = _.willInterruptWithPosQuit,
          h = _.exitGameConfirm,
          g = (0, Z.useMemo)(
            function () {
              var e;
              return (
                Number(
                  null === (e = a.room) || void 0 === e ? void 0 : e.status_str
                ) === R.LV.END
              );
            },
            [null === (t = a.room) || void 0 === t ? void 0 : t.status_str]
          ),
          N = Z.useCallback(
            function () {
              if (
                (d(Zn.JW.BUTTON), l === Fn.cK.LINKED || l === Fn.cK.LINKING)
              ) {
                var e = function () {
                  (0, b.c3)(), (0, Un.XZ)(), f(Zn.JW.BUTTON, Zn._o.AUDIENCE);
                };
                E && s && p(s) ? h(e, p(s)) : e();
              } else
                l === Fn.cK.NOT_LINK &&
                  (u(void 0),
                  c(E ? Fn.xQ.GROUP_CHOISE : Fn.xQ.APPLY),
                  (0, Un.y5)());
            },
            [c, f, l, u, d, E, p, s, h]
          );
        return !m || v || g
          ? null
          : Z.createElement(
              Kn.zx,
              {
                type: "secondary",
                size: "normal",
                className: le()(Gn, n),
                onClick: N,
              },
              r &&
                Z.createElement(
                  Z.Fragment,
                  null,
                  Z.createElement("span", { className: Vn }),
                  Z.createElement(
                    "span",
                    null,
                    l === Fn.cK.NOT_LINK && "\u7533\u8bf7\u8fde\u7ebf",
                    l === Fn.cK.LINKING && "\u53d6\u6d88\u7533\u8bf7",
                    l === Fn.cK.LINKED && "\u65ad\u5f00\u8fde\u7ebf"
                  )
                ),
              !r &&
                Z.createElement(
                  Z.Fragment,
                  null,
                  l === Fn.cK.NOT_LINK &&
                    Z.createElement(
                      Z.Fragment,
                      null,
                      Z.createElement("span", { className: Yn }),
                      Z.createElement("span", null, "\u7533\u8bf7\u8fde\u7ebf")
                    ),
                  l === Fn.cK.LINKING &&
                    Z.createElement("span", null, "\u53d6\u6d88\u7533\u8bf7"),
                  l === Fn.cK.LINKED &&
                    Z.createElement("span", null, "\u65ad\u5f00\u8fde\u7ebf")
                )
            );
      });
      var Hn = n(56056),
        Wn = n(92394);
      const jn = "lmVVTpZy",
        qn = "DfXwBMvY";
      const zn = function (e) {
        var t = e.title,
          n = e.children;
        return Z.createElement(
          "div",
          { className: jn },
          Z.createElement(
            "h1",
            { className: qn, "data-e2e": "live-room-name" },
            t
          ),
          n
        );
      };
      const Qn = (0, ae.Pi)(function (e) {
          var t,
            n = e.metro,
            r = void 0 !== n && n,
            o = (0, ce.Z)(),
            a = o.roomStore.roomInfo,
            i = o.userStore.userInfo,
            l = (0, Z.useMemo)(
              function () {
                var e;
                return {
                  roomId: c()(a, "roomId", ""),
                  title: c()(a, "room.title", ""),
                  isLiveEnded:
                    Number(
                      null === (e = a.room) || void 0 === e
                        ? void 0
                        : e.status_str
                    ) === R.LV.END,
                  qrcode_url: c()(a, "qrcode_url", ""),
                  anchorSecUserId: c()(a, "anchor.sec_uid", ""),
                  anchorNickname: c()(a, "anchor.nickname", ""),
                  anchorAvatar: c()(a, "anchor.avatar_thumb.url_list[0]", ""),
                };
              },
              [a]
            ),
            s = l.roomId,
            u = l.title,
            d = l.isLiveEnded,
            m = l.qrcode_url,
            v = l.anchorSecUserId,
            f = l.anchorNickname,
            _ = l.anchorAvatar,
            E = (0, Z.useMemo)(
              function () {
                return { userId: c()(i, "id_str", "") };
              },
              [i]
            ).userId,
            p =
              (null === (t = a.room) || void 0 === t
                ? void 0
                : t.live_room_mode) === R.ke.MEDIA;
          return Z.createElement(
            "div",
            { className: le()(kn, Mn, { metro: r }) },
            r
              ? Z.createElement(On, { anchorSecUserId: v, anchorAvatar: _ })
              : null,
            Z.createElement(
              "div",
              { className: wn },
              Z.createElement(
                zn,
                { title: u },
                r ? null : Z.createElement(Nn, { isLiveEnded: d, isMedia: p })
              ),
              Z.createElement(
                vn,
                { anchorNickname: f },
                r
                  ? null
                  : Z.createElement(On, { anchorSecUserId: v, anchorAvatar: _ })
              )
            ),
            Z.createElement(
              "div",
              { className: Pn },
              Z.createElement(Rn.Z, null),
              Z.createElement(Ln.Z, { userId: E }),
              r ? null : Z.createElement(Bn, null),
              s &&
                !d &&
                Z.createElement(
                  Z.Fragment,
                  null,
                  r
                    ? null
                    : Z.createElement(_n.Z, { type: "button", qrcode_url: m }),
                  Z.createElement(
                    Hn.Z,
                    null,
                    r
                      ? Z.createElement(_n.Z, { type: "link", qrcode_url: m })
                      : null,
                    Z.createElement(Wn.Z, { roomId: s, anchorSecUserId: v })
                  )
                )
            )
          );
        }),
        Xn = {
          spring_back: "ddDxfMxs",
          back_img: "gsq2N9hi",
          content: "VadDkCam",
          back_left: "zAjxy0r9",
          small_logo: "qLN30M5n",
          small_logo_info: "XBBrSYYH",
          title: "N6JwQq62",
          title_back: "YGaSlx78",
          no_brand: "dqt5B9aa",
          big_logo: "WIoZ4hJ_",
        };
      function Jn(e) {
        var t,
          n = e.backImgData,
          r = null == n ? void 0 : n.logo,
          o = null == n ? void 0 : n.big_logo,
          a = null == n ? void 0 : n.title,
          i = null == n ? void 0 : n.no_brand_title;
        return Z.createElement(
          "div",
          {
            className: Xn.spring_back,
            style: { background: null == n ? void 0 : n.wide_background },
          },
          Z.createElement("div", {
            className: Xn.back_img,
            style: {
              backgroundImage: "url(".concat(
                null == n ? void 0 : n.background,
                ")"
              ),
            },
          }),
          Z.createElement(
            "div",
            { className: Xn.content },
            Z.createElement(
              "div",
              { className: Xn.back_left },
              (null !== (t = null == r ? void 0 : r.length) && void 0 !== t
                ? t
                : 0) > 0
                ? Z.createElement(
                    Z.Fragment,
                    null,
                    Z.createElement(
                      "ul",
                      { className: Xn.small_logo },
                      null == r
                        ? void 0
                        : E()(r).call(r, function (e) {
                            return Z.createElement(
                              "li",
                              { className: Xn.small_logo_info, key: e },
                              Z.createElement("img", {
                                className: Xn.logo_img,
                                src: globalThis
                                  .getFilterXss()
                                  .filterUrl(e, null, {
                                    logType: "js.href/src",
                                    reportOnly: !1,
                                  }),
                              })
                            );
                          })
                    ),
                    Z.createElement(
                      "div",
                      { className: Xn.title },
                      Z.createElement("img", {
                        className: Xn.title_back,
                        src: globalThis
                          .getFilterXss()
                          .filterUrl(a, null, {
                            logType: "js.href/src",
                            reportOnly: !1,
                          }),
                      })
                    )
                  )
                : Z.createElement(
                    "div",
                    { className: le()(Xn.title, Xn.no_brand) },
                    Z.createElement("img", {
                      className: Xn.title_back,
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(i, null, {
                          logType: "js.href/src",
                          reportOnly: !1,
                        }),
                    })
                  )
            ),
            o &&
              Z.createElement("img", {
                className: Xn.big_logo,
                src: globalThis
                  .getFilterXss()
                  .filterUrl(o, null, {
                    logType: "js.href/src",
                    reportOnly: !1,
                  }),
              })
          )
        );
      }
      const $n = "YbRTxizg",
        er = "Ki571hp0",
        tr = "dV8xXbJI",
        nr = "H016b6z2",
        rr = "xqGtTnf_",
        or = "ebD_581U",
        ar = "tJvdz7dW";
      const ir = function (e) {
        var t = e.title,
          n = void 0 === t ? "\u6e29\u99a8\u63d0\u793a" : t,
          r = e.classname,
          o = (0, Z.useState)(!1),
          a = (0, i.Z)(o, 2),
          l = a[0],
          c = a[1],
          s = (0, Z.useState)({}),
          u = (0, i.Z)(s, 2),
          d = u[0],
          m = u[1],
          v = (0, Z.useRef)(null);
        (0, Z.useEffect)(
          function () {
            clearTimeout(v.current),
              l &&
                ((0, b.bp)(),
                (v.current = Te()(
                  function () {
                    c(!1), clearTimeout(v.current);
                  },
                  null != d && d.webPageDisplayDuration
                    ? 1e3 *
                        Number(null == d ? void 0 : d.webPageDisplayDuration)
                    : 1e4
                )));
          },
          [l]
        );
        var f = (0, Z.useCallback)(
            function () {
              (0, b.R)(),
                _(),
                window.open(null == d ? void 0 : d.entryWebPageAddress);
            },
            [d]
          ),
          _ = function () {
            c(!1);
          },
          E = (0, Z.useCallback)(function (e) {
            tn()(e).call(e, function (e) {
              var t = e.method,
                n = e.payload;
              t &&
                n &&
                "WebcastLinkmicEcologyMessage" === t &&
                2 === (null == n ? void 0 : n.msgType) &&
                (m(null == n ? void 0 : n.webAntiCheatContent), c(!0));
            });
          }, []);
        return (
          (0, Z.useEffect)(
            function () {
              return (
                dt.yw.subscribe(R.dQ.LINK, E, dt.C7.SYNC),
                function () {
                  dt.yw.unsubscribe(R.dQ.LINK, E, dt.C7.SYNC);
                }
              );
            },
            [E]
          ),
          l
            ? Z.createElement(
                "div",
                { className: le()($n, r) },
                Z.createElement(
                  "div",
                  { className: er },
                  Z.createElement("div", { className: tr }, n),
                  Z.createElement(
                    "div",
                    { className: nr },
                    null == d ? void 0 : d.popupText
                  ),
                  Z.createElement(
                    "div",
                    { className: rr },
                    Z.createElement(
                      "div",
                      {
                        className: or,
                        onClick: function () {
                          (0, b.xQ)(), _();
                        },
                      },
                      "\u6682\u4e0d\u8ba4\u8bc1"
                    ),
                    Z.createElement(
                      "div",
                      { className: ar, onClick: f },
                      "\u53bb\u8ba4\u8bc1"
                    )
                  )
                )
              )
            : null
        );
      };
      var lr = n(68830),
        cr = n(43251),
        sr = n(37510);
      const ur = function (e) {
        var t = e.isVerified,
          n = (0, ce.Z)(),
          r = n.userStore.userInfo,
          o = n.giftStore,
          a = o.giftStatus,
          i = o.giftList,
          l = o.effectList,
          s = o.setGiftMessages,
          u = c()(r, "sec_uid", ""),
          d = (0, Z.useCallback)(
            function (e) {
              var t,
                n = ut()(
                  (t = ut()(e).call(e, function (e) {
                    return !c()(e, "payload.repeatEnd");
                  }))
                ).call(t, function (e) {
                  var t = c()(e, "payload") || c()(e, "payload.msg", {});
                  return (
                    !(c()(t, "user.secUid") === u) ||
                    e.method !== mt.ZP.WEBCAST_GIFT_MESSAGE
                  );
                });
              if (n.length) {
                var r = (0, Ct.TG)(n, i, l);
                s(r);
              }
            },
            [u, i, l, s]
          );
        (0, Z.useEffect)(
          function () {
            return (
              a && dt.yw.subscribe(R.dQ.GIFT, d),
              function () {
                dt.yw.unsubscribe(R.dQ.GIFT, d);
              }
            );
          },
          [a, d, t]
        );
      };
      var dr, mr;
      !(function (e) {
        (e[(e.LINKMICUILAYOUT_DEFAULT = 0)] = "LINKMICUILAYOUT_DEFAULT"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHATFLOATWINDOWLAYOUT = 1)] =
            "LINKMICUILAYOUT_VIDEOCHATFLOATWINDOWLAYOUT"),
          (e[(e.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT = 2)] =
            "LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT"),
          (e[(e.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8 = 3)] =
            "LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8"),
          (e[(e.LINKMICUILAYOUT_VIDEOEQUAL_TOP1V8 = 4)] =
            "LINKMICUILAYOUT_VIDEOEQUAL_TOP1V8"),
          (e[(e.LINKMICUILAYOUT_VIDEOEQUAL_3X3 = 5)] =
            "LINKMICUILAYOUT_VIDEOEQUAL_3X3"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHAT_ENLARGEGUEST1V6 = 6)] =
            "LINKMICUILAYOUT_VIDEOCHAT_ENLARGEGUEST1V6"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHAT_DYNAMICLAYOUT1V6 = 7)] =
            "LINKMICUILAYOUT_VIDEOCHAT_DYNAMICLAYOUT1V6"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHAT_OLD1V6 = 8)] =
            "LINKMICUILAYOUT_VIDEOCHAT_OLD1V6"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHAT_KTVSINGINGCHALLENGE = 9)] =
            "LINKMICUILAYOUT_VIDEOCHAT_KTVSINGINGCHALLENGE"),
          (e[(e.LINKMICUILAYOUT_VIDEOCHAT_2V4 = 10)] =
            "LINKMICUILAYOUT_VIDEOCHAT_2V4"),
          (e[(e.LINKMICUILAYOUT_AUDIOCHAT_1V8 = 21)] =
            "LINKMICUILAYOUT_AUDIOCHAT_1V8"),
          (e[(e.LINKMICUILAYOUT_AUDIOCHAT_3X3 = 22)] =
            "LINKMICUILAYOUT_AUDIOCHAT_3X3"),
          (e[(e.LINKMICUILAYOUT_AUDIOCHAT_DYNAMIC = 23)] =
            "LINKMICUILAYOUT_AUDIOCHAT_DYNAMIC"),
          (e[(e.LINKMICUILAYOUT_KTV_MAINSTAGE = 31)] =
            "LINKMICUILAYOUT_KTV_MAINSTAGE"),
          (e[(e.LINKMICUILAYOUT_VIDEO_1V1 = 41)] = "LINKMICUILAYOUT_VIDEO_1V1"),
          (e[(e.LINKMICUILAYOUT_VIDEO_2V2 = 42)] = "LINKMICUILAYOUT_VIDEO_2V2"),
          (e[(e.LINKMICUILAYOUT_CROSSROOMLINKMIC_6V6 = 51)] =
            "LINKMICUILAYOUT_CROSSROOMLINKMIC_6V6");
      })(dr || (dr = {})),
        (function (e) {
          (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_NONE = 0)] =
            "LINKMICTEAMFIGHTMESSAGETYPE_NONE"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_CREATE = 1)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_CREATE"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_START = 2)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_START"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_UPDATE = 3)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_UPDATE"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_PUNISH = 4)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_PUNISH"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_FINISH = 5)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_FINISH"),
            (e[(e.LINKMICTEAMFIGHTMESSAGETYPE_SHOWING = 6)] =
              "LINKMICTEAMFIGHTMESSAGETYPE_SHOWING");
        })(mr || (mr = {}));
      var vr = n(74641),
        fr = n(19753),
        _r = n(91898);
      const Er = function () {
        var e = (0, ce.Z)(),
          t = e.userStore.userInfo,
          n = e.linkmicStore,
          r = n.setPlayModes,
          o = n.setImLinkMicLayout,
          a = n.setFunctionType2,
          i = n.linkRoomType,
          l = n.setIsPlayModeNotSupport,
          s = n.setScene,
          u = e.roomStore.roomInfo;
        (0, Z.useEffect)(
          function () {
            var e,
              t = c()(u, "room.linker_map", {}),
              n = c()(u, "room.linker_detail.linker_play_modes", []);
            t[5]
              ? j()(n).call(n, vr.V0.LinkmicPlayMode_AudioChat_1_PLUS_8) ||
                j()(n).call(n, vr.V0.LinkmicPlayMode_Teamfight)
                ? (e = _r.yP.AUDIO_1V8)
                : j()(n).call(n, vr.V0.LinkmicPlayMode_AudioChat_3x3_N_EMPTY) &&
                  (e = _r.yP.AUDIO_GRID)
              : t[12]
              ? (e = j()(n).call(n, vr.V0.LinkmicPlayMode_DynamicLayout)
                  ? _r.yP.VIDEO_DYNAMIC
                  : _r.yP.VIDEO_GRID)
              : t[8]
              ? (e = _r.yP.VIDEO_1V6)
              : t[16] && (e = _r.yP.VIDEO_6V6),
              r(n),
              o(e),
              a(c()(u, "room.linker_detail.function_type"));
          },
          [u, o, a, t, r]
        );
        var d = (0, Z.useCallback)(
          function (e) {
            tn()(e).call(e, function (e) {
              var t = e.method,
                n = e.payload;
              if (t && n) {
                var r = Number(n.messageType);
                if ("WebcastLinkMicMethod" === t && r === fr.iM.TYPE_TURNON) {
                  var a = n.scene,
                    i = n.playModesList,
                    c = void 0 === i ? [] : i,
                    u = n.uiLayout;
                  if (a) {
                    var d = Number(a);
                    d === R.vX.VIDEO_1V6
                      ? o(_r.yP.VIDEO_1V6)
                      : d === R.vX.VIDEO_GRID && null != c && j()(c).call(c, 4)
                      ? o(_r.yP.VIDEO_DYNAMIC)
                      : d === R.vX.VIDEO_GRID
                      ? o(_r.yP.VIDEO_GRID)
                      : d === R.vX.VIDEO_6V6
                      ? o(_r.yP.VIDEO_6V6)
                      : d === R.vX.AUDIO &&
                        (u === dr.LINKMICUILAYOUT_AUDIOCHAT_1V8
                          ? o(_r.yP.AUDIO_1V8)
                          : u === dr.LINKMICUILAYOUT_AUDIOCHAT_3X3 &&
                            o(_r.yP.AUDIO_GRID));
                  }
                }
                if (
                  ("WebcastLinkMicMethod" === t &&
                    null != n &&
                    n.scene &&
                    Number(null == n ? void 0 : n.scene) !==
                      vr.xs.Scene_Unknown &&
                    Number(null == n ? void 0 : n.scene) !==
                      vr.xs.Scene_Default &&
                    s(vr.xs.Scene_PK),
                  "WebcastLinkMicMethod" === t && r === fr.iM.TYPE_TURNON)
                ) {
                  var m = n.scene,
                    v = n.playModesList,
                    f = void 0 === v ? [] : v;
                  if (m) {
                    var _ = Number(m);
                    (_ !== vr.xs.Scene_KTV && _ !== vr.xs.Scene_VideoKTV) ||
                      l(!0),
                      _ === vr.xs.Scene_VideoChatRoom &&
                        null != f &&
                        j()(f).call(f, 4) &&
                        l(!0);
                  }
                }
              }
            });
          },
          [o, s, l]
        );
        (0, Z.useEffect)(
          function () {
            return (
              i || dt.yw.subscribe(R.dQ.LINK, d),
              function () {
                dt.yw.unsubscribe(R.dQ.LINK, d);
              }
            );
          },
          [i, d]
        );
      };
      const pr = function () {
        var e = (0, ce.Z)().roomStore.roomInfo.roomId,
          t = void 0 === e ? "" : e,
          n = (0, Z.useRef)({}),
          r = (0, Z.useCallback)(
            function () {
              n.current[t] || (dt.yw.polling(t), (n.current[t] = !0));
            },
            [t]
          );
        return (
          (0, Z.useEffect)(
            function () {
              var e,
                o,
                a = 0;
              (null === (e = navigator) || void 0 === e
                ? void 0
                : e.hardwareConcurrency) <= 4 &&
                (null === (o = navigator) || void 0 === o
                  ? void 0
                  : o.deviceMemory) <= 2 &&
                (a = 9500);
              var i = n.current;
              return (
                Te()(r, a),
                function () {
                  dt.yw.stop(), (i[t] = !1);
                }
              );
            },
            [t, r]
          ),
          r
        );
      };
      var hr = n(9830),
        gr = n.n(hr),
        Nr = n(94769);
      const Tr = function (e) {
        var t = (0, Z.useState)(),
          n = (0, i.Z)(t, 2),
          r = n[0],
          o = n[1],
          l = (0, ce.Z)().roomStore;
        return (
          (0, Z.useEffect)(
            function () {
              e &&
                (0, a.Z)(
                  m().mark(function e() {
                    var t, n, r;
                    return m().wrap(function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.next = 2),
                              (a = l.roomInfo.roomId),
                              C.Z.get("/webcast/web/programme/", {
                                params: { room_id: a },
                              })
                            );
                          case 2:
                            (n = e.sent),
                              null !=
                                (r =
                                  null === (t = n.data) || void 0 === t
                                    ? void 0
                                    : t.data) &&
                                r.programme &&
                                o(r);
                          case 5:
                          case "end":
                            return e.stop();
                        }
                      var a;
                    }, e);
                  })
                )();
            },
            [l.roomInfo.roomId, e]
          ),
          (0, Z.useCallback)(
            function (t) {
              var n = t.className,
                o = t.title,
                a = gr()(t),
                i = t.style;
              return e && r
                ? Z.createElement(
                    "div",
                    { className: n },
                    Z.createElement(
                      "div",
                      { className: "programme-title" },
                      o || Z.createElement("span", null, "\u8282\u76ee\u5355")
                    ),
                    Z.createElement(Nr.P, {
                      className: "programme-container",
                      programmeData: r,
                      fill: a,
                      style: i,
                    })
                  )
                : null;
            },
            [r, e]
          )
        );
      };
      var Ir,
        yr = n(63546),
        Sr = n(32932),
        Cr = n(23744);
      !(function (e) {
        (e.IM_API = "im/fetch"), (e.ENTER_API = "web/enter");
      })(Ir || (Ir = {}));
      const br = function (e) {
        var t = e.apis,
          n = e.roomId,
          r = e.headers,
          o = e.saveVerify,
          i = e.isSavePlayer;
        (0, Z.useEffect)(
          function () {
            if (n) {
              var e = function e() {
                  (0, Ut.p)().then(function (t) {
                    var n, r;
                    t({
                      success: function () {
                        location.reload();
                      },
                      next: "https://".concat(
                        null === (n = window) ||
                          void 0 === n ||
                          null === (r = n.location) ||
                          void 0 === r
                          ? void 0
                          : r.host
                      ),
                      onClose: function () {
                        Te()(function () {
                          e();
                        }, 1e3);
                      },
                    });
                  });
                },
                l = (function () {
                  var e = (0, a.Z)(
                    m().mark(function e(t) {
                      var r, a, s;
                      return m().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              return (
                                (r = t["x-vc-bdturing-parameters"]),
                                (a = c()(
                                  window,
                                  "__STORE__.userStore.odin.user_unique_id",
                                  "0"
                                )),
                                (e.next = 4),
                                (0, Cr.HQ)()
                              );
                            case 4:
                              return (
                                (s = e.sent).config({ executor: "script" }),
                                (e.next = 8),
                                u(s, a)
                              );
                            case 8:
                              s.render({
                                verify_data: r,
                                captchaOptions: {
                                  host: "//verify.snssdk.com/",
                                  successCb: function () {
                                    dt.yw.polling(n),
                                      null == i || i(!0),
                                      null == o || o();
                                  },
                                  errorCb: function (e) {},
                                  closeCb: function () {
                                    Te()(function () {
                                      l(t);
                                    }, 1e3);
                                  },
                                },
                              });
                            case 9:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })(),
                s = null;
              s = h()(function () {
                var n =
                  null === dt.yw || void 0 === dt.yw
                    ? void 0
                    : dt.yw.getimReponseHeader();
                if (n && n["x-tt-logid"])
                  switch ((clearInterval(s), t)) {
                    case Ir.ENTER_API:
                      r &&
                        (r["x-vc-bdturing-parameters"]
                          ? (null == i || i(!1),
                            null === dt.yw || void 0 === dt.yw || dt.yw.pause(),
                            l(r))
                          : r["whale-decision"] &&
                            (null == i || i(!1),
                            null === dt.yw || void 0 === dt.yw || dt.yw.stop(),
                            e()));
                      break;
                    case Ir.IM_API:
                      n && n["x-vc-bdturing-parameters"]
                        ? (dt.yw.pause(), l(n))
                        : n["whale-decision"] &&
                          "anonymous" === n["whale-decision"] &&
                          (dt.yw.pause(), e());
                  }
              }, 1e3);
            }
            function u(e, t) {
              return d.apply(this, arguments);
            }
            function d() {
              return (d = (0, a.Z)(
                m().mark(function e(t, n) {
                  return m().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            new (N())(function (e, r) {
                              var o = function () {
                                  e();
                                },
                                a = function (e) {
                                  r(e);
                                };
                              t.init(
                                {
                                  commonOptions: {
                                    aid: Sr.AF,
                                    did: n,
                                    iid: "0",
                                  },
                                  captchaOptions: {
                                    host: "//verify.snssdk.com/",
                                    showMode: "mask",
                                    autoClose: !0,
                                    hideCloseBtn: !0,
                                    successCb: o,
                                    errorCb: a,
                                  },
                                },
                                o,
                                a
                              );
                            })
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )).apply(this, arguments);
            }
          },
          [n, r]
        );
      };
      const Ar = function (e, t, n, r) {
        var l,
          s = (0, Z.useRef)(0),
          d = (0, Z.useRef)(0),
          v = (0, Z.useRef)(!1),
          _ = (0, Z.useState)(),
          E = (0, i.Z)(_, 2),
          p = E[0],
          h = E[1],
          g = (0, ce.Z)(),
          N = g.roomStore.roomInfo,
          T = g.linkmicStore,
          I = T.setScene,
          y = T.linkStatus,
          S = g.abStore.layoutData,
          C = N.roomId,
          L = void 0 === C ? "" : C,
          k = N.web_rid,
          w = (0, yr.Z)(),
          P = (0, Z.useCallback)(
            (0, a.Z)(
              m().mark(function e() {
                var t, n, a, i;
                return m().wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((t = s.current),
                            (n = d.current),
                            (v.current = !0),
                            (e.prev = 3),
                            (i =
                              (null === (a = N.room) || void 0 === a
                                ? void 0
                                : a.status) !== R.LV.END),
                            r.current &&
                              (0, b.y3)(
                                (0, o.Z)(
                                  {
                                    duration: t ? (i ? Vt()() - t : n - t) : 0,
                                    anchor_id: c()(N, "anchor.id_str", ""),
                                    room_id: L,
                                    stream_type: w,
                                  },
                                  (0, b.$E)(N)
                                )
                              ),
                            (0, b.mZ)({
                              duration: t ? (i ? Vt()() - t : n - t) : 0,
                              stream_type: w,
                            }),
                            y !== Fn.cK.LINKED)
                          ) {
                            e.next = 10;
                            break;
                          }
                          return (e.next = 10), A(L);
                        case 10:
                          e.next = 14;
                          break;
                        case 12:
                          (e.prev = 12), (e.t0 = e.catch(3));
                        case 14:
                        case "end":
                          return e.stop();
                      }
                  },
                  e,
                  null,
                  [[3, 12]]
                );
              })
            ),
            [L, N, w]
          ),
          M = (0, Z.useCallback)(
            (0, a.Z)(
              m().mark(function t() {
                var n, r, o, a, i, l, c, s;
                return m().wrap(function (t) {
                  for (;;)
                    switch ((t.prev = t.next)) {
                      case 0:
                        return (
                          (o =
                            (window && window.__INVISIBLE_QUERY__) ||
                            sessionStorage.getItem("route_params")),
                          (a = o && o.enter_from_merge),
                          (i =
                            (null == S ? void 0 : S.roomEnterUserLogin) || "0"),
                          (t.next = 5),
                          O(k, L, a, i, e)
                        );
                      case 5:
                        (l = t.sent),
                          (c = l.headers),
                          h(c),
                          delete (s = u()(
                            null !==
                              (n =
                                null == N ||
                                null === (r = N.room) ||
                                void 0 === r
                                  ? void 0
                                  : r.linker_map) && void 0 !== n
                              ? n
                              : {}
                          ))[vr.xs.Scene_AudienceLinkmic],
                          f()(s).length >= 1 && I(vr.xs.Scene_PK);
                      case 11:
                      case "end":
                        return t.stop();
                    }
                }, t);
              })
            ),
            [L, k]
          );
        br({
          apis: Ir.ENTER_API,
          roomId: L,
          headers: p,
          saveVerify: t,
          isSavePlayer: n,
        }),
          (0, Z.useEffect)(
            function () {
              var e;
              (null === (e = N.room) || void 0 === e ? void 0 : e.status) ===
                R.LV.END && (d.current = Vt()());
            },
            [null === (l = N.room) || void 0 === l ? void 0 : l.status]
          ),
          (0, Z.useEffect)(function () {
            var e;
            (null === (e = N.room) || void 0 === e ? void 0 : e.status) !==
              R.LV.END && (s.current = Vt()()),
              M();
          }, []),
          (0, Z.useEffect)(
            function () {
              Te()(function () {
                window.__INVISIBLE_QUERY__ && (0, b.AE)(w);
              }, 500);
            },
            [w]
          ),
          (0, Z.useEffect)(
            function () {
              return (
                "undefined" != typeof window &&
                  window.addEventListener("beforeunload", P),
                function () {
                  "undefined" != typeof window &&
                    window.removeEventListener("beforeunload", P),
                    v.current || P();
                }
              );
            },
            [P]
          );
      };
      const Or = function (e) {
        var t = (0, ce.Z)().roomStore,
          n = t.roomInfo,
          r = t.setRoomUserStats,
          o = (0, Z.useCallback)(function (e) {
            tn()(e).call(e, function (e) {
              var t = e.method,
                o = e.payload;
              t &&
                o &&
                t === R.lm.WEBCAST_ROOM_STATS_MESSAGE &&
                r(
                  (function (e, t) {
                    var n = c()(e, "room.room_view_stats.display_version", 0),
                      r = c()(e, "room.room_view_stats.display_value", 0),
                      o = c()(e, "room.room_view_stats", {}),
                      a = Number(c()(t, "displayVersion", "0")),
                      i = c()(t, "incremental", !1),
                      l = Number(c()(t, "displayValue", "0"));
                    return a < n || (i && l <= r)
                      ? o
                      : {
                          display_long: t.displayLong,
                          display_middle: t.displayMiddle,
                          display_short: t.displayShort,
                          display_value: l,
                          display_version: a,
                          incremental: t.incremental,
                          is_hidden: t.is_hidden,
                        };
                  })(n, o)
                );
            });
          }, []);
        (0, Z.useEffect)(
          function () {
            return (
              dt.yw.subscribe(R.dQ.ROOM_BUSINESS, o),
              function () {
                dt.yw.unsubscribe(R.dQ.ROOM_BUSINESS, o);
              }
            );
          },
          [o, e]
        );
      };
      var Lr = n(46770);
      const Rr = function () {
        var e = (0, ce.Z)(),
          t = e.giftStore,
          n = t.setGiftTccStatus,
          r = t.setRechargeTccStatus,
          o = e.audienceStore.setAudienceTccStatus,
          i = e.pkStore.setPKTccStatus;
        (0, Z.useEffect)(function () {
          try {
            (0, a.Z)(
              m().mark(function e() {
                var t, o, a;
                return m().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (
                          (e.next = 2),
                          (0, Lr.Z)({
                            service_name: "webcast.douyin.live_pc",
                            key: "gift_config",
                          })
                        );
                      case 2:
                        (t = e.sent),
                          (o = c()(t, "gift_status", !1)),
                          (a = c()(t, "recharge_status", !1)),
                          n(o),
                          r(a);
                      case 7:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            )();
          } catch (e) {}
        }, []),
          (0, Z.useEffect)(function () {
            try {
              (0, a.Z)(
                m().mark(function e() {
                  var t, n;
                  return m().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            (0, Lr.Z)({
                              service_name: "webcast.douyin.live_pc",
                              key: "pk_config",
                            })
                          );
                        case 2:
                          (t = e.sent), (n = c()(t, "pk_status", !1)), i(n);
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )();
            } catch (e) {}
          }, []),
          (0, Z.useEffect)(function () {
            try {
              (0, a.Z)(
                m().mark(function e() {
                  var t, n;
                  return m().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            (0, Lr.Z)({
                              service_name: "webcast.douyin.live_pc",
                              key: "audience_config",
                            })
                          );
                        case 2:
                          (t = e.sent),
                            (n = c()(t, "audience_status", !1)),
                            o(n);
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )();
            } catch (e) {}
          }, []);
      };
      var kr = n(98343),
        wr = n(41755),
        Pr = n(10921),
        Mr = n(9070),
        Zr = n(73750),
        Ur = n(72983),
        Dr = n(78867),
        xr = n(25083);
      const Fr = {
        living: "UKFpY5tW",
        programme_skin: "E4zuRI0V",
        spring_container: "SCqprPqP",
        cardRelevant: "OkoVu3vW",
        flexContainer: "jZ92U2GY",
        container: "SxCiQ8ip",
        input_disabled: "rV5bMLZk",
        playerWrap: "EDvjMGPs",
        hasGiftBar: "FKQqfehj",
        player: "aOf6T5xq",
        appOnly: "_lOind3f",
        chatroomWrap: "A0ewbQCI",
        chatroomContainer: "ro3xcipQ",
        "webcast-chatroom___list": "r1O2gdlT",
        chatroomContent: "lF9JOwdS",
        chatroom: "X9XrWxV7",
        linkMic: "Y3IrgMT4",
        "programme-container": "d3jumzcZ",
        theater: "V6Va18Np",
        immersive: "YZVAuejk",
        metro: "H9SQ3Q3i",
        toggle_chatroom: "vbPDC9gk",
        iframe: "SYGzH9gE",
      };
      var Kr = n(92557),
        Gr = n(53383),
        Vr = function () {
          null === Gr.M || void 0 === Gr.M || Gr.M.livePlayerInitStart();
        },
        Yr = function () {
          null === Gr.M || void 0 === Gr.M || Gr.M.livePlayerInitEnd();
        },
        Br = function () {
          null === Gr.M || void 0 === Gr.M || Gr.M.liveUrlLoadStart();
        },
        Hr = function () {
          Te()(function () {
            Kr.emit(Kr.EVENT.initImSDK);
          }, 100),
            Te()(function () {
              Kr.emit(Kr.EVENT.initNoticeSDK);
            }, 500);
        };
      xr.TU("live_detail");
      const Wr = (0, ae.Pi)(function (e) {
        var t,
          n,
          l,
          s,
          d,
          v,
          _,
          p,
          g,
          T,
          y,
          S,
          A,
          O = e.error,
          w = e.iframeConf,
          U = e.miburi,
          D = e.abTestData,
          x = e.messageFrom,
          F = e.errorPageMessage,
          K = e.enterRoomApi,
          V = (0, Z.useState)(null != D ? D : {}),
          Y = (0, i.Z)(V, 2),
          B = Y[0],
          H = Y[1],
          W = (0, Z.useState)(O),
          j = (0, i.Z)(W, 2),
          q = j[0],
          z = j[1],
          Q = (0, Z.useState)(F),
          X = (0, i.Z)(Q, 2),
          J = X[0],
          $ = X[1],
          ee = (0, Z.useRef)(null),
          te = (0, Z.useRef)(!1),
          ne = (0, Z.useState)(!1),
          re = (0, i.Z)(ne, 2),
          oe = re[0],
          ae = re[1],
          ie = (0, Z.useState)(!1),
          se = (0, i.Z)(ie, 2),
          ue = se[0],
          de = se[1],
          me = (0, Z.useState)([]),
          ve = (0, i.Z)(me, 2),
          fe = ve[0],
          _e = ve[1],
          Ee = (0, Z.useState)(L.kx.NONE),
          pe = (0, i.Z)(Ee, 2),
          he = pe[0],
          ge = pe[1],
          Ne = (0, Z.useState)(!1),
          Te = (0, i.Z)(Ne, 2),
          Ie = Te[0],
          ye = Te[1],
          Se = (0, Z.useState)(!1),
          Ce = (0, i.Z)(Se, 2),
          be = Ce[0],
          Ae = Ce[1],
          Oe = (0, kr.TH)(),
          Le = /iframe/.test(Oe.pathname),
          Re = (0, Z.useState)(!1),
          ke = (0, i.Z)(Re, 2),
          we = ke[0],
          Pe = ke[1],
          Me = (0, Z.useState)(!0),
          Ze = (0, i.Z)(Me, 2),
          Ue = Ze[0],
          De = Ze[1],
          xe = (0, ce.Z)(),
          Fe = xe.userStore,
          Ke = Fe.userInfo,
          Ge = Fe.userHandlerPause,
          Ve = xe.linkmicStore,
          Ye = Ve.linkRoomType,
          Be = Ve.isPlayModeNotSupport,
          He = Ve.setScene,
          We = Ve.setLiveRoomMode,
          je = xe.roomStore,
          qe = je.roomInfo,
          ze = je.hasAppointment,
          Qe = je.hasProgramme,
          Xe = xe.giftStore,
          Je = Xe.giftStatus,
          $e = Xe.supportedGiftPages,
          et = Xe.balance,
          tt = Xe.setGiftSwitchStatus,
          nt = Xe.setGiftAuthStatus,
          rt = xe.audienceStore.setAudienceTestStatus,
          ot = xe.layoutStore,
          at = ot.immersive,
          it = ot.metro,
          lt = ot.specialBanner,
          ct = ot.hasRelevantRoom,
          st = ot.programmeFill,
          ut = ot.resource,
          mt = xe.abStore.layoutData;
        (0, sr.Z)(!0);
        var vt = (0, wr.j)().liveSpringFeatures,
          ft = (0, Z.useState)([]),
          _t = (0, i.Z)(ft, 2),
          Et = _t[0],
          pt = _t[1],
          ht = Z.useRef(Ge),
          gt = (0, Z.useMemo)(
            function () {
              var e, t, n, r, o, a, i, l, s;
              return {
                isMedia:
                  (null === (e = qe.room) || void 0 === e
                    ? void 0
                    : e.live_room_mode) === R.ke.MEDIA,
                LandscapeChat:
                  null === (t = qe.room) ||
                  void 0 === t ||
                  null === (n = t.room_auth) ||
                  void 0 === n
                    ? void 0
                    : n.LandscapeChat,
                isAppOnly:
                  qe.enter_mode === R.gE.APP ||
                  Be ||
                  (J &&
                    (null === (r = qe.room) || void 0 === r
                      ? void 0
                      : r.status) !== R.LV.END),
                live_room_mode:
                  null === (o = qe.room) || void 0 === o
                    ? void 0
                    : o.live_room_mode,
                roomId: null !== (a = qe.roomId) && void 0 !== a ? a : "",
                roomStatus:
                  null === (i = qe.room) || void 0 === i ? void 0 : i.status,
                anchorId: c()(qe, "anchor.id_str", ""),
                anchorNickname: c()(qe, "anchor.nickname", ""),
                anchorAvatar: c()(qe.anchor, "avatar_thumb.url_list[0]", ""),
                isFixedChat:
                  1 ===
                  (null === (l = qe.room) ||
                  void 0 === l ||
                  null === (s = l.room_auth) ||
                  void 0 === s
                    ? void 0
                    : s.FixedChat),
              };
            },
            [qe, Be, J]
          ),
          Nt = gt.isMedia,
          Tt = gt.LandscapeChat,
          It = gt.isAppOnly,
          yt = gt.live_room_mode,
          St = gt.roomId,
          Ct = gt.roomStatus,
          bt = gt.anchorId,
          At = gt.anchorNickname,
          Ot = gt.anchorAvatar,
          Lt = gt.isFixedChat,
          Rt = (0, Z.useMemo)(
            function () {
              return { userId: Ke.id_str };
            },
            [Ke]
          ).userId;
        ht.current = Ge;
        var kt = (0, Z.useState)(!Nt && Tt !== R.xW.OFF),
          wt = (0, i.Z)(kt, 2),
          Pt = wt[0],
          Mt = wt[1];
        (0, Z.useEffect)(
          function () {
            We(yt);
          },
          [yt, We]
        ),
          (0, Z.useEffect)(
            function () {
              Ct === R.LV.END && Hr();
            },
            [Ct]
          );
        var Zt = (0, Z.useMemo)(
            function () {
              return {
                vsBtnBcgColor: null == ut ? void 0 : ut.vsBtnBcgColor,
                lineColor: null == ut ? void 0 : ut.lineColor,
                txtColor: null == ut ? void 0 : ut.txtColor,
                skeLogoColor: null == ut ? void 0 : ut.skeLogoColor,
              };
            },
            [ut]
          ),
          Ut = (0, Z.useCallback)(function () {
            return Pe(!0);
          }, []),
          Dt = (0, Z.useCallback)(function (e) {
            return De(e);
          }, []);
        br({ apis: Ir.IM_API, roomId: St, saveVerify: Ut }),
          ur({ isVerified: we });
        var xt = (0, cr.Z)(),
          Ft = xt.renderLivePlayer,
          Kt = xt.onRoomBlur,
          Gt = xt.onRoomFocus,
          Vt = xt.isPlay,
          Yt = Boolean(ut);
        Or(we),
          Ar(K, Ut, Dt, te),
          (0, Z.useEffect)(function () {
            var e,
              t,
              n = u()(
                null !==
                  (e =
                    null == qe || null === (t = qe.room) || void 0 === t
                      ? void 0
                      : t.linker_map) && void 0 !== e
                  ? e
                  : {}
              );
            delete n[vr.xs.Scene_AudienceLinkmic],
              f()(n).length >= 1 && He(vr.xs.Scene_PK);
          }, []);
        var Bt = pr();
        (0, Z.useEffect)(
          function () {
            var e = c()(qe, "room.room_auth.Gift");
            try {
              (0, a.Z)(
                m().mark(function t() {
                  var n, r;
                  return m().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (t.next = 2), P().app.getIsMas();
                        case 2:
                          (n = t.sent), (r = c()(n, "data")), Le || r || nt(e);
                        case 5:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            } catch (t) {
              Le || nt(e);
            }
          },
          [qe]
        ),
          Rr(),
          (0, Z.useEffect)(function () {
            (0, a.Z)(
              m().mark(function e() {
                var t;
                return m().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (
                          (e.next = 2),
                          Mr.U2({
                            key: Zr.TccKey.VsSpringModule,
                            defaultValue: [],
                          })
                        );
                      case 2:
                        (t = e.sent), pt(t);
                      case 4:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            )();
          }, []),
          (0, Z.useEffect)(
            function () {
              rt(Boolean(null == mt ? void 0 : mt.audienceTestStatus));
            },
            [null == mt ? void 0 : mt.audienceTestStatus]
          );
        var Wt = (0, Ht.Z)();
        !(function (e, t, n, r, o, a, i) {
          var l = (0, ce.Z)(),
            s = l.roomStore,
            u = s.setRoomStatus,
            d = s.setRoomCommentaryRoomInfo,
            m = l.giftStore,
            v = m.setGiftSwitchStatus,
            f = m.setGiftAuthStatus,
            _ = (0, Z.useCallback)(
              function (t) {
                tn()(t).call(t, function (t) {
                  var l = t.method,
                    s = t.payload;
                  if (l && s) {
                    var m = Number(s.action);
                    switch (l) {
                      case R.lm.WEBCAST_VERIFY_MESSAGE:
                        switch (m) {
                          case R.Jq.CLOSE_DANMAKU:
                            n(!1);
                            break;
                          case R.Jq.OPEN_DANMAKU:
                            n(!0);
                            break;
                          case R.Jq.CLOSE_GIFT:
                            f(!1);
                            break;
                          case R.Jq.OPEN_GIFT:
                            f(!0);
                        }
                        break;
                      case R.lm.WEBCAST_CONTROL_MESSAGE:
                        switch (m) {
                          case R.Rz.FINISH:
                          case R.Rz.FINISH_BY_ADMIN:
                          case R.Rz.ROOM_FINISH_BY_SWITCH:
                            u(R.LV.END), v(!1), dt.yw.stop();
                            break;
                          case R.Rz.RESUME:
                            v(!0), r(L.kx.NONE), i.current || o(!0);
                            break;
                          case R.Rz.PAUSE:
                            r(L.kx.ANCHOR_BAN), o(!1);
                        }
                        break;
                      case R.lm.WEBCAST_MEMBER_MESSAGE:
                        switch (m) {
                          case R.WU.BLOCK:
                            r(L.kx.BLOCK), f(!1);
                            break;
                          case R.WU.KICK_OUT:
                            r(L.kx.KICK_OUT), f(!1), dt.yw.stop(), a(!0);
                            break;
                          case R.WU.LEAVE:
                            var _ = c()(s, "user.id");
                            "WEB_INITIATIVE" !== s.actionDescription &&
                              _ === e &&
                              (r(L.kx.KICK_OUT), f(!1), dt.yw.stop(), a(!0));
                        }
                        break;
                      case R.lm.WEBCAST_NOTICE_MESSAGE:
                        switch ((m = Number(s.noticeType))) {
                          case R.F3.PAUSE:
                            r(L.kx.ANCHOR_BAN);
                            break;
                          case R.F3.RESUME:
                            r(L.kx.NONE);
                        }
                        break;
                      case R.lm.WebcastCommentaryChangeMessage:
                        var E = s.commentaryRoomInfo;
                        E && d(E);
                    }
                  }
                });
              },
              [e]
            );
          (0, Z.useEffect)(
            function () {
              return (
                dt.yw.subscribe(R.dQ.ROOM_BUSINESS, _),
                function () {
                  dt.yw.unsubscribe(R.dQ.ROOM_BUSINESS, _);
                }
              );
            },
            [_, t]
          );
        })(Rt, we, Mt, ge, Ae, ye, ht),
          Er(),
          (0, Z.useEffect)(
            function () {
              z(O);
            },
            [O]
          ),
          (0, Z.useEffect)(
            function () {
              $(F);
            },
            [F]
          );
        var jt = (0, Z.useMemo)(
          function () {
            var e;
            return (
              (e = {}),
              (0, r.Z)(e, Ht.$.ROOM_ID_EMPTY, function () {
                ge(L.kx.LIVE_FINISH);
              }),
              (0, r.Z)(e, Ht.$.LIVING_PAUSE, function () {
                ge(L.kx.ANCHOR_BAN);
              }),
              (0, r.Z)(e, Ht.$.LIVING_END, function () {
                ye(!0), ge(L.kx.LIVE_FINISH), ae(!1);
                var e = (function (e, t) {
                  var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0;
                  return C.Z.get("/webcast/web/similar_room_by_anchor/", {
                    params: { web_rid: e, count: t, offset: n },
                  });
                })(qe.web_rid, 5);
                e.then(function (e) {
                  var t,
                    n = E()((t = c()(e, "data.data.data", []))).call(
                      t,
                      function (t) {
                        return (0, o.Z)(
                          (0, o.Z)({}, t),
                          {},
                          {
                            room: (0, k.C_)(t.room),
                            requestId: e.headers["x-tt-logid"],
                          }
                        );
                      }
                    );
                  _e(n);
                });
              }),
              (0, r.Z)(e, Ht.$.NO_LOGIN, function () {}),
              (0, r.Z)(e, Ht.$.DEFAULT, function () {}),
              e
            );
          },
          [qe.web_rid]
        );
        (0, Z.useEffect)(
          function () {
            jt[Wt](), It && (tt(!1), dt.yw.stop());
          },
          [jt, Wt, tt, It]
        ),
          (0, Z.useEffect)(
            function () {
              bt && St && Rt && Rt === bt && z({ title: cn });
            },
            [bt, Rt, St]
          ),
          (0, Z.useEffect)(
            function () {
              var e;
              return (
                Ie ||
                  Ct === R.LV.END ||
                  (e = h()(function () {
                    (0, b.Bf)({ anchor_id: bt, room_id: St });
                  }, 6e4)),
                function () {
                  e && clearInterval(e);
                }
              );
            },
            [Ie, bt, St, Ct]
          );
        var qt = Z.useCallback(function (e) {
            ae(e), de(!1);
          }, []),
          zt = (0, Z.useCallback)(function () {
            de(function (e) {
              return (0, b.Yk)(!e), !e;
            });
          }, []);
        (0, Z.useEffect)(function () {
          (0, a.Z)(
            m().mark(function e() {
              var t, n, r, a, l;
              return m().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (e.next = 2),
                        N().all([
                          Ur.h.getVar({
                            name: "live_miburi_plugin",
                            defaultValue: Dr.LiveMiburiPluginABVal.Landscape,
                          }),
                          Ur.h.getVar({
                            name: "live_shop_pop",
                            defaultValue: Dr.LiveShopPopABVal.Off,
                          }),
                        ])
                      );
                    case 2:
                      (t = e.sent),
                        (n = (0, i.Z)(t, 2)),
                        (r = n[0]),
                        (a = n[1]),
                        (l = { liveMiburiPlugin: r, liveShopPop: a }),
                        H(function (e) {
                          return (0, o.Z)((0, o.Z)({}, e), l);
                        });
                    case 8:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )();
        }, []);
        var Qt,
          Jt,
          $t = Tr(Qe),
          en = (0, Z.useMemo)(
            function () {
              return (
                ze &&
                (null == vt ? void 0 : vt.appointment) ===
                  Dr.LiveSpringFeatures.On
              );
            },
            [ze]
          );
        return q || !Ue
          ? Z.createElement(sn, (0, o.Z)({}, q))
          : Z.createElement(
              "div",
              {
                className: le()(
                  Fr.living,
                  (0, r.Z)({ giftDarkMode: Yt, thoughTop: Yt }, Fr.metro, it)
                ),
                style: {
                  background: Yt
                    ? null == ut || null === (t = ut.color) || void 0 === t
                      ? void 0
                      : t.pageBack
                    : void 0,
                },
                onClick: function () {
                  var e;
                  null == ee ||
                    null === (e = ee.current) ||
                    void 0 === e ||
                    e.setShowChat(!1);
                },
              },
              lt && ut && Z.createElement(Jn, { backImgData: ut }),
              Z.createElement(lr.Z, {
                title: "".concat(
                  At,
                  "\u7684\u6296\u97f3\u76f4\u64ad\u95f4 - \u6296\u97f3\u76f4\u64ad"
                ),
                description: I()(
                  (n = "\u6b22\u8fce\u6765\u5230".concat(
                    At,
                    "\u7684\u6296\u97f3\u76f4\u64ad\u95f4\uff0c"
                  ))
                ).call(
                  n,
                  At,
                  "\u4e0e\u5927\u5bb6\u4e00\u8d77\u8bb0\u5f55\u7f8e\u597d\u751f\u6d3b - \u6296\u97f3\u76f4\u64ad"
                ),
                keywords: I()(
                  (l = I()(
                    (s = I()(
                      (d = I()(
                        (v = I()((_ = "".concat(At, ","))).call(
                          _,
                          At,
                          "}\u76f4\u64ad,"
                        ))
                      ).call(v, At, "\u6296\u97f3,"))
                    ).call(d, At, "\u76f4\u64ad\u95f4,"))
                  ).call(s, At, "\u6296\u97f3\u76f4\u64ad,"))
                ).call(
                  l,
                  At,
                  "\u6296\u97f3\u76f4\u64ad\u95f4,\u6296\u97f3\u76f4\u64ad,\u6296\u97f3"
                ),
              }),
              Z.createElement(G, { messageFrom: x }),
              Z.createElement(ir, null),
              Z.createElement(
                "div",
                {
                  className: le()(
                    Fr.container,
                    ((p = {}),
                    (0, r.Z)(p, Fr.theater, oe),
                    (0, r.Z)(p, "is-theater", oe),
                    (0, r.Z)(p, Fr.iframe, Le),
                    (0, r.Z)(p, Fr.immersive, at),
                    (0, r.Z)(p, Fr.metro, it),
                    p)
                  ),
                  "data-e2e": "living-container",
                },
                !q &&
                  Z.createElement(
                    "div",
                    {
                      className: le()(
                        Fr.playerWrap,
                        (0, r.Z)({}, Fr.hasGiftBar, Je)
                      ),
                      style: { width: ue ? "100%" : void 0 },
                    },
                    !oe && !Le && !at && Z.createElement(Qn, { metro: it }),
                    Z.createElement(
                      "div",
                      { className: Fr.player },
                      It
                        ? Z.createElement(M.Z, {
                            avatar: Ot,
                            qrcode: qe.qrcode_url,
                            className: Fr.appOnly,
                          })
                        : Le
                        ? Z.createElement(an.Z, {
                            iframePlayerConf: w,
                            isPause: Ie,
                            playerCoverText: he,
                            isLogPlay: te,
                            onSend:
                              null === (Jt = ee.current) || void 0 === Jt
                                ? void 0
                                : Jt.onSend,
                            isVerifyed: we,
                            refreshPlayer: be,
                          })
                        : Z.createElement(un.Z, {
                            beforePlayerInit: Vr,
                            onReady: Yr,
                            onLoadStart: Br,
                            onLoadedData: function () {
                              null === Gr.M ||
                                void 0 === Gr.M ||
                                Gr.M.liveUrlLoadEnd(),
                                Hr(),
                                Bt();
                            },
                            recommendOnEndRoom: fe,
                            isDanmakuFeatureOn: Pt,
                            isPause: Ie,
                            playerCoverText: he,
                            isTheaterOn: oe,
                            onTheaterSwitch: qt,
                            isLogPlay: te,
                            onSend:
                              null === (Qt = ee.current) || void 0 === Qt
                                ? void 0
                                : Qt.onSend,
                            isFoldChatroom: ue,
                            onArrowClick: zt,
                            closeVideoClick: !0,
                            miburi: U,
                            abTestData: B,
                            livingRoomErrorStatus: Wt,
                            isVerifyed: we,
                            refreshPlayer: be,
                            immersive: at,
                            metro: it,
                            isFixedChat: Lt,
                          })
                    ),
                    !J &&
                      (Je || (Ye && !Be)) &&
                      Z.createElement(
                        on.Z,
                        {
                          giftStatus: Je,
                          giftPages: $e,
                          balance: et,
                          isLogin: Boolean(c()(Ke, "id_str")),
                          metro: it,
                          isSpringSkin: Yt,
                          style: {
                            background: Yt
                              ? null == ut ||
                                null === (g = ut.color) ||
                                void 0 === g
                                ? void 0
                                : g.giftBack
                              : "",
                          },
                        },
                        it &&
                          Z.createElement(Bn, {
                            metro: !0,
                            className: Fr.linkMic,
                          })
                      )
                  ),
                !Le &&
                  Z.createElement(rn, {
                    ref: ee,
                    css: Fr,
                    isFixedChat: Lt,
                    isMedia: Nt,
                    isVerified: we,
                    isAppOnly: It,
                    isSpringSkin: Yt,
                  })
              ),
              !Le &&
                Z.createElement($t, {
                  className: le()(
                    Fr["programme-container"],
                    (0, r.Z)({}, Fr.theater, oe)
                  ),
                  fill: st,
                  title:
                    null != ut && ut.programme_title
                      ? Z.createElement("img", {
                          className: Fr["programme-title"],
                          src: globalThis
                            .getFilterXss()
                            .filterUrl(ut.programme_title, null, {
                              logType: "js.href/src",
                              reportOnly: !1,
                            }),
                        })
                      : void 0,
                  style: {
                    background: Yt
                      ? null == ut || null === (T = ut.color) || void 0 === T
                        ? void 0
                        : T.programmeBack
                      : "",
                  },
                }),
              en &&
                Z.createElement(
                  "div",
                  { className: Fr.spring_container },
                  Z.createElement(Pr.Z, {
                    isSpringSkin: Yt,
                    moduleIndex: 0,
                    min:
                      (null == Et || null === (y = Et[0]) || void 0 === y
                        ? void 0
                        : y.min) || 0,
                    title:
                      null == Et || null === (S = Et[0]) || void 0 === S
                        ? void 0
                        : S.title,
                    defaultLiveList: [],
                    springSkinConf: Zt,
                    enterFromMerge: "live_detail",
                    hiddenModel: !0,
                    user: {
                      userInfo: { isLogin: Boolean(c()(Ke, "id_str")) },
                      dispatch: function () {
                        var e, t;
                        null === (e = window) ||
                          void 0 === e ||
                          null === (t = e.location) ||
                          void 0 === t ||
                          t.reload();
                      },
                    },
                  })
                ),
              (null === (A = qe.relevant_rooms) || void 0 === A
                ? void 0
                : A.length) > 0 &&
                ct &&
                !oe &&
                !Le &&
                !Nt &&
                !J &&
                Z.createElement(
                  "div",
                  { className: Fr.cardRelevant },
                  Z.createElement(
                    "div",
                    { className: Fr.flexContainer },
                    Ft(),
                    Z.createElement(
                      Xt.ri,
                      null,
                      Z.createElement(ln.Z, {
                        title: "\u76f8\u5173\u76f4\u64ad",
                        want_more: !1,
                        category: "relative",
                        tabs: [],
                        target: "_self",
                        cardPlayerIsPlay: Vt,
                        rooms: qe.relevant_rooms,
                        onRoomFocus: Gt,
                        onRoomBlur: Kt,
                        tabAbtest:
                          (null == mt ? void 0 : mt.liveTabOptimize) ===
                          Dr.LiveTabOptimize.On,
                      })
                    )
                  )
                )
            );
      });
    },
    86393: (e, t, n) => {
      n.d(t, { Z: () => w });
      var r,
        o = n(32781),
        a = n(88438),
        i = n.n(a),
        l = n(44503);
      function c() {
        return (
          (c = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          c.apply(this, arguments)
        );
      }
      const s = function (e) {
          return l.createElement(
            "svg",
            c(
              {
                width: 36,
                height: 37,
                viewBox: "0 0 36 37",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
              },
              e
            ),
            r ||
              (r = l.createElement("path", {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M20.808 10.928a.833.833 0 00-1.354-.651l-5.605 3.984h-3.041a.833.833 0 00-.833.833v6.667c0 .46.373.833.833.833h3.04l5.606 3.984a.833.833 0 001.354-.65v-15zM22.7 23.035a1.384 1.384 0 010-1.958l2.284-2.284-2.284-2.285a1.385 1.385 0 111.958-1.958l2.284 2.285 2.285-2.285a1.385 1.385 0 111.958 1.958L28.9 18.793l2.285 2.284a1.385 1.385 0 01-1.958 1.958l-2.285-2.284-2.284 2.284c-.541.541-1.418.541-1.958 0z",
                fill: "#fff",
              }))
          );
        },
        u = {
          cancel_mute_btn: "Lj3TJ2xa",
          icon: "wT8ZTxDu",
          center_cancel_box: "r2QY8Nlv",
          center_cancel_open: "gcgvIFnA",
          center_cancel_close: "hUKcDPii",
          center_cancel_line: "FPLZnMTt",
          center_cancel_icon: "RSNzSTwb",
        };
      var d,
        m,
        v,
        f,
        _,
        E = n(65064),
        p = n(65146),
        h = n(67739).ZP.POSITIONS;
      !(function (e) {
        (e.miniscreen = "miniscreen"),
          (e.time = "time"),
          (e.definition = "definition"),
          (e.error = "error"),
          (e.cssfullscreen = "cssfullscreen"),
          (e.fullscreen = "fullscreen"),
          (e.i18n = "i18n"),
          (e.loading = "loading"),
          (e.mobile = "mobile"),
          (e.pip = "pip"),
          (e.pc = "pc"),
          (e.play = "play"),
          (e.poster = "poster"),
          (e.progress = "progress"),
          (e.replay = "replay"),
          (e.start = "start"),
          (e.volume = "volume"),
          (e.playbackrate = "playbackrate"),
          (e.danmu = "danmu"),
          (e.danmuicon = "danmuicon"),
          (e.title = "title"),
          (e.anchor = "anchor"),
          (e.comment = "comment"),
          (e.dyreplay = "dyreplay"),
          (e.livestop = "livestop"),
          (e.report = "report"),
          (e.controls = "controls"),
          (e.dynamicbg = "dynamicBg"),
          (e.enter = "enter"),
          (e.cancelMute = "cancelMute");
      })(_ || (_ = {}));
      (f = {}),
        (0, p.Z)(f, h.ROOT, (0, p.Z)({}, _.cancelMute, 0)),
        (0, p.Z)(
          f,
          h.ROOT_TOP,
          ((d = {}), (0, p.Z)(d, _.title, 0), (0, p.Z)(d, _.anchor, 1), d)
        ),
        (0, p.Z)(
          f,
          h.CONTROLS_LEFT,
          ((m = {}), (0, p.Z)(m, _.play, 0), (0, p.Z)(m, _.dyreplay, 1), m)
        ),
        (0, p.Z)(
          f,
          h.CONTROLS_RIGHT,
          ((v = {}),
          (0, p.Z)(v, _.fullscreen, 0),
          (0, p.Z)(v, _.report, 1),
          (0, p.Z)(v, _.volume, 2),
          (0, p.Z)(v, _.danmuicon, 3),
          (0, p.Z)(v, _.comment, 4),
          v)
        );
      var g,
        N,
        T = n(85388),
        I = n(830),
        y = n(72302),
        S = n(11924),
        C = n(75409);
      function b() {
        return (
          (b = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          b.apply(this, arguments)
        );
      }
      const A = function (e) {
        return l.createElement(
          "svg",
          b(
            {
              width: 36,
              height: 36,
              viewBox: "0 0 36 36",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          g ||
            (g = l.createElement("path", {
              d: "M17.361 10.082c.289.139.472.431.472.751v15a.833.833 0 01-1.354.651L10.874 22.5h-3.04A.833.833 0 017 21.667V15c0-.46.373-.833.833-.833h3.041l5.605-3.984c.25-.2.593-.24.882-.1zM19.458 15.357a1.25 1.25 0 011.768.018 4.157 4.157 0 011.19 2.916 4.157 4.157 0 01-1.19 2.916 1.25 1.25 0 01-1.785-1.75c.295-.301.476-.711.476-1.166 0-.454-.18-.864-.477-1.166a1.25 1.25 0 01.018-1.768z",
              fill: "#fff",
            })),
          N ||
            (N = l.createElement("path", {
              d: "M23.537 11.788a1.25 1.25 0 00-1.408 2.066 5.41 5.41 0 012.37 4.48 5.41 5.41 0 01-2.37 4.48 1.25 1.25 0 101.408 2.065A7.91 7.91 0 0027 18.333a7.91 7.91 0 00-3.463-6.545z",
              fill: "#fff",
            }))
        );
      };
      var O;
      function L() {
        return (
          (L = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          L.apply(this, arguments)
        );
      }
      const R = function (e) {
        return l.createElement(
          "svg",
          L(
            {
              width: 36,
              height: 36,
              viewBox: "0 0 36 36",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          O ||
            (O = l.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M10.418 10.176a1.5 1.5 0 10-2.12 2.121l14.141 14.142a1.5 1.5 0 002.122-2.121L10.418 10.176zm-2.585 3.99h.371l9.63 9.63v2.037a.833.833 0 01-1.355.65L10.874 22.5h-3.04A.833.833 0 017 21.666V15c0-.46.373-.834.833-.834zm11.304 2.449l3.048 3.047a4.157 4.157 0 00-.96-4.288 1.25 1.25 0 00-2.088 1.24zm4.56 4.559l1.8 1.8A7.882 7.882 0 0027 18.334a7.91 7.91 0 00-3.463-6.547 1.25 1.25 0 00-1.408 2.066 5.41 5.41 0 012.37 4.48 5.39 5.39 0 01-.802 2.84zm-9.424-9.423l3.56 3.56v-4.478a.833.833 0 00-1.354-.65l-2.206 1.568z",
              fill: "#fff",
            }))
        );
      };
      const k = function (e) {
        return l.createElement(
          "div",
          { className: u.center_cancel_box },
          l.createElement(
            "div",
            { className: u.center_cancel_open, onClick: e.onOpen },
            l.createElement(
              "span",
              { className: u.center_cancel_icon },
              l.createElement(A, null)
            ),
            l.createElement(
              "span",
              { className: u.center_cancel_text },
              "\u6253\u5f00\u58f0\u97f3"
            )
          ),
          l.createElement("div", { className: u.center_cancel_line }),
          l.createElement(
            "div",
            { className: u.center_cancel_close, onClick: e.onClose },
            l.createElement(
              "span",
              { className: u.center_cancel_icon },
              l.createElement(R, null)
            ),
            l.createElement(
              "span",
              { className: u.center_cancel_text },
              "\u9759\u97f3\u64ad\u653e"
            )
          )
        );
      };
      const w = function (e) {
        var t = e.activity,
          n = (0, y.n)().player,
          r = (0, l.useState)(!1),
          a = (0, o.Z)(r, 2),
          c = a[0],
          d = a[1],
          m = (0, l.useState)(!1),
          v = (0, o.Z)(m, 2),
          f = v[0],
          _ = v[1],
          p = (0, l.useCallback)(function () {
            i()(function () {
              (n.muted = !0), n.play(), (0, T.w)(!1);
            }),
              i()(function () {
                n.muted &&
                  (d(!0),
                  (0, I.wC)(),
                  i()(function () {
                    d(!1);
                  }, 1e4));
              }, 5e3);
          }, []);
        (0, l.useEffect)(function () {
          return (
            n.on(S.AUTOPLAY_PREVENTED, p),
            function () {
              n.off(S.AUTOPLAY_PREVENTED, p);
            }
          );
        }, []),
          (0, l.useEffect)(
            function () {
              var e = C.ZP.findDom(n.root, ".xgplayer-controls");
              e && (e.style.display = c ? "none" : "block"),
                f && ((n.muted = c), (n.volume = c ? 0 : (0, T.Sv)() || 0.3));
            },
            [c, f]
          );
        var h = function () {
          d(!1), _(!0), (0, I.Ux)();
        };
        return l.createElement(
          E.Z,
          { in: c, timeout: 500, classNames: "transition-node" },
          t
            ? l.createElement(k, {
                onOpen: h,
                onClose: function () {
                  d(!1);
                },
              })
            : l.createElement(
                "button",
                { className: u.cancel_mute_btn, type: "button", onClick: h },
                l.createElement(s, { className: u.icon }),
                l.createElement(
                  "span",
                  null,
                  "\u70b9\u51fb\u53d6\u6d88\u9759\u97f3"
                )
              )
        );
      };
    },
    10115: (e, t, n) => {
      n.d(t, { Z: () => _ });
      var r = n(65146),
        o = n(32781),
        a = n(63135),
        i = n.n(a),
        l = n(85388),
        c = n(7733),
        s = n(72302),
        u = n(11372),
        d = n(44503);
      const m = {
        comment: "v4pLwFDV",
        text: "P3Y1tVvY",
        fixed_text: "_qsmk50N",
        submit: "sYNBzddD",
        fixed_chat: "vyuwqHPg",
        no_login: "DhFRDLug",
        login: "ZfvqhP9M",
      };
      var v = n(79705),
        f = n.n(v);
      const _ = (0, u.r)(function (e) {
        var t = e.onSend,
          n = e.isLogin,
          a = e.isIframe,
          u = e.activity,
          v = d.useState(""),
          _ = (0, o.Z)(v, 2),
          E = _[0],
          p = _[1],
          h = d.useRef(!1),
          g = (0, s.n)().player,
          N = d.useCallback(function (e) {
            var t = e.target.value;
            p(t);
          }, []),
          T = function () {
            a
              ? (0, l.dn)({
                  headerText:
                    "\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",
                })
              : (0, c.p)().then(function (e) {
                  var t, n;
                  u && g.exitFullscreen(),
                    e({
                      headerText:
                        "\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",
                      success: function () {
                        window.location.reload();
                      },
                      next: "https://".concat(
                        null === (t = window) ||
                          void 0 === t ||
                          null === (n = t.location) ||
                          void 0 === n
                          ? void 0
                          : n.host
                      ),
                    });
                });
          },
          I = d.useCallback(
            function () {
              if (!n) return g.exitFullscreen(), void T();
              E && "" !== i()(E).call(E) && t && t(E), p("");
            },
            [t, n, E, g]
          ),
          y = d.useCallback(
            function (e) {
              "Enter" !== e.key || h.current || (e.preventDefault(), I());
            },
            [I]
          ),
          S = d.useCallback(function () {
            h.current = !0;
          }, []),
          C = d.useCallback(function () {
            h.current = !1;
          }, []);
        return n
          ? d.createElement(
              "div",
              { className: f()(m.comment, (0, r.Z)({}, m.activity, u)) },
              d.createElement("textarea", {
                className: m.text,
                maxLength: 50,
                value: E,
                onChange: N,
                placeholder: "\u4e0e\u5927\u5bb6\u4e92\u52a8\u4e00\u4e0b...",
                onKeyDown: y,
                onCompositionStart: S,
                onCompositionEnd: C,
              }),
              d.createElement(
                "div",
                { className: m.submit, onClick: I },
                "\u53d1\u9001"
              )
            )
          : d.createElement(
              "div",
              { className: m.no_login },
              "\u9700\u5148",
              d.createElement(
                "span",
                { className: m.login, onClick: T },
                "\u767b\u5f55"
              ),
              "\uff0c\u624d\u80fd\u5f00\u59cb\u804a\u5929"
            );
      });
    },
    69047: (e, t, n) => {
      n.d(t, { Z: () => y });
      var r = n(64408),
        o = n(32781),
        a = n(5594),
        i = n.n(a),
        l = n(10081),
        c = n.n(l),
        s = n(44503),
        u = n(91638),
        d = n(52441),
        m = n(72302),
        v = n(3505),
        f = n(11372),
        _ = n(18506),
        E = n(46770),
        p = n(64596),
        h = n(24260),
        g = n(79705),
        N = n.n(g),
        T = (0, h.default)(
          {
            resolved: {},
            chunkName: function () {
              return "ies-douyin-web-ui-src-components-Lottie";
            },
            isReady: function (e) {
              var t = this.resolve(e);
              return !0 === this.resolved[t] && !!n.m[t];
            },
            importAsync: function () {
              return Promise.all([n.e(1115), n.e(8670)]).then(n.bind(n, 86256));
            },
            requireAsync: function (e) {
              var t = this,
                n = this.resolve(e);
              return (
                (this.resolved[n] = !1),
                this.importAsync(e).then(function (e) {
                  return (t.resolved[n] = !0), e;
                })
              );
            },
            requireSync: function e(t) {
              var r = this.resolve(t);
              return n(r);
            },
            resolve: function e() {
              return 86256;
            },
          },
          { ssr: !1 }
        );
      function I(e) {
        var t,
          n = e.webRid,
          a = e.roomTeaLogParams,
          l = e.onClick,
          f = e.scene,
          h = e.program,
          g = e.className,
          I = (0, m.n)().player,
          y = (0, s.useState)(!1),
          S = (0, o.Z)(y, 2),
          C = S[0],
          b = S[1],
          A = (0, s.useState)({}),
          O = (0, o.Z)(A, 2),
          L = O[0],
          R = O[1],
          k = (0, s.useCallback)(function () {
            return b(!0);
          }, []),
          w = (0, s.useCallback)(function () {
            return b(!1);
          }, []),
          P = (0, s.useMemo)(
            function () {
              var e, t;
              return L &&
                L[n] &&
                f &&
                (null === (e = L[n]) ||
                void 0 === e ||
                null === (t = e.scopes) ||
                void 0 === t
                  ? void 0
                  : c()(t).call(t, f)) > -1
                ? L[n]
                : null;
            },
            [n, f, L]
          );
        return (
          (0, s.useEffect)(
            function () {
              (0, r.Z)(
                i().mark(function e() {
                  var t;
                  return i().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            (0, E.Z)({
                              service_name: "webcast.douyin.live_pc",
                              key: "entrance",
                            })
                          );
                        case 2:
                          (t = e.sent), R(t);
                        case 4:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )();
            },
            [f, n]
          ),
          (0, s.useEffect)(function () {
            var e, t;
            return (
              null === (e = I.root) ||
                void 0 === e ||
                e.addEventListener("mouseover", k),
              null === (t = I.root) ||
                void 0 === t ||
                t.addEventListener("mouseleave", w),
              function () {
                var e, t;
                null === (e = I.root) ||
                  void 0 === e ||
                  e.removeEventListener("mouseover", k),
                  null === (t = I.root) ||
                    void 0 === t ||
                    t.removeEventListener("mouseleave", w);
              }
            );
          }, []),
          s.createElement(
            v.G,
            {
              href: globalThis
                .getFilterXss()
                .filterUrl(
                  (null == P ? void 0 : P.url) || (0, _.X)("/".concat(n)),
                  null,
                  { logType: "js.href/src", reportOnly: !1 }
                ),
              target: (null == P ? void 0 : P.html_target) || "_blank",
              passParams: a,
              onClick: l,
              style: { display: C ? "flex" : "none" },
              className: N()([u.Z.enterRoom, g]),
              "data-e2e": "live-enter-room",
            },
            s.createElement(T, {
              autoplay: !0,
              loop: !0,
              data: d,
              className: u.Z.enterRoomIcon,
            }),
            s.createElement(
              "span",
              null,
              (null == h || null === (t = h.mod) || void 0 === t
                ? void 0
                : t.episode_stage) === p.j.FIRST_LIVE
                ? "\u70b9\u51fb\u8fdb\u5165\u9996\u64ad"
                : (null == P ? void 0 : P.enter_text) ||
                    "\u70b9\u51fb\u8fdb\u5165\u76f4\u64ad\u95f4"
            )
          )
        );
      }
      const y = (0, f.r)(I);
    },
    65414: (e, t, n) => {
      n.d(t, { Z: () => C });
      var r = n(56402),
        o = n.n(r),
        a = n(92012),
        i = n.n(a),
        l = n(63786),
        c = n(11171),
        s = n(23383),
        u = n(54634),
        d = n(85131),
        m = n(72302),
        v = n(11372),
        f = n(10790),
        _ = n(22459),
        E = n(42327),
        p = n(79705),
        h = n.n(p),
        g = n(24142),
        N = n(44503);
      const T = "nCtkj5Qb",
        I = "Rz1UnmuH",
        y = "yiEDUCdK",
        S = "uV5BLUq1";
      const C = (0, v.r)(
        (0, g.Pi)(function (e) {
          var t,
            n = e.className,
            r = e.isIframe,
            a = (0, d.Z)(),
            v = a.roomStore,
            p = v.roomInfo,
            g = v.setFollowStatus,
            C = a.userStore.userInfo,
            b = (0, m.n)().player;
          return N.createElement(
            "div",
            { className: h()(T, n) },
            N.createElement(
              "div",
              { className: I },
              N.createElement(
                "a",
                {
                  className: "anchor-avatar-follow",
                  href: globalThis
                    .getFilterXss()
                    .filterUrl(
                      i()(
                        (t = "//".concat((0, l.iE)().VIDEO_DOMAIN, "/user/"))
                      ).call(t, o()(p, "anchor.sec_uid", "")),
                      null,
                      { logType: "js.href/src", reportOnly: !1 }
                    ),
                  target: "_blank",
                  rel: "noreferrer",
                },
                N.createElement(_.q, {
                  type: "extraSmall",
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(
                      o()(p, "anchor.avatar_thumb.url_list[0]", ""),
                      null,
                      { logType: "js.href/src", reportOnly: !1 }
                    ),
                })
              ),
              N.createElement(
                "div",
                { className: "".concat(y, " nickname") },
                o()(p, "anchor.nickname", "")
              )
            ),
            N.createElement(u.ZP, {
              onClick: function () {
                return !C.id_str && b.exitFullscreen();
              },
              channel_id: c.RN.FULL_SCREEN,
              className: "".concat(S, " anchor-follow-btn"),
              size: E.qE.normal,
              followStatus: o()(
                p,
                "anchor.follow_info.follow_status",
                s.E.INNOCENT
              ),
              isLogin: Boolean(o()(C, "id_str", "")),
              sec_user_id: o()(C, "sec_uid", ""),
              sec_to_user_id: o()(p, "anchor.sec_uid", ""),
              to_user_id: o()(p, "anchor.id_str", ""),
              current_room_id: o()(p, "roomId", ""),
              followCb: function (e) {
                g(e),
                  b.fullscreen &&
                    f.F.info({
                      text: (0, u.qZ)(e)
                        ? "\u5173\u6ce8\u6210\u529f"
                        : "\u53d6\u6d88\u5173\u6ce8\u6210\u529f",
                      root: b.root,
                    });
              },
              isIframe: r,
              toast: !b.fullscreen,
            })
          );
        })
      );
    },
    42969: (e, t, n) => {
      n.d(t, { Z: () => j });
      var r = n(44503);
      const o = "y96ud_pY";
      var a = n(32781),
        i = n(88438),
        l = n.n(i),
        c = n(24142),
        s = n(85131),
        u = n(57090),
        d = n(50902),
        m = n(19256);
      const v = "ZbdtuTEI",
        f = "Au3vyUgi",
        _ = "YZLe9jxv",
        E = "LKicNd_O",
        p = "um2bYMZ4";
      var h,
        g = n(92186),
        N = n(10135),
        T = n(44477),
        I = n(830);
      const y = (0, c.Pi)(function () {
        var e,
          t = (0, s.Z)().linkmicStore,
          n = t.teamfightInfo,
          o = t.linkMicSeats,
          i =
            void 0 !==
            (null == o || null === (e = o[0]) || void 0 === e
              ? void 0
              : e.user),
          c = null != n ? n : {},
          y = c.status,
          S = c.win_team_id,
          C = c.win_team_id_str,
          b = (0, T.Z)(),
          A = b.leftTeamScore,
          O = b.rightTeamScore,
          L = b.groupMemberCnts,
          R = b.isInPunish,
          k = r.useRef({
            leftScore: null == A ? void 0 : A.score,
            rightScore: null == O ? void 0 : O.score,
            redCnt: null == L ? void 0 : L[0],
            blueCnt: null == L ? void 0 : L[1],
          });
        r.useEffect(
          function () {
            k.current = {
              leftScore: null == A ? void 0 : A.score,
              rightScore: null == O ? void 0 : O.score,
              redCnt: null == L ? void 0 : L[0],
              blueCnt: null == L ? void 0 : L[1],
            };
          },
          [A, O, L]
        );
        var w = r.useState(!1),
          P = (0, a.Z)(w, 2),
          M = P[0],
          Z = P[1],
          U = (0, r.useMemo)(
            function () {
              var e, t;
              return Number(y) === g.Hj.LinkmicTeamfightStatus_PLAYING
                ? [N]
                : Number(y) === g.Hj.LinkmicTeamfightStatus_PUNISHING
                ? "0" === String(S)
                  ? [u, u]
                  : ((e = null != C ? C : S),
                    (t = T.Y.Red),
                    String(e) === String(t) ? [d, m] : [m, d])
                : [];
            },
            [y, C, S]
          );
        return (
          r.useEffect(
            function () {
              if (R && i) {
                var e = k.current || {},
                  t = e.redCnt,
                  n = e.blueCnt,
                  r = e.leftScore,
                  o = e.rightScore;
                (0, I.Az)({
                  redGuestCnt: t,
                  blueGuestCnt: n,
                  redMoney: r,
                  blueMoney: o,
                });
              }
            },
            [R, i]
          ),
          (0, r.useEffect)(
            function () {
              (null == U ? void 0 : U.length) > 0
                ? (Z(!0),
                  h && (clearTimeout(h), (h = null)),
                  (h = l()(function () {
                    Z(!1), h && clearTimeout(h);
                  }, 1500)))
                : Z(!1);
            },
            [y]
          ),
          (0, r.useEffect)(function () {
            return function () {
              return h && clearTimeout(h);
            };
          }, []),
          M
            ? r.createElement(
                "div",
                { className: f },
                1 === (null == U ? void 0 : U.length)
                  ? r.createElement("img", {
                      className: _,
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(null == U ? void 0 : U[0], null, {
                          logType: "js.href/src",
                          reportOnly: !1,
                        }),
                    })
                  : r.createElement(
                      "div",
                      { className: v },
                      r.createElement(
                        "div",
                        { className: E },
                        r.createElement("img", {
                          className: _,
                          src: globalThis
                            .getFilterXss()
                            .filterUrl(null == U ? void 0 : U[0], null, {
                              logType: "js.href/src",
                              reportOnly: !1,
                            }),
                        })
                      ),
                      r.createElement(
                        "div",
                        { className: p },
                        r.createElement("img", {
                          className: _,
                          src: globalThis
                            .getFilterXss()
                            .filterUrl(null == U ? void 0 : U[1], null, {
                              logType: "js.href/src",
                              reportOnly: !1,
                            }),
                        })
                      )
                    )
              )
            : null
        );
      });
      var S = n(65146),
        C = n(64408),
        b = n(5594),
        A = n.n(b),
        O = n(39534),
        L = n(72842),
        R = n(72302),
        k = n(10790);
      const w = "x3oQ_lp6",
        P = "PFet0smL",
        M = "kmtB6mjR",
        Z = "vy0kkas1",
        U = "g3UVRaJR",
        D = "SW1CpTrt",
        x = "F4e8uKU1",
        F = "SMaa6x1u";
      var K = n(12730),
        G = n(79705),
        V = n.n(G),
        Y = n(49330),
        B = n(89406),
        H = n(98532);
      const W = (0, c.Pi)(function (e) {
        var t = e.onConfirm,
          n = r.useState([]),
          o = (0, a.Z)(n, 2),
          i = o[0],
          l = o[1],
          c = r.useState([]),
          u = (0, a.Z)(c, 2),
          d = u[0],
          m = u[1],
          v = (0, R.n)().player,
          f = (0, s.Z)(),
          _ = f.linkmicStore,
          E = _.selectedLinkMicDevices,
          p = _.setDevices,
          h = _.devicesModalMode,
          g = _.setShowDevicesModal,
          N = _.videoPermission,
          y = _.setSelectedPosition,
          b = _.linkRoomType,
          G = _.isAllowVideo,
          W = _.isDefaultOpenVideo,
          j = _.setVideoDevice,
          q = _.setAudioDevice,
          z = f.userStore.userInfo,
          Q = (0, T.Z)().pickEmptySeatPositionByGroup,
          X = (0, O.Z)(),
          J = X.apply,
          $ = X.enableVideo,
          ee = X.unSilence,
          te = r.useState(E.audio),
          ne = (0, a.Z)(te, 2),
          re = ne[0],
          oe = ne[1],
          ae = r.useState(E.video),
          ie = (0, a.Z)(ae, 2),
          le = ie[0],
          ce = ie[1],
          se = r.useState(),
          ue = (0, a.Z)(se, 2),
          de = ue[0],
          me = ue[1],
          ve = r.useCallback(
            (function () {
              var e = (0, C.Z)(
                A().mark(function e(n) {
                  var r, o, a, i;
                  return A().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((r = n.audio),
                            (o = n.video),
                            de ||
                              k.F.info(
                                "\u8bf7\u9009\u62e9\u961f\u4f0d",
                                null == v ? void 0 : v.root
                              ),
                            h !== L.xQ.GROUP_CHOISE)
                          ) {
                            e.next = 14;
                            break;
                          }
                          if (z.id_str) {
                            e.next = 8;
                            break;
                          }
                          return (
                            null == v || v.exitFullscreen(),
                            (0, B.x)({
                              success: function () {
                                window.location.reload();
                              },
                              next: "https://".concat(
                                null === (a = window) ||
                                  void 0 === a ||
                                  null === (i = a.location) ||
                                  void 0 === i
                                  ? void 0
                                  : i.host
                              ),
                              headerText:
                                "\u767b\u5f55\u540e\u5373\u53ef\u8fde\u7ebf",
                              enterMethod: "link_mic",
                            }),
                            g(L.xQ.HIDE),
                            e.abrupt("return")
                          );
                        case 8:
                          if (r) {
                            e.next = 12;
                            break;
                          }
                          return (
                            k.F.info(
                              "\u65e0\u97f3\u6e90\u8f93\u5165\uff0c\u8fde\u7ebf\u5931\u8d25",
                              null == v ? void 0 : v.root
                            ),
                            g(L.xQ.HIDE),
                            e.abrupt("return")
                          );
                        case 12:
                          p({ audio: r, video: o }),
                            de &&
                              (J(Y.Un.TYPE_AUDIO, {
                                priorityPostion: Q(de),
                                teamFightTeamId:
                                  String(de) === T.Y.Blue ? "2" : "1",
                              }),
                              (0, I.rN)(
                                String(de) === T.Y.Blue ? "blue" : "red",
                                "bottom"
                              ));
                        case 14:
                          (0, I.yf)(), t && t(), g(L.xQ.HIDE), y(void 0);
                        case 18:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            [p, t, g, J, y, G, W, h, $, j, q, ee, z, b, v, de]
          ),
          fe = r.useCallback(
            (0, C.Z)(
              A().mark(function e() {
                var t, n, r;
                return A().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (e.next = 2), (0, H.PW)();
                      case 2:
                        (t = e.sent),
                          (n = t.videoInputs),
                          (r = t.audioInputs),
                          l(n),
                          m(r);
                      case 7:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            ),
            []
          );
        r.useEffect(
          function () {
            h !== L.xQ.HIDE && fe();
          },
          [fe, h]
        );
        var _e = r.useCallback(
            function () {
              h === L.xQ.APPLY &&
                k.F.info(
                  "\u65e0\u97f3\u6e90\u8f93\u5165, \u8fde\u9ea6\u5931\u8d25",
                  null == v ? void 0 : v.root
                ),
                g(L.xQ.HIDE),
                y(void 0);
            },
            [g, y, h, v]
          ),
          Ee = r.useMemo(
            function () {
              return (
                (h === L.xQ.ENABLE_VIDEO || (h === L.xQ.APPLY && W)) &&
                "video" === b &&
                G
              );
            },
            [h, b, G, W]
          ),
          pe = r.useMemo(
            function () {
              return (
                h === L.xQ.APPLY ||
                h === L.xQ.ENABLE_AUDIO ||
                h === L.xQ.GROUP_CHOISE
              );
            },
            [h]
          );
        r.useEffect(
          function () {
            h !== L.xQ.HIDE && (0, I.ri)();
          },
          [h]
        ),
          r.useEffect(
            function () {
              h === L.xQ.HIDE && (oe(void 0), ce(void 0));
            },
            [h]
          );
        var he = r.useMemo(
            function () {
              return { audio: pe, video: Ee && N !== L.g3.APPLYING };
            },
            [pe, Ee, N]
          ),
          ge = r.useCallback(function (e) {
            me(e);
          }, []),
          Ne = r.useCallback(
            function (e) {
              var t;
              return r.createElement(
                "div",
                {
                  className: V()(
                    ((t = {}),
                    (0, S.Z)(t, M, !0),
                    (0, S.Z)(t, Z, String(e) === T.Y.Red),
                    (0, S.Z)(t, x, String(e) === T.Y.Blue),
                    (0, S.Z)(t, D, de === String(e)),
                    t)
                  ),
                  onClick: function () {
                    return ge(e);
                  },
                },
                r.createElement("div", { className: U }),
                r.createElement(
                  "div",
                  { className: F },
                  String(e) === T.Y.Red ? "\u7ea2\u961f" : "\u84dd\u961f"
                )
              );
            },
            [de]
          ),
          Te = r.useMemo(
            function () {
              return r.createElement(
                "div",
                null,
                r.createElement(
                  "h1",
                  { className: P },
                  "\u8bf7\u9009\u62e9\u6218\u961f"
                ),
                r.createElement(
                  "div",
                  { className: w },
                  Ne(T.Y.Red),
                  Ne(T.Y.Blue)
                )
              );
            },
            [Ne]
          );
        return (
          r.useEffect(
            function () {
              h === L.xQ.GROUP_CHOISE && (0, I.nD)();
            },
            [h]
          ),
          r.createElement(K.Z, {
            show: h === L.xQ.GROUP_CHOISE,
            audioDevices: d,
            extra: Te,
            videoDevices: i,
            preSelectedAudioDevices: re,
            preSelectedVideoDevices: le,
            apply: he,
            container: v.root,
            onCancel: _e,
            onConfirm: ve,
          })
        );
      });
      const j = function () {
        return r.createElement(
          "div",
          { className: o },
          r.createElement(y, null),
          r.createElement(W, null)
        );
      };
    },
    12053: (e, t, n) => {
      n.d(t, { Z: () => g });
      var r = n(44503);
      const o = "H6KL3FUT";
      var a = n(32781),
        i = n(21805),
        l = n.n(i),
        c = n(88438),
        s = n.n(c),
        u = n(24142),
        d = n(85131);
      const m = "aSo6Tfmh",
        v = "g6PFcv0i";
      var f,
        _ = n(62182),
        E = n(9771),
        p = [];
      const h = (0, u.Pi)(function (e) {
        var t,
          n,
          o,
          i,
          c = e.guestBattleInfo,
          u = Number(null == c ? void 0 : c.status),
          h = null == c ? void 0 : c.battle_id,
          g = (0, d.Z)().linkmicStore.linkMicSeats,
          N =
            void 0 !==
            (null == g || null === (t = g[0]) || void 0 === t
              ? void 0
              : t.user),
          T = r.useState(!1),
          I = (0, a.Z)(T, 2),
          y = I[0],
          S = I[1],
          C =
            null == c ||
            null === (n = c.ui_info) ||
            void 0 === n ||
            null === (o = n.open_animation) ||
            void 0 === o ||
            null === (i = o.url_list) ||
            void 0 === i
              ? void 0
              : i[0],
          b = (0, r.useMemo)(
            function () {
              return Number(u) !== E.Nq.GuestBattle_ON_GOING ||
                l()(p).call(p, h)
                ? Number(u) === E.Nq.GuestBattle_SHOW_RESULT
                  ? _
                  : void 0
                : (p.push(h), C);
            },
            [u, C]
          );
        return (
          (0, r.useEffect)(
            function () {
              N &&
                ((null == b ? void 0 : b.length) > 0
                  ? (S(!0),
                    f && (clearTimeout(f), (f = null)),
                    (f = s()(function () {
                      S(!1), f && clearTimeout(f);
                    }, 3e3)))
                  : S(!1));
            },
            [u, N]
          ),
          (0, r.useEffect)(function () {
            return function () {
              return f && clearTimeout(f);
            };
          }, []),
          y
            ? r.createElement(
                "div",
                { className: m },
                b &&
                  r.createElement("img", {
                    className: v,
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(b, null, {
                        logType: "js.href/src",
                        reportOnly: !1,
                      }),
                  })
              )
            : null
        );
      });
      const g = function (e) {
        var t = e.guestBattleInfo;
        return r.createElement(
          "div",
          { className: o },
          r.createElement(h, { guestBattleInfo: t })
        );
      };
    },
    47983: (e, t, n) => {
      n.d(t, { Z: () => Ie });
      var r,
        o = n(24142),
        a = n(30673),
        i = n(64408),
        l = n(65146),
        c = n(30906),
        s = n(32781),
        u = n(19478),
        d = n.n(u),
        m = n(51088),
        v = n.n(m),
        f = n(5794),
        _ = n.n(f),
        E = n(56402),
        p = n.n(E),
        h = n(77370),
        g = n.n(h),
        N = n(5594),
        T = n.n(N),
        I = n(94610),
        y = n.n(I),
        S = n(78881),
        C = n.n(S),
        b = n(81711),
        A = n.n(b),
        O = n(21696),
        L = n.n(O),
        R = n(57617),
        k = n.n(R),
        w = n(22111),
        P = n.n(w),
        M = n(88438),
        Z = n.n(M),
        U = n(80051),
        D = n.n(U),
        x = n(21805),
        F = n.n(x),
        K = n(92012),
        G = n.n(K),
        V = n(59440),
        Y = n.n(V),
        B = n(92637),
        H = n.n(B),
        W = n(830),
        j = n(46914),
        q = n(2942),
        z = n(54510),
        Q = n(87240),
        X = n(81099),
        J = n(72842),
        $ = n(76762),
        ee = n(19753),
        te = n(92186);
      !(function (e) {
        (e[(e.TPYE_MESSAGE_UNKNOWN = 0)] = "TPYE_MESSAGE_UNKNOWN"),
          (e[(e.TYPE_MESSAGE_CREATE = 1)] = "TYPE_MESSAGE_CREATE"),
          (e[(e.TYPE_MESSAGE_FINISH = 2)] = "TYPE_MESSAGE_FINISH"),
          (e[(e.TYPE_MESSAGE_SING_ACTION_TOAST = 3)] =
            "TYPE_MESSAGE_SING_ACTION_TOAST");
      })(r || (r = {}));
      var ne = n(72302),
        re = n(51558),
        oe = n(91898),
        ae = n(85722),
        ie = n(44503),
        le = n(39534),
        ce = n(85131),
        se = n(10790),
        ue = n(4637),
        de = n(55410),
        me = n(74641),
        ve = n(46116),
        fe = n(46770);
      const _e = function () {
        var e = (0, ce.Z)(),
          t = e.roomStore.roomInfo,
          n = e.linkmicStore.playModes,
          r = p()(t, "roomId", ""),
          o = ie.useRef(!1),
          a = ie.useState(),
          i = (0, s.Z)(a, 2),
          l = i[0],
          c = i[1],
          u = ie.useMemo(function () {
            return null == n
              ? void 0
              : C()(n).call(n, function (e) {
                  var t;
                  return F()(
                    (t = [
                      me.V0.LinkmicPlayMode_GuestBattle,
                      me.V0.LinkmicPlayMode_Teamfight,
                      me.V0.LinkmicPlayMode_RoomBattle,
                      me.V0.LinkmicPlayMode_AudioChat_1_PLUS_8,
                    ])
                  ).call(t, e);
                });
          }, []);
        return (
          ie.useEffect(
            function () {
              !o.current &&
                u &&
                (0, j.y_)({ room_id: r }).then(function (e) {
                  c(null == e ? void 0 : e.data), (o.current = !0);
                });
            },
            [u]
          ),
          l
        );
      };
      var Ee = n(56013),
        pe = n(9771),
        he = n(90792),
        ge = !1;
      var Ne = d()(function () {
        se.F.info.apply(se.F, arguments);
      }, 1e3);
      const Te = function (e) {
        var t = e.isVerifyed,
          n = (0, ce.Z)(),
          o = n.linkmicStore,
          u = o.setFloatModal,
          d = o.imLinkMicLayout,
          m = o.linkMicConfig,
          f = o.linkMicLayout,
          E = o.seiLinkMicLayout,
          h = o.teamfightInfo,
          N = o.setIsPlayModeNotSupport,
          I = o.playModes,
          S = o.playModesPC,
          b = o.setPlayModes,
          O = o.setTeamfightInfo,
          R = o.guestBattleInfo,
          w = o.setGuestBattleInfo,
          M = o.orderSingInfo,
          U = o.setOrderSingInfo,
          x = o.updateLinkMicConfig,
          K = o.linkMicSeats,
          V = o.setImLinkMicSeats,
          B = o.setSeiLinkMicSeats,
          Te = o.setLinkStatus,
          Ie = o.setImLinkMicLayout,
          ye = o.setSeiLinkMicLayout,
          Se = o.setOtherRoomLinkSilenceStatus,
          Ce = o.linkStatus,
          be = o.setLinkMicConfig,
          Ae = o.selfLinkMicId,
          Oe = o.resetStore,
          Le = o.setOrderSingUserScore,
          Re = o.dressListInfo,
          ke = o.setDressListInfo,
          we = n.roomStore.roomInfo,
          Pe = n.userStore.userInfo,
          Me = (0, ne.n)().player,
          Ze = (0, le.Z)().leave,
          Ue = ie.useRef(!1),
          De = ie.useRef({}),
          xe = ie.useRef({}),
          Fe = ie.useRef(),
          Ke = ie.useRef({}),
          Ge = ie.useRef(void 0),
          Ve = ie.useRef([]),
          Ye = ie.useRef(!1),
          Be = ie.useRef(void 0),
          He = ie.useRef(void 0),
          We = ie.useCallback(
            function () {
              return K;
            },
            [K]
          ),
          je = ie.useState(),
          qe = (0, s.Z)(je, 2),
          ze = qe[0],
          Qe = qe[1],
          Xe = ie.useCallback(function (e, t) {
            var n = [];
            return (
              null == e ||
                y()(e).call(e, function (e) {
                  (null != t &&
                    C()(t).call(t, function (t) {
                      return (
                        (null == t ? void 0 : t.linkmicIdStr) ===
                        (null == e ? void 0 : e.linkmicIdStr)
                      );
                    })) ||
                    n.push(e);
                }),
              n
            );
          }, []),
          Je = ie.useCallback(
            function () {
              var e;
              return Ae && Fe.current
                ? (0, c.Z)(
                    (0, c.Z)(
                      {},
                      null !== (e = xe.current) && void 0 !== e ? e : {}
                    ),
                    {},
                    (0, l.Z)({}, Ae, Fe.current)
                  )
                : xe.current;
            },
            [Ae]
          ),
          $e = ie.useCallback(function () {
            return Ke.current;
          }, []),
          et = ie.useCallback(
            function (e) {
              ye(e);
            },
            [ye, d]
          );
        (0, re.w)({
          selfLinkMicId: Ae,
          setLayout: et,
          setSeats: B,
          layout: E,
          getUsers: Je,
          getPositions: $e,
          getSeats: We,
          enable: !0,
          roomIdStr: we.roomId,
        });
        var tt = ie.useCallback(
            function (e) {
              var t,
                n,
                r = void 0 === e ? d : e,
                o = g()(J.Fk);
              return (
                r === oe.yP.VIDEO_DYNAMIC && (o = {}),
                A()((t = L()(De.current))).call(t, function (e) {
                  "number" == typeof e.user_position &&
                    (o[e.user_position] = { idx: e.user_position, user: e });
                }),
                A()((n = k()(Ke.current))).call(n, function (e) {
                  Ke.current[e] && (o[e].info = (0, c.Z)({}, Ke.current[e]));
                }),
                1 === k()(o).length &&
                  r === oe.yP.VIDEO_DYNAMIC &&
                  (o[1] = { idx: 1 }),
                o
              );
            },
            [d]
          ),
          nt = ie.useCallback(
            function (e, t, n) {
              var r = void 0 === t ? d : t,
                o = function (e, t) {
                  var n,
                    o = {};
                  (A()(e).call(e, function (e) {
                    var n, a, i, l;
                    if (
                      e &&
                      "number" == typeof e.user_position &&
                      ("number" != typeof e.is_background &&
                        (e.is_background = Number(e.is_background)),
                      null !== (n = e.content) &&
                        void 0 !== n &&
                        null !== (a = n.linkmic_audience_content) &&
                        void 0 !== a &&
                        a.rank_contributor_ids)
                    ) {
                      var c,
                        s,
                        u =
                          null === (c = e.content) ||
                          void 0 === c ||
                          null === (s = c.linkmic_audience_content) ||
                          void 0 === s
                            ? void 0
                            : s.rank_contributor_ids;
                      u[0];
                      u &&
                        (e.content.linkmic_audience_content.rank_contributor_ids =
                          u);
                    }
                    e &&
                      e.linkmic_id_str &&
                      (null != Pe &&
                        Pe.id_str &&
                        (null === (i = e.user) || void 0 === i
                          ? void 0
                          : i.id_str) === (null == Pe ? void 0 : Pe.id_str) &&
                        (Fe.current = e),
                      (e.user_position = Number(
                        null !== (l = null == e ? void 0 : e.user_position) &&
                          void 0 !== l
                          ? l
                          : 0
                      )),
                      r !== oe.yP.VIDEO_6V6 ||
                        t ||
                        (e.user_position = e.user_position + oe.Lf[r]),
                      (o[e.linkmic_id_str] = e));
                  }),
                  r === oe.yP.VIDEO_6V6 && 0 === k()(o).length) &&
                    A()((n = k()(De.current))).call(n, function (e) {
                      var n,
                        a,
                        i = null == De ? void 0 : De.current[e];
                      ((t &&
                        (null !== (n = null == i ? void 0 : i.user_position) &&
                        void 0 !== n
                          ? n
                          : 0) < oe.Lf[r]) ||
                        (!t &&
                          (null !==
                            (a = null == i ? void 0 : i.user_position) &&
                          void 0 !== a
                            ? a
                            : 0) >= oe.Lf[r])) &&
                        (o[e] = i);
                    });
                  return o;
                },
                a = o(null != e ? e : [], !0),
                i = r === oe.yP.VIDEO_6V6 ? o(null != n ? n : [], !1) : [],
                l = (0, c.Z)((0, c.Z)({}, a), i);
              (xe.current = P()({}, xe.current, De.current, l)),
                (De.current = l);
              var s = tt(r);
              return V(s), s;
            },
            [Ce, V, tt, Pe, d]
          ),
          rt = ie.useCallback(function (e) {
            var t = {};
            return (
              null == e ||
                A()(e).call(e, function (e) {
                  void 0 !== e.key &&
                    void 0 !== e.value &&
                    (t[e.key] = e.value);
                }),
              t
            );
          }, []);
        ie.useEffect(
          function () {
            Ye.current
              ? void 0 !== d && (0, W.h7)()
              : Z()(function () {
                  (0, W.h7)();
                }, 3e3),
              (Ye.current = !0),
              (Ge.current = d);
          },
          [d]
        ),
          ie.useEffect(
            function () {
              Ye.current &&
                void 0 !== d &&
                (S.length !== Ve.current.length
                  ? S.length < Ve.current.length &&
                    (0, J.SH)(Ge.current, Ve.current) &&
                    (0, W.BH)(void 0, void 0, Ve.current, He.current)
                  : Ge.current === oe.yP.VIDEO_6V6 &&
                    (0, J.SH)(Ge.current, Ve.current) &&
                    (0, W.BH)(void 0, void 0, Ve.current, He.current)),
                (Ve.current = S);
            },
            [S]
          ),
          ie.useEffect(
            function () {
              f === oe.yP.AUDIO_1V8 ||
              f === oe.yP.AUDIO_GRID ||
              f === oe.yP.VIDEO_GRID ||
              f === oe.yP.VIDEO_DYNAMIC
                ? Me.position({ y: 0.203, h: 0.5 })
                : f === oe.yP.VIDEO_6V6
                ? Me.position({ y: 0.183, h: 0.52 })
                : f === oe.yP.VIDEO_1V6 &&
                  Me.position({ y: 1 - 0.7375, h: 0.7375 });
            },
            [f]
          );
        var ot = ie.useState(!1),
          at = (0, s.Z)(ot, 2),
          it = at[0],
          lt = at[1];
        ie.useEffect(
          function () {
            void 0 !== f && Ce === J.cK.LINKED
              ? (null == Me || Me.pause(), lt(!0))
              : Ce !== J.cK.LINKED && it && (null == Me || Me.play(), lt(!1));
          },
          [Ce, f]
        );
        var ct = _e();
        ie.useEffect(
          function () {
            null != we &&
              we.roomId &&
              (0, j.QH)({ room_id: null == we ? void 0 : we.roomId }).then(
                function (e) {}
              );
          },
          [null == we ? void 0 : we.roomId]
        ),
          ie.useEffect(
            function () {
              if (
                null != ct &&
                ct.data &&
                0 === (null == ct ? void 0 : ct.status_code)
              ) {
                var e = null == ct ? void 0 : ct.data,
                  t = e.teamfight_info,
                  n = e.guest_battle_info;
                t && O(t),
                  n && w(n),
                  d === oe.yP.VIDEO_6V6 && (0, W.S9)(Ge.current);
              }
            },
            [ct]
          ),
          ie.useEffect(
            function () {
              var e,
                t =
                  null !== (e = null == R ? void 0 : R.dress_id) && void 0 !== e
                    ? e
                    : "";
              t !== (null == Re ? void 0 : Re.dress_id) &&
                "" !== t &&
                (0, j.VT)({ dress_id: t }).then(function (e) {
                  var t;
                  if (
                    null != e &&
                    null !== (t = e.data) &&
                    void 0 !== t &&
                    t.data
                  ) {
                    var n,
                      r,
                      o,
                      a =
                        null !==
                          (n =
                            null == e ||
                            null === (r = e.data) ||
                            void 0 === r ||
                            null === (o = r.data) ||
                            void 0 === o
                              ? void 0
                              : o.dress_list) && void 0 !== n
                          ? n
                          : [];
                    a.length && ke(a[0]);
                  }
                });
            },
            [null == R ? void 0 : R.battle_id_str]
          );
        var st = ie.useCallback(
          (0, i.Z)(
            T().mark(function e() {
              var t,
                n,
                r,
                o,
                i,
                l,
                u,
                m,
                v,
                f,
                _,
                E,
                h,
                g,
                N,
                S,
                C,
                b,
                O,
                L,
                R,
                w,
                P,
                M,
                Z;
              return T().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (t = p()(we, "roomId", "")),
                        (n = p()(we, "anchor.sec_uid", "")),
                        (r = p()(we, "anchor.id_str", "")),
                        (e.next = 5),
                        D().all([
                          (0, j.lx)({ room_id: t, anchor_id: r }),
                          (0, j.$s)(t, n),
                        ])
                      );
                    case 5:
                      if (
                        ((o = e.sent),
                        (i = (0, s.Z)(o, 2)),
                        (l = i[0]),
                        (u = i[1]).data &&
                          0 === u.status_code &&
                          ((v = rt(
                            null === (m = u.data) || void 0 === m
                              ? void 0
                              : m.settings
                          )),
                          be(
                            (0, c.Z)((0, c.Z)({}, u.data), {}, { config: v })
                          )),
                        l.data.data &&
                          0 === l.data.status_code &&
                          ((E = l.data.data),
                          (h = E.user),
                          (g = E.locked_positions),
                          (N = E.linker_content_map),
                          null == g ||
                            A()(g).call(g, function (e) {
                              void 0 !== e.position &&
                                (Ke.current[e.position] = e);
                            }),
                          d === oe.yP.VIDEO_6V6 &&
                            void 0 !==
                              (C =
                                null == N
                                  ? void 0
                                  : N[
                                      null === (S = k()(N)) || void 0 === S
                                        ? void 0
                                        : S[0]
                                    ].room_link_silence_status) &&
                            Se(C),
                          (b = nt(
                            h,
                            d,
                            null == N ||
                              null ===
                                (f =
                                  N[
                                    null === (_ = k()(N)) || void 0 === _
                                      ? void 0
                                      : _[0]
                                  ]) ||
                              void 0 === f
                              ? void 0
                              : f.linked_users
                          )),
                          V(b)),
                        !F()(I).call(I, me.V0.LinkmicPlayMode_OrderSing))
                      ) {
                        e.next = 19;
                        break;
                      }
                      return (
                        (e.next = 14),
                        D().all([
                          (0, j.RO)({ room_id: t }),
                          (0, fe.Z)({
                            service_name: "webcast.douyin.live_pc",
                            key: "order_sing_info",
                          }),
                        ])
                      );
                    case 14:
                      (O = e.sent),
                        (L = (0, s.Z)(O, 2)),
                        (R = L[0]),
                        (w = L[1]),
                        R.data.data &&
                          0 === R.data.status_code &&
                          (((Z = R.data.data).golden_microphone_icon =
                            null == w ? void 0 : w.golden_microphone_icon),
                          (Z.silver_microphone_icon =
                            null == w ? void 0 : w.silver_microphone_icon),
                          (Z.user_microphone_list =
                            null !==
                              (P =
                                null ===
                                  (M = R.data.data.user_microphone_list) ||
                                void 0 === M
                                  ? void 0
                                  : y()(M).call(M, function (e) {
                                      var t, n, r, o;
                                      (null ===
                                        (t =
                                          null == e ||
                                          null === (n = e.microphone_list) ||
                                          void 0 === n
                                            ? void 0
                                            : n.length) ||
                                        void 0 === t ||
                                        t) &&
                                        (e.microphone_list = G()((r = [])).call(
                                          r,
                                          (0, a.Z)(
                                            null !== (o = e.microphone_list) &&
                                              void 0 !== o
                                              ? o
                                              : []
                                          ),
                                          [
                                            {
                                              microphone_type:
                                                ve.W5.GOLDEN_MICROPHONE,
                                              micro_phone_num: 0,
                                            },
                                          ]
                                        ));
                                      return e;
                                    })) && void 0 !== P
                              ? P
                              : []),
                          U(Z),
                          (0, W.S9)(Ge.current));
                    case 19:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          ),
          [nt, we, V, be, d, rt, O, Se, I, S, U]
        );
        ie.useEffect(
          function () {
            Ue.current || (st(), (Ue.current = !0));
          },
          [st]
        );
        var ut = (0, he.F)(),
          dt = ie.useCallback(
            function (e) {
              A()(e).call(e, function (e) {
                var t = e.method,
                  n = e.payload;
                if (t && n) {
                  var r = Number(n.action);
                  switch (t) {
                    case q.lm.WEBCAST_CONTROL_MESSAGE:
                      switch (r) {
                        case q.Rz.FINISH:
                        case q.Rz.FINISH_BY_ADMIN:
                        case q.Rz.ROOM_FINISH_BY_SWITCH:
                          z.k.info(
                            "\u76f4\u64ad\u95f4\u65ad\u64ad\u6d88\u606f\u4e0b\u53d1, \u79bb\u5f00\u804a\u5929\u5ba4"
                          ),
                            (ge = !0),
                            Ze(Q.JW.NONE, Q._o.ANCHOR).finally(function () {
                              (0, W.m8)(Ge.current),
                                (0, J.SH)(d, S) &&
                                  ((0, W.BH)(Ge.current, Be.current),
                                  Ce === J.cK.LINKED &&
                                    (0, W.Ai)(void 0, Be.current),
                                  Ce === J.cK.LINKED &&
                                    (0, W.SR)(
                                      Q.JW.NONE,
                                      Q._o.ANCHOR,
                                      Be.current
                                    )),
                                (0, W.TD)() &&
                                  ((0, W.SR)(Q.JW.NONE, Q._o.ANCHOR),
                                  (0, W.BH)()),
                                Oe();
                            });
                      }
                      break;
                    case q.lm.WEBCAST_MEMBER_MESSAGE:
                      switch (r) {
                        case q.WU.KICK_OUT:
                        case q.WU.BLOCK:
                        case q.WU.LEAVE:
                          z.k.info(
                            "\u76f4\u64ad\u95f4\u7528\u6237\u88ab\u8e22\u51fa, \u79bb\u5f00\u804a\u5929\u5ba4"
                          ),
                            Ze(Q.JW.NONE, Q._o.ANCHOR).finally(function () {
                              (0, W.m8)(Ge.current),
                                (0, J.SH)(d, S) &&
                                  (0, W.BH)(Ge.current, Be.current),
                                Oe();
                            });
                      }
                      break;
                    case q.lm.WEBCAST_NOTICE_MESSAGE:
                      if ((r = Number(n.noticeType)) === q.F3.PAUSE)
                        z.k.info(
                          "\u76f4\u64ad\u95f4\u88ab\u5c01\u7981, \u79bb\u5f00\u804a\u5929\u5ba4"
                        ),
                          Ze(Q.JW.NONE, Q._o.ANCHOR).finally(function () {
                            (0, W.m8)(Ge.current),
                              (0, J.SH)(d, S) &&
                                (0, W.BH)(Ge.current, Be.current),
                              Oe();
                          });
                  }
                }
              });
            },
            [Ze, Oe, f, S]
          ),
          mt = ie.useRef(Ce);
        ie.useEffect(
          function () {
            mt.current = Ce;
          },
          [Ce]
        ),
          ie.useEffect(
            function () {
              return (
                ae.yw.subscribe(q.dQ.ROOM_BUSINESS, dt, ae.C7.SYNC),
                function () {
                  ae.yw.unsubscribe(q.dQ.ROOM_BUSINESS, dt, ae.C7.SYNC);
                }
              );
            },
            [dt, t]
          );
        var vt = ie.useCallback(
          function (e) {
            A()(e).call(e, function (e) {
              var t,
                n,
                o,
                i,
                l,
                c,
                s,
                m,
                f,
                E,
                T = e.method,
                S = e.payload;
              if (T && S) {
                var R = Number(S.messageType);
                if (
                  (z.k.info("uselinkmic", T, R, S),
                  "WebcastLinkSettingNotifyMessage" === T)
                ) {
                  var P = S.settingsList;
                  null != P &&
                  Y()(P).call(P, function (e) {
                    return 24 === e.value;
                  })
                    ? Ie(oe.yP.AUDIO_1V8)
                    : null != P &&
                      Y()(P).call(P, function (e) {
                        return 26 === e.value;
                      }) &&
                      Ie(oe.yP.AUDIO_GRID);
                  var D = rt(P);
                  x(D);
                } else if ("WebcastLinkMicMethod" === T)
                  switch (R) {
                    case ee.iM.TYPE_SWITCH_SCENE:
                      var B,
                        j = S.scene,
                        ne = S.playModesList,
                        re = void 0 === ne ? [] : ne,
                        ae = S.linkedListUsersList,
                        ie = void 0 === ae ? [] : ae,
                        le = S.linkerContentMapMap,
                        ce = void 0 === le ? [] : le,
                        _e = S.uiLayout;
                      if ("string" == typeof j) {
                        var he = Number(j);
                        he === q.vX.VIDEO_1V6
                          ? (B = oe.yP.VIDEO_1V6)
                          : he === q.vX.VIDEO_GRID &&
                            null != re &&
                            F()(re).call(re, 4)
                          ? (B = oe.yP.VIDEO_DYNAMIC)
                          : he === q.vX.VIDEO_GRID
                          ? (B = oe.yP.VIDEO_GRID)
                          : he === q.vX.AUDIO &&
                            (_e ===
                            de.LinkmicUILayout.LINKMICUILAYOUT_AUDIOCHAT_1V8
                              ? (B = oe.yP.AUDIO_1V8)
                              : _e ===
                                  de.LinkmicUILayout
                                    .LINKMICUILAYOUT_AUDIOCHAT_3X3 &&
                                (B = oe.yP.AUDIO_GRID)),
                          void 0 !== B && Ie(B);
                      }
                      if (
                        (Number(j) === q.vX.VIDEO_6V6 &&
                          ((B = oe.yP.VIDEO_6V6), Ie(B)),
                        Qe(B),
                        (B = void 0 === B ? d : B) === oe.yP.VIDEO_6V6)
                      ) {
                        var ye,
                          be,
                          Ae =
                            null == ce ||
                            null === (ye = ce[0]) ||
                            void 0 === ye ||
                            null === (be = ye[1]) ||
                            void 0 === be
                              ? void 0
                              : be.linkedUsersList,
                          Re = Xe(ie, Ae);
                        nt(
                          null == Re ? void 0 : y()(Re).call(Re, X._0),
                          B,
                          null == Ae ? void 0 : y()(Ae).call(Ae, X._0)
                        );
                      } else
                        nt(null == ie ? void 0 : y()(ie).call(ie, X._0), B);
                      break;
                    case ee.iM.TYPE_FINISH:
                      p()(we, "room.live_room_mode") === q.ke.AUDIO &&
                        Z()(function () {
                          var e, t, n, r, o, a, i, l;
                          (0, J.SH)(
                            null === (e = window.__STORE__) ||
                              void 0 === e ||
                              null === (t = e.linkmicStore) ||
                              void 0 === t
                              ? void 0
                              : t.imLinkMicLayout,
                            null === (n = window.__STORE__) ||
                              void 0 === n ||
                              null === (r = n.linkmicStore) ||
                              void 0 === r
                              ? void 0
                              : r.playModesPC
                          ) ||
                            (null === (o = window.__STORE__) ||
                            void 0 === o ||
                            null === (a = o.linkmicStore) ||
                            void 0 === a
                              ? void 0
                              : a.imLinkMicLayout) === oe.yP.AUDIO_1V8 ||
                            void 0 ===
                              (null === (i = window.__STORE__) ||
                              void 0 === i ||
                              null === (l = i.linkmicStore) ||
                              void 0 === l
                                ? void 0
                                : l.imLinkMicLayout) ||
                            (N(!0),
                            se.F.info(
                              Ce === J.cK.LINKED
                                ? "\u4e3b\u64ad\u5173\u95ed\u4e86\u804a\u5929\u5ba4\uff0c\u81ea\u52a8\u65ad\u5f00\u8fde\u7ebf"
                                : "\u4e3b\u64ad\u5173\u95ed\u4e86\u804a\u5929\u5ba4",
                              (null == ut ? void 0 : ut.current) ||
                                (null == Me ? void 0 : Me.root)
                            ));
                        }, 3e3);
                  }
                else if ("WebcastLinkMessage" === T)
                  switch (R) {
                    case $.W6.TYPE_LINKER_CLOSE:
                      ge ||
                        Ze(Q.JW.NONE, Q._o.ANCHOR).finally(function () {
                          (0, W.BH)(void 0, Be.current),
                            (0, W.m8)(Ge.current, Be.current),
                            Ce === J.cK.LINKED && (0, W.Ai)(void 0, Be.current),
                            Ce === J.cK.LINKED &&
                              (0, W.SR)(Q.JW.NONE, Q._o.ANCHOR, Be.current),
                            Oe();
                        });
                      break;
                    case $.W6.TPYE_LINKER_LEAVE:
                      nt(
                        null === (t = S.leaveContent) ||
                          void 0 === t ||
                          null === (n = t.linkedUsersList) ||
                          void 0 === n
                          ? void 0
                          : y()(n).call(n, X._0)
                      );
                      break;
                    case $.W6.TPYE_LINKER_ENTER:
                      if (
                        (nt(
                          null === (o = S.enterContent) ||
                            void 0 === o ||
                            null === (i = o.linkedUsers) ||
                            void 0 === i
                            ? void 0
                            : y()(i).call(i, X._0)
                        ),
                        null != Pe &&
                          Pe.id_str &&
                          (null === (l = S.enterContent) || void 0 === l
                            ? void 0
                            : l.userId) === (null == Pe ? void 0 : Pe.id_str))
                      ) {
                        var ke = tt();
                        V(ke);
                      }
                      break;
                    case $.W6.TYPE_LINKER_UPDATE_USER:
                      nt(
                        null === (c = S.updateUserContent) ||
                          void 0 === c ||
                          null === (s = c.linkedUsers) ||
                          void 0 === s
                          ? void 0
                          : y()(s).call(s, X._0)
                      );
                      break;
                    case $.W6.TPYE_LINKER_SYS_KICK_OUT:
                    case $.W6.TPYE_LINKER_KICK_OUT:
                      z.k.info(
                        "\u63a5\u6536\u88ab\u8e22\u51fa\u623f\u95f4\uff0c\u66f4\u65b0\u4e0a\u9ea6\u72b6\u6001"
                      ),
                        Ze(Q.JW.NONE, Q._o.ANCHOR).finally(function () {
                          Te(J.cK.NOT_LINK);
                        });
                      break;
                    case $.W6.TYPE_LINKER_CHANGE_PLAY_MODE:
                      var Ue,
                        xe = S.changePlayModeContent.changePlayModeData;
                      if (
                        "string" == typeof (null == S ? void 0 : S.scene) &&
                        Ce === J.cK.LINKED
                      ) {
                        var Fe,
                          Ve = Number(null == S ? void 0 : S.scene);
                        (Ue =
                          Ve === q.vX.VIDEO_GRID &&
                          null != xe &&
                          null !== (Fe = xe.playModesList) &&
                          void 0 !== Fe &&
                          F()(Fe).call(Fe, 4)
                            ? oe.yP.VIDEO_DYNAMIC
                            : Ve === q.vX.VIDEO_6V6
                            ? oe.yP.VIDEO_6V6
                            : oe.yP.VIDEO_GRID) && Ie(Ue);
                      }
                      nt(
                        null == xe ||
                          null === (m = xe.linkedUsersList) ||
                          void 0 === m
                          ? void 0
                          : y()(m).call(m, X._0),
                        Ue
                      );
                      break;
                    case $.W6.TYPE_LINKER_LOCK_POSITION:
                      var Ye = S.lockPositionContent.lockedPositionsList;
                      (Ke.current = {}),
                        null == Ye ||
                          A()(Ye).call(Ye, function (e) {
                            if ("string" == typeof e.position) {
                              var t = Number(e.position);
                              (e.position = t), (Ke.current[t] = e);
                            } else "number" == typeof e.position && (Ke.current[e.position] = e);
                          });
                      var We = tt();
                      V(We);
                      break;
                    case $.W6.TYPE_LINKER_LINKED_LIST_CHANGE:
                      var je, qe, Je, $e, et, ot, at;
                      if (d === oe.yP.VIDEO_6V6)
                        nt(
                          void 0,
                          d,
                          null === (je = S.linkedListChangeContent) ||
                            void 0 === je ||
                            null === (qe = je.linkerContentMapMap) ||
                            void 0 === qe ||
                            null === (Je = qe[0]) ||
                            void 0 === Je ||
                            null === ($e = Je[1]) ||
                            void 0 === $e ||
                            null === (et = $e.linkedUsers) ||
                            void 0 === et
                            ? void 0
                            : y()(et).call(et, X._0)
                        );
                      else
                        nt(
                          null === (ot = S.linkedListChangeContent) ||
                            void 0 === ot ||
                            null === (at = ot.linkedUsers) ||
                            void 0 === at
                            ? void 0
                            : y()(at).call(at, X._0)
                        );
                      break;
                    case $.W6.TYPE_LINKER_CROSS_ROOM_UPDATE:
                      var it = S.crossRoomUpdateContent.linkerContentMapMap;
                      Se(
                        null == it ||
                          null === (f = it[0]) ||
                          void 0 === f ||
                          null === (E = f[1]) ||
                          void 0 === E
                          ? void 0
                          : E.roomLinkSilenceStatus
                      );
                  }
                else if ("WebcastLinkerContributeMessage" === T) {
                  var lt,
                    ct = S.totalScoreStr,
                    st = S.totalScoreRealStr,
                    dt = S.userContributeListList,
                    vt = S.userId,
                    ft =
                      (null == dt
                        ? void 0
                        : y()(dt).call(dt, function (e) {
                            return String(null == e ? void 0 : e.userId);
                          })) || [],
                    _t = String(vt),
                    Et = Y()((lt = k()(De.current))).call(lt, function (e) {
                      var t;
                      return (
                        (null === (t = De.current[e].user) || void 0 === t
                          ? void 0
                          : t.id_str) === _t
                      );
                    });
                  if (Et && De.current[Et]) {
                    var pt,
                      ht =
                        null === (pt = De.current[Et].content) || void 0 === pt
                          ? void 0
                          : pt.linkmic_audience_content;
                    ht &&
                      ((ht.rank_contributor_ids = ft),
                      (ht.fan_ticket_real_str = st),
                      (ht.fan_ticket_fuzzy_str = ct));
                  }
                  var gt = tt();
                  V(gt);
                } else if ("WebcastLinkmicTeamfightScoreMessage" === T) {
                  var Nt = S.teamfightInfo;
                  (Be.current = h), O((0, X._0)(Nt));
                } else if ("WebcastLinkmicTeamfightMessage" === T) {
                  var Tt,
                    It,
                    yt,
                    St,
                    Ct = S.teamfightInfo,
                    bt = S.finishContent,
                    At = S.settleContent,
                    Ot = (0, X._0)(Ct),
                    Lt = null == Pe ? void 0 : Pe.id_str,
                    Rt = _()(
                      null == Ct ||
                        null === (Tt = Ct.teamInfosList) ||
                        void 0 === Tt
                        ? void 0
                        : y()(Tt).call(Tt, function (e) {
                            var t;
                            return null == e ||
                              null === (t = e.playersList) ||
                              void 0 === t
                              ? void 0
                              : y()(t).call(t, function (e) {
                                  return String(null == e ? void 0 : e.userId);
                                });
                          })
                    ),
                    kt = null == Rt ? void 0 : F()(Rt).call(Rt, Lt);
                  if (
                    S.msgType ===
                    ue.LinkmicTeamfightMessageType
                      .LINKMICTEAMFIGHTMESSAGETYPE_CREATE
                  )
                    (null == S ||
                    null === (It = S.teamfightInfo) ||
                    void 0 === It
                      ? void 0
                      : It.type) === te.yw.LinkmicTeamfightType_TWO_TEAM &&
                      (Qe(d), Ie(oe.yP.AUDIO_1V8), kt && (0, W.tk)(Ct));
                  if (
                    S.msgType ===
                    ue.LinkmicTeamfightMessageType
                      .LINKMICTEAMFIGHTMESSAGETYPE_START
                  )
                    (null == S ||
                    null === (yt = S.teamfightInfo) ||
                    void 0 === yt
                      ? void 0
                      : yt.type) === te.yw.LinkmicTeamfightType_TWO_TEAM &&
                      kt &&
                      se.F.info(
                        "\u5982\u4e0d\u613f\u53c2\u4e0e\u4f5c\u6218\u53ef\u9000\u51fa\u8fde\u7ebf",
                        Me.root
                      );
                  if (
                    S.msgType ===
                    ue.LinkmicTeamfightMessageType
                      .LINKMICTEAMFIGHTMESSAGETYPE_FINISH
                  )
                    if (
                      (null == S ||
                      null === (St = S.teamfightInfo) ||
                      void 0 === St
                        ? void 0
                        : St.type) === te.yw.LinkmicTeamfightType_TWO_TEAM
                    ) {
                      var wt = p()(
                        we,
                        "room.linker_detail.linker_play_modes",
                        []
                      );
                      void 0 !== ze
                        ? Ie(ze)
                        : F()(wt).call(wt, 24)
                        ? Ie(oe.yP.AUDIO_1V8)
                        : F()(wt).call(wt, 26) && Ie(oe.yP.AUDIO_GRID),
                        Qe(void 0);
                    }
                  var Pt,
                    Mt = Number(S.msgType);
                  if (
                    Mt ===
                      ue.LinkmicTeamfightMessageType
                        .LINKMICTEAMFIGHTMESSAGETYPE_START &&
                    d === oe.yP.VIDEO_6V6 &&
                    (null == Ot ? void 0 : Ot.status) ===
                      te.Hj.LinkmicTeamfightStatus_PLAYING
                  )
                    (null === (Pt = L()(K)) || void 0 === Pt
                      ? void 0
                      : C()(Pt).call(Pt, function (e) {
                          var t;
                          return (
                            (null == e ? void 0 : e.user) &&
                            (null == e ? void 0 : e.idx) < oe.Lf[d] &&
                            (null === (t = e.user.user) || void 0 === t
                              ? void 0
                              : t.id_str) === Pe.id_str
                          );
                        })) &&
                      (se.F.info(
                        "\u8de8\u623f\u5bf9\u6218\u5df2\u5f00\u542f \u5982\u4e0d\u613f\u53c2\u4e0e\u5bf9\u6218\u53ef\u9000\u51fa\u8fde\u7ebf"
                      ),
                      (0, W.tk)());
                  Mt ===
                    ue.LinkmicTeamfightMessageType
                      .LINKMICTEAMFIGHTMESSAGETYPE_FINISH &&
                    (Se(void 0),
                    Z()(function () {
                      var e,
                        t,
                        n,
                        r = mt.current === J.cK.LINKED;
                      if (
                        r &&
                        "" !==
                          (null !==
                            (e = null == bt ? void 0 : bt.guestFinishToast) &&
                          void 0 !== e
                            ? e
                            : "")
                      )
                        Ne(
                          null !==
                            (n = null == bt ? void 0 : bt.guestFinishToast) &&
                            void 0 !== n
                            ? n
                            : "",
                          Me.root
                        );
                      else if (
                        !r &&
                        "" !==
                          (null !==
                            (t = null == bt ? void 0 : bt.finishToast) &&
                          void 0 !== t
                            ? t
                            : "")
                      ) {
                        var o;
                        Ne(
                          null !== (o = null == bt ? void 0 : bt.finishToast) &&
                            void 0 !== o
                            ? o
                            : "",
                          Me.root
                        );
                      }
                    }, 1e3)),
                    Mt ===
                      ue.LinkmicTeamfightMessageType
                        .LINKMICTEAMFIGHTMESSAGETYPE_PUNISH &&
                      "" !== (null == At ? void 0 : At.disableShowToast) &&
                      void 0 !== (null == At ? void 0 : At.disableShowToast) &&
                      se.F.info(null == At ? void 0 : At.disableShowToast),
                    (Be.current = h),
                    O(Ot);
                } else if ("WebcastLinkmicOrderSingMessage" === T)
                  switch (R) {
                    case r.TYPE_MESSAGE_CREATE:
                      var Zt = S.orderSingCreateContent;
                      (0, fe.Z)({
                        service_name: "webcast.douyin.live_pc",
                        key: "order_sing_info",
                      }).then(function (e) {
                        var t,
                          n,
                          r = {};
                        (r.golden_microphone_icon =
                          null == e ? void 0 : e.golden_microphone_icon),
                          (r.silver_microphone_icon =
                            null == e ? void 0 : e.silver_microphone_icon),
                          (r.gift_id = Number(null == Zt ? void 0 : Zt.giftId));
                        var o = y()((t = k()(K))).call(t, function (e) {
                          var t, n;
                          return {
                            microphone_list: [
                              {
                                microphone_type: ve.W5.GOLDEN_MICROPHONE,
                                micro_phone_num: 0,
                              },
                              {
                                microphone_type: ve.W5.SILVER_MICROPHONE,
                                micro_phone_num: 0,
                              },
                            ],
                            order_user: {
                              id:
                                null === (t = K[e].user) ||
                                void 0 === t ||
                                null === (n = t.user) ||
                                void 0 === n
                                  ? void 0
                                  : n.id_str,
                            },
                          };
                        });
                        (r.user_microphone_list = o),
                          (He.current = M),
                          U(r),
                          b(
                            G()((n = [])).call(n, (0, a.Z)(I), [
                              me.V0.LinkmicPlayMode_OrderSing,
                            ])
                          ),
                          (0, W.S9)(Ge.current);
                      }),
                        (null == Zt ? void 0 : Zt.openOrderSingToast) &&
                          se.F.info(Zt.openOrderSingToast);
                      break;
                    case r.TYPE_MESSAGE_FINISH:
                      var Ut = S.orderSingFinishContent;
                      (null == Ut ? void 0 : Ut.closeOrderSingToast) &&
                        se.F.info(null == Ut ? void 0 : Ut.closeOrderSingToast),
                        (He.current = M),
                        U(void 0),
                        u(J.uH.NONE),
                        F()(I).call(I, me.V0.LinkmicPlayMode_OrderSing) &&
                          b(
                            H()(I).call(I, function (e) {
                              return e !== me.V0.LinkmicPlayMode_OrderSing;
                            })
                          );
                      break;
                    case r.TYPE_MESSAGE_SING_ACTION_TOAST:
                      var Dt = S.orderSingActionToastContent;
                      null != Dt && Dt.startSingToast
                        ? se.F.info(Dt.startSingToast)
                        : null != Dt && Dt.oderSingToast
                        ? se.F.info(Dt.oderSingToast)
                        : null != Dt &&
                          Dt.finishSingToast &&
                          se.F.info(Dt.finishSingToast);
                  }
                else if ("WebcastLinkmicOrderSingScoreMessage" === T) {
                  var xt,
                    Ft,
                    Kt,
                    Gt = S.orderSingScoreContent,
                    Vt = (null != Gt ? Gt : {}).userScore,
                    Yt = g()(M),
                    Bt = [
                      {
                        microphone_type: ve.W5.GOLDEN_MICROPHONE,
                        micro_phone_num:
                          null !==
                            (xt =
                              null == Vt ? void 0 : Vt.goldenMicrophoneNum) &&
                          void 0 !== xt
                            ? xt
                            : 0,
                      },
                      {
                        microphone_type: ve.W5.SILVER_MICROPHONE,
                        micro_phone_num:
                          null !==
                            (Ft =
                              null == Vt ? void 0 : Vt.silverMicrophoneNum) &&
                          void 0 !== Ft
                            ? Ft
                            : 0,
                      },
                    ],
                    Ht = !1;
                  if (
                    (null == Yt ||
                      null === (Kt = Yt.user_microphone_list) ||
                      void 0 === Kt ||
                      y()(Kt).call(Kt, function (e) {
                        var t;
                        String(
                          null === (t = e.order_user) || void 0 === t
                            ? void 0
                            : t.id
                        ) === (null == Vt ? void 0 : Vt.userId) &&
                          ((Ht = !0), (e.microphone_list = Bt));
                      }),
                    !Ht)
                  ) {
                    var Wt =
                      null != Yt && Yt.user_microphone_list
                        ? (0, a.Z)(
                            null == Yt ? void 0 : Yt.user_microphone_list
                          )
                        : [];
                    Wt.push({
                      order_user: { id: null == Vt ? void 0 : Vt.userId },
                      microphone_list: Bt,
                    }),
                      (Yt.user_microphone_list = Wt);
                  }
                  (He.current = M), Yt && U(Yt), Vt && Le((0, X._0)(Vt));
                } else if ("WebcastGuestBattleMessage" === T) {
                  var jt,
                    qt,
                    zt = S.battleInfo,
                    Qt = S.finishContent,
                    Xt = S.finishToast,
                    Jt =
                      null === (jt = v()(K)) ||
                      void 0 === jt ||
                      null ===
                        (qt = y()(jt).call(jt, function (e) {
                          var t, n;
                          return null == e ||
                            null === (t = e.user) ||
                            void 0 === t ||
                            null === (n = t.user) ||
                            void 0 === n
                            ? void 0
                            : n.id_str;
                        })) ||
                      void 0 === qt
                        ? void 0
                        : H()(qt).call(qt, function (e) {
                            var t;
                            return !F()((t = [void 0, ""])).call(t, e);
                          }),
                    $t = null == Pe ? void 0 : Pe.id_str,
                    en = null == Jt ? void 0 : F()(Jt).call(Jt, $t),
                    tn = Number(S.msgType);
                  w((0, X._0)(zt)),
                    tn === Ee.GuestBattleMessageType.GUESTBATTLE_CREATE &&
                      (localStorage.removeItem("guest_battle_animation"),
                      (0, W.pj)(),
                      en &&
                        Z()(function () {
                          se.F.info(
                            "\u5982\u4e0d\u613f\u53c2\u4e0e\u4f5c\u6218\u53ef\u9000\u51fa\u8fde\u7ebf",
                            Me.root
                          );
                        }, 1750)),
                    tn === Ee.GuestBattleMessageType.GUESTBATTLE_FINISH
                      ? (Se(void 0),
                        "" !== Xt
                          ? (se.F.info(Xt, Me.root),
                            localStorage.removeItem("guest_battle_animation"),
                            (0, W.BH)())
                          : (null == Qt ? void 0 : Qt.reason) ===
                              pe.GO.FinishGuestBattleReason_SCENE_CHANGE &&
                            (se.F.info(
                              "\u672c\u8f6e\u4f5c\u6218\u7ed3\u675f\uff0c\u6062\u590d\u539f\u59cb\u8fde\u7ebf\u8bb0\u503c\u5c55\u793a",
                              Me.root
                            ),
                            localStorage.removeItem("guest_battle_animation")))
                      : tn === Ee.GuestBattleMessageType.GUESTBATTLE_PAUSE
                      ? se.F.info(
                          "\u5927\u4f5c\u6218\u8ba1\u65f6\u5df2\u6682\u505c",
                          Me.root
                        )
                      : tn === Ee.GuestBattleMessageType.GUESTBATTLE_RESUME &&
                        se.F.info(
                          "\u5927\u4f5c\u6218\u8ba1\u65f6\u7ee7\u7eed",
                          Me.root
                        );
                } else if ("WebcastGuestBattleScoreMessage" === T) {
                  var nn = S.battleInfo;
                  w((0, X._0)(nn));
                }
              }
            });
          },
          [
            d,
            nt,
            Te,
            x,
            rt,
            Ze,
            Oe,
            tt,
            K,
            V,
            Ce,
            Pe,
            O,
            R,
            w,
            Ie,
            Xe,
            Se,
            h,
            I,
            S,
            b,
            M,
            U,
            Le,
            Pe,
            m,
            d,
            mt,
            ze,
          ]
        );
        ie.useEffect(
          function () {
            return (
              null === ae.yw ||
                void 0 === ae.yw ||
                ae.yw.subscribe(q.dQ.LINK, vt, ae.C7.SYNC),
              function () {
                null === ae.yw ||
                  void 0 === ae.yw ||
                  ae.yw.unsubscribe(q.dQ.LINK, vt, ae.C7.SYNC);
              }
            );
          },
          [vt, t]
        ),
          ie.useEffect(
            function () {
              var e = "onpagehide" in self ? "pagehide" : "unload",
                t = function (e) {
                  if (Ce === J.cK.LINKED)
                    return (
                      (e.returnValue =
                        "\u6b63\u5728\u8fde\u9ea6\u4e2d\uff0c\u662f\u5426\u786e\u8ba4\u79bb\u5f00\uff1f"),
                      "\u6b63\u5728\u8fde\u9ea6\u4e2d\uff0c\u662f\u5426\u786e\u8ba4\u79bb\u5f00\uff1f"
                    );
                },
                n = function () {
                  Ce === J.cK.LINKED &&
                    ((0, W.SR)(Q.JW.NONE, Q._o.AUDIENCE, Be.current),
                    (0, J.SH)(d, S) && (0, W.Ai)(d, Be.current)),
                    Ze(Q.JW.NONE, Q._o.AUDIENCE, !0),
                    void 0 !== d &&
                      ((0, W.m8)(Ge.current),
                      (0, J.SH)(d, S) &&
                        (0, W.BH)(void 0, void 0, [], He.current),
                      (0, W.TD)() && (0, W.BH)());
                };
              return (
                window.addEventListener("beforeunload", t),
                window.addEventListener(e, n),
                function () {
                  window.removeEventListener("beforeunload", t),
                    window.removeEventListener(e, n);
                }
              );
            },
            [Ce, Ze, S, d]
          );
      };
      const Ie = (0, o.Pi)(function (e) {
        var t = e.isVerifyed;
        return Te({ isVerifyed: t }), null;
      });
    },
    84544: (e, t, n) => {
      n.d(t, { b: () => N });
      var r = n(56402),
        o = n.n(r),
        a = n(81711),
        i = n.n(a),
        l = n(21805),
        c = n.n(l),
        s = n(72302),
        u = n(27063),
        d = n(85722),
        m = n(11924),
        v = n(54510),
        f = n(2942),
        _ = n(76762),
        E = n(19753),
        p = n(44503),
        h = n(62610),
        g = n(85131),
        N = function (e) {
          var t = e.isVerifyed,
            n = (0, g.Z)(),
            r = n.roomStore.roomInfo,
            a = n.linkmicStore,
            l = a.setIsPlayModeNotSupport,
            N = a.imLinkMicLayout,
            T = (0, s.n)().player,
            I = p.useCallback(
              function () {
                v.k.info("\u73a9\u6cd5\u9650\u5236", (0, h.ZN)(r)), l(!0);
              },
              [l, r]
            ),
            y = p.useCallback(
              function (e) {
                if (100 === e.code)
                  try {
                    var t,
                      n = new TextDecoder().decode(e.content),
                      r = (0, u.KR)(n);
                    if (void 0 === N)
                      r &&
                        r.ktv_sei &&
                        (null == r || null === (t = r.ktv_sei) || void 0 === t
                          ? void 0
                          : t.scene) > 0 &&
                        I();
                  } catch (o) {}
              },
              [I, N]
            );
          p.useEffect(
            function () {
              return (
                null == T || T.on(m.SEI_PARSED, y),
                function () {
                  null == T || T.off(m.SEI_PARSED, y);
                }
              );
            },
            [T, y]
          );
          var S = p.useCallback(
            function (e) {
              i()(e).call(e, function (e) {
                var t = e.method,
                  n = e.payload;
                if (t && n) {
                  var r = Number(n.messageType),
                    o = n.msgType;
                  if (
                    ("string" == typeof n.msgType && (o = Number(n.msgType)),
                    "WebcastLinkmicProfitMessage" === t && 7 === o && I(),
                    "WebcastLinkMessage" === t &&
                      r === _.W6.TYPE_LINKER_CHANGE_PLAY_MODE)
                  ) {
                    var a,
                      i,
                      l = n.changePlayModeContent.changePlayModeData,
                      s = Number(n.scene);
                    ((null != l &&
                      null !== (a = l.playModesList) &&
                      void 0 !== a &&
                      c()(a).call(a, 13)) ||
                      (null != l &&
                        null !== (i = l.playModesList) &&
                        void 0 !== i &&
                        c()(i).call(i, 4) &&
                        8 === s)) &&
                      I();
                  }
                  if (
                    "WebcastLinkMicMethod" === t &&
                    (r === E.iM.TYPE_SWITCH_SCENE || r === E.iM.TYPE_TURNON)
                  ) {
                    var u = n.scene,
                      d = n.playModesList,
                      m = void 0 === d ? [] : d;
                    if (u)
                      8 === Number(u) && null != m && c()(m).call(m, 4) && I();
                  }
                  "WebcastKtvChallengeConfigMessage" === t &&
                    "1" === (null == n ? void 0 : n.switchStatus) &&
                    I();
                }
              });
            },
            [I]
          );
          return (
            p.useEffect(
              function () {
                var e = o()(r, "room.linker_map", {}),
                  t = o()(r, "room.linker_detail.linker_play_modes", []),
                  n = !1;
                (e[5] || e[8] || e[12]) &&
                  i()(t).call(t, function (e) {
                    (7 !== e && 13 !== e && 11 !== e) || (n = !0);
                  }),
                  i()(t).call(t, function (e) {
                    6 === e && (n = !0);
                  }),
                  e[8] && c()(t).call(t, 4) && (n = !0),
                  e[5] && (c()(t).call(t, 7) || c()(t).call(t, 26)) && (n = !1),
                  n && I();
              },
              [I, r]
            ),
            p.useEffect(
              function () {
                return (
                  d.yw.subscribe(f.dQ.LINK, S, d.C7.SYNC),
                  function () {
                    d.yw.unsubscribe(f.dQ.LINK, S, d.C7.SYNC);
                  }
                );
              },
              [S, t]
            ),
            null
          );
        };
    },
    49066: (e, t, n) => {
      n.d(t, { Z: () => f });
      var r = n(21805),
        o = n.n(r),
        a = n(67827),
        i = n.n(a),
        l = n(44503),
        c = n(11924),
        s = n(72302),
        u = n(27063),
        d = n(85131),
        m = n(70179),
        v = n(5480);
      const f = function () {
        var e = (0, l.useRef)({}),
          t = (0, d.Z)().pkStore.setPKAppData,
          n = (0, s.n)().player,
          r = (0, l.useCallback)(
            function (n) {
              if (100 === n.code)
                try {
                  var r = new TextDecoder().decode(n.content),
                    a = (0, u.KR)(r);
                  if (null != a && a.app_data) {
                    var l,
                      c = JSON.parse(a.app_data),
                      s = null == a ? void 0 : a.live_crop;
                    if (o()((l = [m.TG.DOUBLE, m.TG.MULTI])).call(l, c.ver)) {
                      var d = (0, v.q_)(c, s);
                      if (i()(d) !== i()(e.current)) {
                        var f, _, E;
                        if (
                          (t(d),
                          d.ver !== e.current.ver ||
                            d.isFocusMode !== e.current.isFocusMode ||
                            (null === (f = d.grids) || void 0 === f
                              ? void 0
                              : f.length) !==
                              (null === (_ = e.current.grids) || void 0 === _
                                ? void 0
                                : _.length))
                        )
                          (0, v.qP)({
                            name: "pk_app_data_update",
                            categories: {
                              ver: d.ver,
                              isFocusMode: d.isFocusMode,
                              gridsCount:
                                null === (E = d.grids) || void 0 === E
                                  ? void 0
                                  : E.length,
                            },
                          });
                        e.current = d;
                      }
                    }
                  } else {
                    var p = null == a ? void 0 : a.source;
                    p &&
                      o()(p).call(p, "TTLiveSDK") &&
                      e.current.channelId &&
                      (t({}), (e.current = {}));
                  }
                } catch (h) {}
            },
            [t]
          ),
          a = (0, l.useCallback)(
            function () {
              t({}), (e.current = {});
            },
            [t]
          );
        return (
          (0, l.useEffect)(
            function () {
              return (
                null == n || n.on(c.SEI_PARSED, r),
                function () {
                  null == n || n.off(c.SEI_PARSED, r);
                }
              );
            },
            [n, r]
          ),
          (0, l.useEffect)(
            function () {
              return (
                null == n || n.on(c.URL_CHANGE, a),
                function () {
                  null == n || n.off(c.URL_CHANGE, a);
                }
              );
            },
            [n, a]
          ),
          null
        );
      };
    },
    806: (e, t, n) => {
      n.d(t, { Z: () => h });
      var r = n(19049),
        o = n(95508),
        a = n(65146),
        i = n(77370),
        l = n.n(i),
        c = n(88677),
        s = n.n(c),
        u = n(77521),
        d = n.n(u),
        m = n(90823),
        v = n.n(m),
        f = n(85388),
        _ = n(81099),
        E = n(64887),
        p = (function () {
          function e() {
            var t, n;
            (0, r.Z)(this, e),
              (0, a.Z)(this, "browser", void 0),
              (0, a.Z)(this, "room", {}),
              (0, a.Z)(this, "initBrowserInstance", !1),
              (0, a.Z)(this, "currentRoomId", ""),
              (0, a.Z)(this, "player", void 0),
              (0, a.Z)(this, "timer", void 0),
              (0, a.Z)(this, "globalUserPause", !1),
              (0, a.Z)(this, "autoChangeUrl", !0),
              (0, a.Z)(this, "businessChangeUrl", void 0),
              (this.browser = {
                SPIDER_DETECT: !1,
                BROWSER_NOT_SUPPORTED: !1,
                NETWORK_OFFLINE: !1,
              }),
              (this.room = {}),
              (this.startHeartDetect = s()((t = this.startHeartDetect)).call(
                t,
                this
              )),
              (this.stopHeartDetect = s()((n = this.stopHeartDetect)).call(
                n,
                this
              ));
          }
          return (
            (0, o.Z)(e, [
              {
                key: "initBrowser",
                value: function () {
                  (this.browser.SPIDER_DETECT = /(bot|spider|slurp)/i.test(
                    navigator.userAgent
                  )),
                    (this.browser.BROWSER_NOT_SUPPORTED = !(0, E.VU)());
                },
              },
              {
                key: "initRoom",
                value: function (e, t, n) {
                  this.room[e] = {
                    roomId: e,
                    currentStreamUrl: t,
                    roomFromServer: l()(n),
                  };
                },
              },
              {
                key: "init",
                value: function (e, t, n) {
                  this.initBrowserInstance ||
                    (this.initBrowser(), (this.initBrowserInstance = !0)),
                    this.room[e] || this.initRoom(e, t, n);
                },
              },
              {
                key: "resetReason",
                value: function (e) {
                  (e.NETWORK_LOW = !1),
                    (e.NETWORK_SERVICE = !1),
                    (e.NOT_CATCH_ERROR = !1),
                    (e.PLAY_RUNTIME_ERROR = !1),
                    (e.USER_PAUSED = !1);
                },
              },
              {
                key: "resetWaiting",
                value: function (e) {
                  (e.waitingStartTime = -1),
                    (e.waitingFirstStartTime = 0),
                    (e.waitingTime = 0),
                    (e.waitingNumber = 0),
                    (e.waiting = !1);
                },
              },
              {
                key: "resetRetryCount",
                value: function (e) {
                  (e.retryCount = 0),
                    (e.retryTime = 0),
                    (e.retryRuntimeErrorCount = 0);
                },
              },
              {
                key: "resetRoomObj",
                value: function (e) {
                  (e.pauseTime = 0),
                    (e.switchTime = 0),
                    (e.switchUrlCount = 0),
                    this.resetWaiting(e),
                    this.resetReason(e),
                    this.resetRetryCount(e);
                },
              },
              {
                key: "resetPlayer",
                value: function () {
                  this.player = null;
                },
              },
              {
                key: "setCurrentRoom",
                value: function (e, t) {
                  var n,
                    r,
                    o =
                      null == e || null === (n = e.room) || void 0 === n
                        ? void 0
                        : n.id_str;
                  if (this.currentRoomId !== o && "" !== this.currentRoomId) {
                    var a = this.room[this.currentRoomId];
                    (a.waitingTime = 0),
                      (a.waitingNumber = 0),
                      (a.waitingStartTime = -1);
                  }
                  (this.currentRoomId = o),
                    this.init(
                      null == e || null === (r = e.room) || void 0 === r
                        ? void 0
                        : r.id_str,
                      t,
                      e
                    );
                },
              },
              {
                key: "urlIsSame",
                value: function (e, t) {
                  return (
                    (null == e ? void 0 : e.split("?")[0]) ===
                    (null == t ? void 0 : t.split("?")[0])
                  );
                },
              },
              {
                key: "setBusinessChangeUrl",
                value: function (e) {
                  this.businessChangeUrl = e;
                },
              },
              {
                key: "setPlayer",
                value: function (e) {
                  !this.player && e && (this.player = e);
                },
              },
              {
                key: "handleWaiting",
                value: function (e) {
                  var t,
                    n = this.room[e];
                  n &&
                    ((n.waitingNumber =
                      (null !== (t = n.waitingNumber) && void 0 !== t ? t : 0) +
                      1),
                    (n.waitingStartTime = d()()),
                    (n.waiting = !0),
                    1 === n.waitingNumber && (n.waitingFirstStartTime = d()()));
                },
              },
              {
                key: "handlePlaying",
                value: function (e) {
                  var t,
                    n,
                    r = this.room[e];
                  null != r &&
                    r.waiting &&
                    ((r.waiting = !1),
                    (r.waitingTime =
                      (null !== (t = r.waitingTime) && void 0 !== t ? t : 0) +
                      d()() -
                      (null !== (n = r.waitingStartTime) && void 0 !== n
                        ? n
                        : d()())));
                },
              },
              {
                key: "handleEnded",
                value: function (e) {
                  var t,
                    n,
                    r,
                    o,
                    a,
                    i,
                    l = this.room[e];
                  "nobuffer" ===
                  (null === (t = this.player) ||
                  void 0 === t ||
                  null === (n = t.plugins) ||
                  void 0 === n ||
                  null === (r = n.flvlive) ||
                  void 0 === r ||
                  null === (o = r.endedStatus) ||
                  void 0 === o
                    ? void 0
                    : o.status)
                    ? null !== (i = navigator) && void 0 !== i && i.onLine
                      ? (l.NETWORK_LOW = !0)
                      : (this.browser.NETWORK_OFFLINE = !0)
                    : (null !== (a = navigator) && void 0 !== a && a.onLine) ||
                      (this.browser.NETWORK_OFFLINE = !0);
                },
              },
              {
                key: "handleError",
                value: function (e, t) {
                  var n = this.room[e];
                  500 === t.code ||
                  404 === t.code ||
                  403 === t.code ||
                  21 === t.code
                    ? (n.NETWORK_SERVICE = !0)
                    : 31 === t.code ||
                      4 === t.code ||
                      3 === t.errorCode ||
                      4 === t.errorCode
                    ? (n.PLAY_RUNTIME_ERROR = !0)
                    : 999 === t.code || 1 === t.errorCode || 2 === t.errorCode
                    ? (n.NETWORK_LOW = !0)
                    : (n.NOT_CATCH_ERROR = !0),
                    (n.pauseTime = d()());
                },
              },
              {
                key: "handlePause",
                value: function (e) {
                  var t = this.room[e];
                  t && (t.pauseTime = d()());
                },
              },
              {
                key: "handlePlay",
                value: function (e) {
                  var t = this.room[e];
                  (this.globalUserPause = !1), t && this.resetRoomObj(t);
                },
              },
              {
                key: "getQualityUrl",
                value: function (e) {
                  var t,
                    n,
                    r,
                    o,
                    a,
                    i =
                      null !== (t = e.roomFromServer) && void 0 !== t ? t : {},
                    l =
                      (null == i ||
                      null === (n = i.room) ||
                      void 0 === n ||
                      null === (r = n.stream_url) ||
                      void 0 === r
                        ? void 0
                        : r.flv_pull_url) || {},
                    c =
                      (null == i ||
                      null === (o = i.room) ||
                      void 0 === o ||
                      null === (a = o.stream_url) ||
                      void 0 === a
                        ? void 0
                        : a.hls_pull_url_map) || {},
                    s = (0, f.tq)() ? c : l,
                    u = "";
                  return (
                    s.SD1
                      ? (u = s.SD1)
                      : s.SD2
                      ? (u = s.SD2)
                      : s.HD1
                      ? (u = s.HD1)
                      : s.FULL_HD1 && (u = s.FULL_HD1),
                    (0, _.uC)(u)
                  );
                },
              },
              {
                key: "changeUrl",
                value: function (e) {
                  if (this.currentRoomId === e.roomId) {
                    var t,
                      n = this.getQualityUrl(e);
                    if (
                      this.player &&
                      (0, E.sw)(n) &&
                      !this.urlIsSame(n, this.player.config.url)
                    )
                      this.autoChangeUrl
                        ? (this.player.src = globalThis
                            .getFilterXss()
                            .filterUrl(n, null, {
                              logType: "js.href/src",
                              reportOnly: !1,
                            }))
                        : this.businessChangeUrl && this.businessChangeUrl();
                    else if (this.autoChangeUrl)
                      null === (t = this.player) || void 0 === t || t.retry();
                  }
                },
              },
              {
                key: "startHeartDetect",
                value: function () {
                  var e = this;
                  this.timer ||
                    (this.timer = v()(function () {
                      var t,
                        n,
                        r = e.player,
                        o =
                          null !== (t = e.room[e.currentRoomId]) && void 0 !== t
                            ? t
                            : {};
                      if (r && null != r && r.hasStart) {
                        var a = e.browser;
                        if (
                          !a.BROWSER_NOT_SUPPORTED &&
                          !a.SPIDER_DETECT &&
                          null !== (n = navigator) &&
                          void 0 !== n &&
                          n.onLine &&
                          !(
                            o.ANCHOR_END ||
                            o.ANCHOR_LEAVE ||
                            o.USER_PAUSED ||
                            e.globalUserPause
                          )
                        )
                          if (r.paused)
                            if (null != o && o.PLAY_RUNTIME_ERROR) {
                              var i,
                                l,
                                c =
                                  null !==
                                    (i = null == o ? void 0 : o.retryCount) &&
                                  void 0 !== i
                                    ? i
                                    : 0,
                                s =
                                  null !==
                                    (l = null == o ? void 0 : o.retryTime) &&
                                  void 0 !== l
                                    ? l
                                    : d()();
                              c < 1 &&
                                d()() - s >= 3e4 &&
                                (null == r || r.retry(),
                                (o.retryCount = c + 1),
                                (o.retryTime = d()()));
                            } else {
                              if (!o.NETWORK_SERVICE && !o.NOT_CATCH_ERROR) {
                                if (o.NETWORK_LOW) {
                                  var u,
                                    m,
                                    v =
                                      null !==
                                        (u =
                                          null == o
                                            ? void 0
                                            : o.switchUrlCount) && void 0 !== u
                                        ? u
                                        : 0,
                                    f =
                                      null !==
                                        (m =
                                          null == o ? void 0 : o.switchTime) &&
                                      void 0 !== m
                                        ? m
                                        : d()();
                                  if (v < 3 && d()() - f >= 3e4)
                                    return (
                                      (o.switchUrlCount = v + 1),
                                      (o.switchTime = 0),
                                      void e.changeUrl(o)
                                    );
                                }
                                return e.browser.NETWORK_OFFLINE
                                  ? (r.retry(),
                                    void (e.browser.NETWORK_OFFLINE = !1))
                                  : void 0;
                              }
                              var _,
                                E =
                                  null !==
                                    (_ =
                                      null == o
                                        ? void 0
                                        : o.retryRuntimeErrorCount) &&
                                  void 0 !== _
                                    ? _
                                    : 0;
                              E < 3 &&
                                (null == r || r.retry(),
                                (o.retryRuntimeErrorCount = E + 1));
                            }
                          else {
                            var p,
                              h,
                              g,
                              N,
                              T =
                                null !==
                                  (p = null == o ? void 0 : o.waitingNumber) &&
                                void 0 !== p
                                  ? p
                                  : 0,
                              I =
                                null !==
                                  (h = null == o ? void 0 : o.waitingTime) &&
                                void 0 !== h
                                  ? h
                                  : 0,
                              y =
                                null !==
                                  (g =
                                    null == o ? void 0 : o.waitingStartTime) &&
                                void 0 !== g
                                  ? g
                                  : -1,
                              S =
                                null !==
                                  (N =
                                    null == o
                                      ? void 0
                                      : o.waitingFirstStartTime) && void 0 !== N
                                  ? N
                                  : -1;
                            d()() - S >= 5e3 &&
                              null != o &&
                              o.waiting &&
                              ((d()() - y + I >= 3e3 || T >= 3) &&
                                e.changeUrl(o),
                              null != o && o.waiting
                                ? ((o.waitingStartTime = d()()),
                                  (o.waitingFirstStartTime = d()()),
                                  (o.waitingNumber = 1),
                                  (o.waitingTime = 0))
                                : e.resetWaiting(o));
                          }
                      }
                    }, 1e3));
                },
              },
              {
                key: "stopHeartDetect",
                value: function () {
                  this.timer && clearInterval(this.timer), (this.timer = null);
                },
              },
              {
                key: "setRoomStopReason",
                value: function (e, t, n) {
                  var r = this.room[e];
                  r && (r[t] = n);
                },
              },
              {
                key: "getRoomInfo",
                value: function (e) {
                  return this.room[e];
                },
              },
              {
                key: "setGlobalUserPause",
                value: function (e) {
                  this.globalUserPause = e;
                },
              },
              {
                key: "setUrlAutoChange",
                value: function (e) {
                  this.autoChangeUrl = e;
                },
              },
            ]),
            e
          );
        })();
      const h = new p();
    },
    80493: (e, t, n) => {
      n.d(t, { Z: () => l });
      var r = n(44503),
        o = n(72302),
        a = n(830),
        i = n(11924);
      function l(e) {
        var t = (0, o.n)().player,
          n = (0, r.useCallback)(
            function (t) {
              switch (t.action) {
                case "switch_danmu":
                  (0, a.nU)(!t.isOpen, e.logObj);
                  break;
                case "switch_play_pause":
                  (0, a.Mq)(!t.paused, e.logObj);
                  break;
                case "change_muted":
                  (0, a.QJ)(t.muted, e.logObj);
                  break;
                case "switch_fullscreen":
                  (0, a.MF)(t.fullscreen, e.logObj);
              }
            },
            [e.logObj]
          );
        return (
          (0, r.useEffect)(
            function () {
              return (
                t.on(i.USER_ACTION, n),
                function () {
                  t.off(i.USER_ACTION, n);
                }
              );
            },
            [n]
          ),
          null
        );
      }
    },
    98038: (e, t, n) => {
      n.d(t, { w: () => s, O: () => u });
      var r = n(30673),
        o = n(32855),
        a = n.n(o),
        i = n(81711),
        l = n.n(i),
        c = n(16655),
        s = function (e) {
          if ("string" == typeof e.sdk_params)
            try {
              e.sdk_params = JSON.parse(e.sdk_params);
            } catch (t) {}
          return e.sdk_params;
        },
        u = function (e, t, n) {
          var o,
            i = [],
            u = a()((o = (0, r.Z)(e))).call(o);
          return (
            l()(u).call(u, function (e) {
              var r,
                o = t[e],
                a =
                  null === (r = s(null == o ? void 0 : o.main)) || void 0 === r
                    ? void 0
                    : r.VCodec;
              o && "h264" === a
                ? i.push(e)
                : n
                ? o && ("h265" === a || "bytevc1" === a) && c.DT() && i.push(e)
                : !o || ("h265" !== a && "bytevc1" !== a) || i.push(e);
            }),
            i
          );
        };
    },
    3319: (e, t, n) => {
      n.d(t, { Z: () => v });
      var r,
        o = n(19478),
        a = n.n(o),
        i = n(44503);
      function l() {
        return (
          (l = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          l.apply(this, arguments)
        );
      }
      const c = function (e) {
        return i.createElement(
          "svg",
          l(
            {
              width: 32,
              height: 32,
              viewBox: "0 0 32 32",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = i.createElement("path", {
              d: "M24.932 16.444c0-4.687-3.89-8.444-8.634-8.444a8.679 8.679 0 00-7.207 3.79v-1.558a.99.99 0 00-1.98 0v4.038c0 .547.444.99.99.99h4.038a.99.99 0 000-1.98h-1.646c1.137-1.963 3.304-3.3 5.804-3.3 3.7 0 6.655 2.918 6.655 6.464 0 3.547-2.956 6.465-6.655 6.465-2.963 0-5.459-1.88-6.326-4.453a.99.99 0 00-1.876.633c1.138 3.38 4.39 5.8 8.202 5.8 4.746 0 8.635-3.758 8.635-8.445z",
              fill: "#fff",
            }))
        );
      };
      var s = n(68196),
        u = n(830),
        d = n(9037),
        m = n(72302);
      const v = (0, n(11372).r)(function (e) {
        var t = (0, m.n)().player,
          n = e.playerCoverText,
          r = a()(function () {
            window.location.reload();
          }, 200),
          o = e.Icon;
        return i.createElement(
          d.Z,
          { content: "\u5237\u65b0" },
          i.createElement(
            "div",
            {
              onClick: function () {
                n && n === s.kx.KICK_OUT
                  ? r()
                  : (t.emit(s.Cw.REFRESH), t.retry(), (0, u.WG)(e.logObj));
              },
            },
            o ? i.createElement(o, null) : i.createElement(c, null)
          )
        );
      });
    },
    99003: (e, t, n) => {
      n.d(t, { Z: () => T });
      var r,
        o = n(32781),
        a = n(44503);
      function i() {
        return (
          (i = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          i.apply(this, arguments)
        );
      }
      const l = function (e) {
        return a.createElement(
          "svg",
          i(
            {
              width: 32,
              height: 32,
              viewBox: "0 0 32 32",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          r ||
            (r = a.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M9.75 8.5a2 2 0 00-2 2v11a2 2 0 002 2h12.5a2 2 0 002-2v-11a2 2 0 00-2-2H9.75zM15 11.25h-3.75a1 1 0 00-1 1V16h2v-2.75H15v-2zm5.75 9.5H17v-2h2.75V16h2v3.75a1 1 0 01-1 1z",
              fill: "#fff",
            }))
        );
      };
      var c;
      function s() {
        return (
          (s = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          s.apply(this, arguments)
        );
      }
      const u = function (e) {
        return a.createElement(
          "svg",
          s(
            {
              width: 32,
              height: 32,
              viewBox: "0 0 32 32",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          c ||
            (c = a.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M7.75 10.5a2 2 0 012-2h12.5a2 2 0 012 2v11a2 2 0 01-2 2H9.75a2 2 0 01-2-2v-11zM14 15.75h-3.75v-2H13V11h2v3.75a1 1 0 01-1 1zm7.75.5H18a1 1 0 00-1 1V21h2v-2.75h2.75v-2z",
              fill: "#fff",
            }))
        );
      };
      var d = n(9037);
      const m = "wycs3Ebc",
        v = "UOGKmHKk";
      var f = n(65146);
      const _ = "RW5miTiQ";
      var E = n(79705),
        p = n.n(E);
      const h = function (e) {
        var t = e.val,
          n = e.className;
        return a.createElement(
          "div",
          { className: p()(_, (0, f.Z)({}, n, n)) },
          t
        );
      };
      const g = function (e) {
        var t = e.info,
          n = e.btn;
        return a.createElement(
          "div",
          null,
          a.createElement("span", { className: m }, t),
          a.createElement(h, { className: v, val: n })
        );
      };
      var N = n(72302);
      const T = (0, n(11372).r)(function (e) {
        var t = e.onSwitch,
          n = e.on,
          r = void 0 !== n && n,
          i = e.IconOn,
          c = e.IconOff,
          s = e.hotKey,
          m = e.tipClassName,
          v = (0, a.useState)(r),
          f = (0, o.Z)(v, 2),
          _ = f[0],
          E = f[1],
          p = (0, N.n)().player;
        return (
          (0, a.useEffect)(
            function () {
              E(r);
            },
            [r]
          ),
          (0, a.useEffect)(
            function () {
              if (
                (p.usePluginHooks("pc", "videoDbClick", function () {
                  return (
                    E(function (e) {
                      return t && t(!e), !e;
                    }),
                    !1
                  );
                }),
                s)
              ) {
                var e = function (e) {
                    "KeyY" === e.code &&
                      E(function (e) {
                        return e || (t && t(!0), !0);
                      });
                  },
                  n = function (e) {
                    "Escape" === e.code &&
                      E(function (e) {
                        return e ? (t && t(!1), !1) : e;
                      });
                  };
                return (
                  window.addEventListener("keydown", e),
                  window.addEventListener("keydown", n),
                  function () {
                    window.removeEventListener("keydown", e),
                      window.removeEventListener("keydown", n);
                  }
                );
              }
            },
            [s]
          ),
          a.createElement(
            d.Z,
            {
              className: m,
              content: s
                ? a.createElement(g, {
                    btn: "Y",
                    info: _
                      ? "\u9000\u51fa\u7f51\u9875\u5168\u5c4f"
                      : "\u7f51\u9875\u5168\u5c4f",
                  })
                : "\u7f51\u9875\u5168\u5c4f",
            },
            a.createElement(
              "div",
              {
                onClick: function () {
                  var e;
                  E(!(e = _)), t && t(!e);
                },
              },
              _
                ? (c && a.createElement(c, null)) || a.createElement(u, null)
                : (i && a.createElement(i, null)) || a.createElement(l, null)
            )
          )
        );
      });
    },
    76994: (e, t, n) => {
      n.d(t, { Z: () => k });
      var r = n(56402),
        o = n.n(r),
        a = n(92012),
        i = n.n(a),
        l = n(2942),
        c = n(23383),
        s = n(82272),
        u = n(63786),
        d = n(830),
        m = n(5470),
        v = n(82214),
        f = n(30301),
        _ = n(56056),
        E = n(92394),
        p = n(85131),
        h = n(11372),
        g = n(14001),
        N = n(22459),
        T = n(52252),
        I = n(79705),
        y = n.n(I),
        S = n(24142),
        C = n(44503);
      const b = "xhEJrzDE",
        A = "RRQP0gmE",
        O = "pbVnNQ2L",
        L = "NOnnJqoY",
        R = "TyDQD5aj";
      const k = (0, h.r)(
        (0, S.Pi)(function (e) {
          var t,
            n,
            r = e.className,
            a = (0, p.Z)(),
            h = a.roomStore,
            I = h.roomInfo,
            S = h.setFollowStatus,
            k = a.userStore.userInfo,
            w = a.linkmicStore,
            P = w.setIsFansGuide,
            M = w.linkMicConfig,
            Z = (0, C.useRef)(""),
            U = (0, C.useMemo)(
              function () {
                var e;
                return {
                  roomId: o()(I, "roomId", ""),
                  title: o()(I, "room.title", ""),
                  avatar: o()(I, "anchor.avatar_thumb.url_list[0]", ""),
                  nickname: o()(I, "anchor.nickname", ""),
                  anchorSecUid: o()(I, "anchor.sec_uid", ""),
                  qrcode: o()(I, "qrcode_url", ""),
                  isLiveEnded:
                    Number(
                      null === (e = I.room) || void 0 === e
                        ? void 0
                        : e.status_str
                    ) === l.LV.END,
                };
              },
              [I]
            ),
            D = U.roomId,
            x = U.avatar,
            F = U.nickname,
            K = U.anchorSecUid,
            G = U.qrcode,
            V = U.isLiveEnded,
            Y = (0, C.useMemo)(
              function () {
                return { secUid: o()(k, "sec_uid", "") };
              },
              [k]
            ).userId;
          (0, C.useCallback)(
            function (e) {
              S(e),
                e === c.E.FOLLOWED &&
                  (M.big_party_accept_need_verified ||
                    M.audio_chat_accept_need_verified) &&
                  P(!0);
            },
            [S, M, P]
          );
          return (
            (0, C.useEffect)(
              function () {
                var e;
                if (!T.p()) {
                  var t = (0, s.Yi)(),
                    n = t.enter_method,
                    r = void 0 === n ? "" : n,
                    o = t.enter_from_merge,
                    a = void 0 === o ? "" : o;
                  Z.current = i()(
                    (e = "?enter_method=".concat(r, "&enter_from_merge="))
                  ).call(e, a, "&event_page=live_detail&tab_name=");
                }
              },
              [k]
            ),
            C.createElement(
              "div",
              { className: y()(b, "metro", "immersive", r) },
              C.createElement(
                g.a,
                {
                  className: A,
                  href: globalThis
                    .getFilterXss()
                    .filterUrl(
                      i()(
                        (t = i()(
                          (n = "//".concat((0, u.iE)().VIDEO_DOMAIN, "/user/"))
                        ).call(n, K))
                      ).call(t, Z.current),
                      null,
                      { logType: "js.href/src", reportOnly: !1 }
                    ),
                  target: "_blank",
                  rel: "noreferrer",
                  onClick: function () {
                    (0, d.EP)({
                      click_type: "anchor",
                      event_page: "live_detail",
                      click_user_position: d.JC.LIVE_OPEN_TOP_LEFT_ANCHOR,
                    });
                  },
                },
                C.createElement(N.q, {
                  type: "extraSmall",
                  className: O,
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(x, null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                  alt: F,
                }),
                C.createElement(
                  "div",
                  { className: L, title: F },
                  C.createElement("span", null, F)
                )
              ),
              C.createElement(
                "div",
                { className: R },
                C.createElement(m.Z, null),
                C.createElement(f.Z, { immersive: !0, userId: Y }),
                D &&
                  !V &&
                  C.createElement(
                    _.Z,
                    { immersive: !0 },
                    C.createElement(v.Z, { type: "link", qrcode_url: G }),
                    C.createElement(E.Z, { roomId: D, anchorSecUserId: K })
                  )
              )
            )
          );
        })
      );
    },
    91204: (e, t, n) => {
      n.d(t, { Z: () => m });
      var r = n(44003),
        o = n(11372),
        a = n(79705),
        i = n.n(a),
        l = n(44503);
      const c = "c8yOptKs",
        s = "nbByy5ZA",
        u = "cRkFQfyZ";
      var d = n(24142);
      const m = (0, o.r)(
        (0, d.Pi)(function (e) {
          var t = e.userCount,
            n = void 0 === t ? "" : t,
            o = e.title,
            a = void 0 === o ? "" : o,
            d = e.showUserCount,
            m = void 0 !== d && d,
            v = e.className;
          return l.createElement(
            "div",
            { className: i()(c, v) },
            l.createElement("span", { className: s }, a),
            m && l.createElement(r.A, { className: u, count: n })
          );
        })
      );
    },
    54819: (e, t, n) => {
      n.d(t, { Z: () => u });
      var r = n(88438),
        o = n.n(r),
        a = n(44503),
        i = n(72302),
        l = n(49517),
        c = n(85388),
        s = n(11924);
      const u = function (e) {
        var t = (0, i.n)().player,
          n = e || {},
          r = n.fix,
          u = void 0 === r ? 1 : r,
          d = n.real,
          m = void 0 !== d && d,
          v = (0, a.useCallback)(
            function () {
              0 === t.volume
                ? (0, c.w)(!0)
                : t.muted
                ? ((0, c.w)(!0),
                  (0, c.n$)(m ? t.volume : Number(t.volume.toFixed(u)) || 0.1))
                : ((0, c.w)(!1),
                  (0, c.n$)(m ? t.volume : Number(t.volume.toFixed(u)) || 0.1));
            },
            [t]
          );
        return (
          (0, a.useEffect)(
            function () {
              t.muted = (0, c.rC)();
              var e = t.getPlugin("volume");
              return (
                e &&
                  e.useHooks &&
                  e.useHooks("muted_change", function () {
                    return 0 === t.volume
                      ? ((t.volume = (0, c.Sv)() || l.Qx), (0, c.w)(!1), !1)
                      : (o()(function () {
                          (0, c.w)(t.muted);
                        }, 50),
                        !0);
                  }),
                t.on(s.VOLUME_CHANGE, v),
                function () {
                  t.off(s.VOLUME_CHANGE, v);
                }
              );
            },
            [t, v]
          ),
          null
        );
      };
    },
    26096: (e, t, n) => {
      n.d(t, { h: () => s });
      var r = n(32781),
        o = n(29529),
        a = n(44503),
        i = n(9),
        l = n(16400),
        c = n(86090),
        s = (0, a.memo)(
          (0, a.forwardRef)(function (e, t) {
            var n = e.getContainer,
              s = void 0 !== n && n,
              u = e.children,
              d = e.className,
              m = void 0 === d ? "" : d,
              v = (0, a.useMemo)(
                function () {
                  var e = (function (e) {
                    return (0, c.p)()
                      ? null
                      : ("string" == typeof e &&
                          (t = document.querySelector(e)),
                        "function" == typeof e && (t = e()),
                        "object" === (0, o.Z)(e) &&
                          e instanceof window.HTMLElement &&
                          (t = e),
                        t || document.body);
                    var t;
                  })(s);
                  if (e) {
                    var t = document.createElement("div");
                    return m && (0, l.IB)(t, m), e.appendChild(t), [e, t];
                  }
                  return [null, null];
                },
                [s]
              ),
              f = (0, r.Z)(v, 2),
              _ = (f[0], f[1]);
            return (
              (0, a.useEffect)(function () {
                return function () {
                  _.remove();
                };
              }, []),
              (0, a.useImperativeHandle)(
                t,
                function () {
                  return _;
                },
                [_]
              ),
              _ ? (0, i.createPortal)(u, _) : null
            );
          })
        );
    },
    64128: (e, t, n) => {
      n.d(t, { b: () => o });
      var r = n(2857),
        o = function () {
          return r.Z.get(
            "https://".concat(window.location.host, "/aweme/v1/web/emoji/list")
          );
        };
    },
    46914: (e, t, n) => {
      n.d(t, {
        $s: () => m,
        q7: () => v,
        JJ: () => f,
        TL: () => _,
        AE: () => E,
        VV: () => p,
        cJ: () => h,
        SR: () => g,
        lx: () => N,
        oX: () => T,
        y_: () => I,
        VT: () => y,
        QH: () => S,
        Do: () => C,
        lp: () => b,
        a0: () => A,
        Os: () => O,
        RO: () => L,
        vh: () => R,
        C8: () => k,
        gL: () => w,
      });
      var r = n(30906),
        o = n(64408),
        a = n(5594),
        i = n.n(a),
        l = n(49330),
        c = n(67201),
        s = n(2857),
        u = n(54510),
        d = n(14484).Pe(),
        m = (function () {
          var e = (0, o.Z)(
            i().mark(function e(t, n) {
              var o, a, l;
              return i().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (e.next = 2),
                        s.Z.get(
                          "".concat(
                            d,
                            "/webcast/linkmic_audience/get_settings/"
                          ),
                          { params: { room_id: t, sec_owner_id: n } }
                        )
                      );
                    case 2:
                      return (
                        (o = e.sent),
                        (a = o.data),
                        (l = o.headers),
                        e.abrupt(
                          "return",
                          (0, r.Z)(
                            (0, r.Z)({}, a),
                            {},
                            { logId: l["x-tt-logid"] }
                          )
                        )
                      );
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function (t, n) {
            return e.apply(this, arguments);
          };
        })(),
        v = function (e) {
          return (
            u.Z.info("\u7533\u8bf7\u4e0a\u9ea6\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/apply/"),
              (0, c.stringify)(e),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        f = function (e) {
          return (
            u.Z.info("\u4e0a\u9ea6\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/join_channel/"),
              (0, c.stringify)({ room_id: e }),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        _ = function (e) {
          return (
            u.Z.info("\u4e0b\u9ea6\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/leave/"),
              (0, c.stringify)(e),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        E = function (e) {
          return (
            u.Z.info("\u53d6\u6d88\u9759\u97f3\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/unsilence/"),
              (0, c.stringify)(e),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        p = function (e) {
          return (
            u.Z.info("\u9759\u97f3\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/silence/"),
              (0, c.stringify)(e),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        h = function (e, t) {
          return (
            u.Z.info("\u5173\u95ed\u6444\u50cf\u5934"),
            s.Z.post(
              "/webcast/linkmic_audience/update_link_type/apply/",
              (0, c.stringify)({
                room_id: e,
                to_user_id: t,
                link_type: l.Un.TYPE_AUDIO,
              }),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        g = function (e, t) {
          return (
            u.Z.info("\u5f00\u542f\u6444\u50cf\u5934 api \u8c03\u7528"),
            s.Z.post(
              "/webcast/linkmic_audience/update_link_type/apply/",
              (0, c.stringify)({
                room_id: e,
                to_user_id: t,
                link_type: l.Un.TYPE_VIDEO,
              }),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        N = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u8fde\u9ea6\u914d\u7f6e\u8bf7\u6c42"),
            s.Z.get("".concat(d, "/webcast/linkmic_audience/list/v2/"), {
              params: e,
            })
          );
        },
        T = function (e) {
          return (
            u.Z.info("\u5207\u6362\u9ea6\u4f4d\u8bf7\u6c42"),
            s.Z.post(
              "".concat(d, "/webcast/linkmic_audience/update_position/"),
              (0, c.stringify)(e),
              {
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded",
                },
              }
            )
          );
        },
        I = function (e) {
          return (
            u.Z.info("\u8de8\u5385\u4f5c\u6218\u73a9\u6cd5\u4fe1\u606f"),
            s.Z.get(
              "".concat(d, "/webcast/linkmic_audience/get_play_mode_info/"),
              { params: e }
            )
          );
        },
        y = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u7a7f\u6234\u914d\u7f6e"),
            s.Z.get("".concat(d, "/webcast/dress/list/"), { params: e })
          );
        },
        S = function (e) {
          return (
            u.Z.info(
              "\u83b7\u53d6\u5609\u5bbe\u4f5c\u6218\u73a9\u6cd5\u914d\u7f6e"
            ),
            s.Z.get(
              "".concat(d, "/webcast/linkmic_audience/get_guest_battle_conf/"),
              { params: e }
            )
          );
        },
        C = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u699c\u5355\u4fe1\u606f"),
            s.Z.get(
              "".concat(
                d,
                "/webcast/linkmic_profit/teamfight_contributor_ranklist/"
              ),
              { params: e }
            )
          );
        },
        b = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u8fde\u7ebf\u4f5c\u6218\u8d21\u732e\u699c"),
            s.Z.get("".concat(d, "/webcast/ranklist/guest_battle/"), {
              params: e,
            })
          );
        },
        A = function (e) {
          return (
            u.Z.info(
              "\u83b7\u53d6\u5609\u5bbe\u5927\u4f5c\u6218\u5404\u5609\u5bbe\u6392\u540d\u699c"
            ),
            s.Z.get("".concat(d, "/webcast/ranklist/guest_battle_rank/"), {
              params: e,
            })
          );
        },
        O = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u901a\u7528\u699c\u5355\u4fe1\u606f"),
            s.Z.get("".concat(d, "/webcast/ranklist/linker/"), { params: e })
          );
        },
        L = function (e) {
          return (
            u.Z.info(
              "\u83b7\u53d6\u9ea6\u4e0a\u5609\u5bbe\u91d1\u8bdd\u7b52\u6570\u636e"
            ),
            s.Z.get(
              "".concat(
                d,
                "/webcast/linkmic_profit/order_sing_list_user_microphone/"
              ),
              { params: e }
            )
          );
        },
        R = function (e) {
          return (
            u.Z.info("\u5f00\u59cb\u6f14\u5531"),
            s.Z.get("".concat(d, "/webcast/linkmic_profit/order_sing_start/"), {
              params: e,
            })
          );
        },
        k = function (e) {
          return (
            u.Z.info("\u7ed3\u675f\u6f14\u5531"),
            s.Z.get("".concat(d, "/webcast/linkmic_profit/order_sing_end/"), {
              params: e,
            })
          );
        },
        w = function (e) {
          return (
            u.Z.info("\u83b7\u53d6\u70b9\u5531\u5217\u8868"),
            s.Z.get(
              "".concat(d, "/webcast/linkmic_profit/order_sing_order_list/"),
              { params: e }
            )
          );
        };
    },
    95842: (e, t, n) => {
      var r,
        o,
        a,
        i,
        l,
        c,
        s,
        u,
        d,
        m,
        v,
        f,
        _,
        E,
        p,
        h,
        g,
        N,
        T,
        I,
        y,
        S,
        C,
        b,
        A,
        O,
        L,
        R,
        k,
        w,
        P,
        M,
        Z;
      n.d(t, { av: () => h, XC: () => T, U: () => A }),
        (function (e) {
          (e[(e.LAYOUT_UNKNOWN = 0)] = "LAYOUT_UNKNOWN"),
            (e[(e.BIG = 1)] = "BIG"),
            (e[(e.SMALL = 8)] = "SMALL"),
            (e[(e.BIG_PARTY = 16)] = "BIG_PARTY"),
            (e[(e.SHARE_VIDEO = 32)] = "SHARE_VIDEO"),
            (e[(e.KTV = 64)] = "KTV");
        })(r || (r = {})),
        (function (e) {
          (e[(e.AUDIENCE_TYPE_UNKNOWN = 0)] = "AUDIENCE_TYPE_UNKNOWN"),
            (e[(e.VIDEO = 1)] = "VIDEO"),
            (e[(e.AUDIO = 2)] = "AUDIO"),
            (e[(e.AVATAR = 3)] = "AVATAR");
        })(o || (o = {})),
        (function (e) {
          (e[(e.AUDIENCE_STATUS_UNKOWN = 0)] = "AUDIENCE_STATUS_UNKOWN"),
            (e[(e.WAITING = 1)] = "WAITING"),
            (e[(e.LINKED = 2)] = "LINKED"),
            (e[(e.FINISHED = 3)] = "FINISHED"),
            (e[(e.WAITING_AND_LINKED = 4)] = "WAITING_AND_LINKED");
        })(a || (a = {})),
        (function (e) {
          (e[(e.ROLE_TYPE_UNKOWN = 0)] = "ROLE_TYPE_UNKOWN"),
            (e[(e.LEADER = 1)] = "LEADER"),
            (e[(e.PLAYER = 2)] = "PLAYER"),
            (e[(e.INVITEE = 3)] = "INVITEE");
        })(i || (i = {})),
        (function (e) {
          (e[(e.UNSILENCE = 0)] = "UNSILENCE"),
            (e[(e.SILENCE_BY_SELF = 1)] = "SILENCE_BY_SELF"),
            (e[(e.SILENCE_BY_OWNER = 2)] = "SILENCE_BY_OWNER"),
            (e[(e.SILENCE_PASSIVE = 3)] = "SILENCE_PASSIVE");
        })(l || (l = {})),
        (function (e) {
          (e[(e.RT_UNKNOWN = 0)] = "RT_UNKNOWN"),
            (e[(e.RT_AGREE = 1)] = "RT_AGREE"),
            (e[(e.RT_REJECT = 2)] = "RT_REJECT");
        })(c || (c = {})),
        (function (e) {
          (e[(e.UpdateLinkTypeReplyType_UNKNOWN = 0)] =
            "UpdateLinkTypeReplyType_UNKNOWN"),
            (e[(e.UpdateLinkTypeReplyType_AGREE = 1)] =
              "UpdateLinkTypeReplyType_AGREE"),
            (e[(e.UpdateLinkTypeReplyType_REJECT = 2)] =
              "UpdateLinkTypeReplyType_REJECT");
        })(s || (s = {})),
        (function (e) {
          (e[(e.UNKNOWN_EMOJI_TYPE = 0)] = "UNKNOWN_EMOJI_TYPE"),
            (e[(e.OWN_EMOJI = 1)] = "OWN_EMOJI"),
            (e[(e.INTERACT_EMOJI = 2)] = "INTERACT_EMOJI"),
            (e[(e.OWN_AND_INTERACT_EMOJI = 3)] = "OWN_AND_INTERACT_EMOJI");
        })(u || (u = {})),
        (function (e) {
          (e[(e.UNKOWN_CONTROL = 0)] = "UNKOWN_CONTROL"),
            (e[(e.LINK_COMMENT = 1)] = "LINK_COMMENT");
        })(d || (d = {})),
        (function (e) {
          (e[(e.EmojiCategory_UNSET = 0)] = "EmojiCategory_UNSET"),
            (e[(e.EmojiCategory_EMOJI = 1)] = "EmojiCategory_EMOJI"),
            (e[(e.EmojiCategory_AVATAR = 2)] = "EmojiCategory_AVATAR"),
            (e[(e.EmojiCategory_QUICK_THANKS_GIFT = 4)] =
              "EmojiCategory_QUICK_THANKS_GIFT"),
            (e[(e.EmojiCategory_EFFECT = 5)] = "EmojiCategory_EFFECT");
        })(m || (m = {})),
        (function (e) {
          (e[(e.ApplyCallback_Unknown = 0)] = "ApplyCallback_Unknown"),
            (e[(e.BidPaidLinkmic = 1)] = "BidPaidLinkmic");
        })(v || (v = {})),
        (function (e) {
          (e[(e.EnlargeGuestInviteType_UNKNOWN = 0)] =
            "EnlargeGuestInviteType_UNKNOWN"),
            (e[(e.EnlargeGuestInviteType_ENLARGE = 1)] =
              "EnlargeGuestInviteType_ENLARGE"),
            (e[(e.EnlargeGuestInviteType_REDUCE = 2)] =
              "EnlargeGuestInviteType_REDUCE");
        })(f || (f = {})),
        (function (e) {
          (e[(e.EnlargeGuestReplyType_UNKNOWN = 0)] =
            "EnlargeGuestReplyType_UNKNOWN"),
            (e[(e.EnlargeGuestReplyType_AGREE = 1)] =
              "EnlargeGuestReplyType_AGREE"),
            (e[(e.EnlargeGuestReplyType_REJECT = 2)] =
              "EnlargeGuestReplyType_REJECT");
        })(_ || (_ = {})),
        (function (e) {
          (e[(e.EmojiStatus_Normal = 0)] = "EmojiStatus_Normal"),
            (e[(e.EmojiStatus_Got = 1)] = "EmojiStatus_Got"),
            (e[(e.EmojiStatus_ToGet = 2)] = "EmojiStatus_ToGet");
        })(E || (E = {})),
        (function (e) {
          (e[(e.RELATION_UNKNOWN = 0)] = "RELATION_UNKNOWN"),
            (e[(e.RELATION_FRIENDs = 1)] = "RELATION_FRIENDs"),
            (e[(e.RELATION_FANSCLUB = 2)] = "RELATION_FANSCLUB"),
            (e[(e.RELATION_FANS = 3)] = "RELATION_FANS");
        })(p || (p = {})),
        (function (e) {
          (e[(e.SILENCE_TYPE_NORMAL = 0)] = "SILENCE_TYPE_NORMAL"),
            (e[(e.SILENCE_TYPE_PASSIVE = 1)] = "SILENCE_TYPE_PASSIVE"),
            (e[(e.SILENCE_TYPE_OTHER_ROOM = 2)] = "SILENCE_TYPE_OTHER_ROOM");
        })(h || (h = {})),
        (function (e) {
          (e[(e.UNSILENCE_TYPE_NORMAL = 0)] = "UNSILENCE_TYPE_NORMAL"),
            (e[(e.UNSILENCE_TYPE_OTHER_ROOM = 1)] =
              "UNSILENCE_TYPE_OTHER_ROOM");
        })(g || (g = {})),
        (function (e) {
          (e[(e.SingerAction_UNKNOWN = 0)] = "SingerAction_UNKNOWN"),
            (e[(e.SingerAction_START = 1)] = "SingerAction_START"),
            (e[(e.SingerAction_FINISH = 2)] = "SingerAction_FINISH");
        })(N || (N = {})),
        (function (e) {
          (e[(e.NORMAL = 0)] = "NORMAL"),
            (e[(e.SONG = 1)] = "SONG"),
            (e[(e.FASTMATCH = 2)] = "FASTMATCH"),
            (e[(e.CITY = 4)] = "CITY"),
            (e[(e.STRONG_REACH = 8)] = "STRONG_REACH"),
            (e[(e.KTV_ACTIVITY = 16)] = "KTV_ACTIVITY"),
            (e[(e.PREPARE_APPLY = 32)] = "PREPARE_APPLY"),
            (e[(e.KTV_PRIOR_SONG_APPLY = 64)] = "KTV_PRIOR_SONG_APPLY"),
            (e[(e.CHAT_MATCH = 128)] = "CHAT_MATCH");
        })(T || (T = {})),
        (function (e) {
          (e[(e.UNKOWN = 0)] = "UNKOWN"),
            (e[(e.ENABLE_DELEGATED_TO_FRIENDS = 1)] =
              "ENABLE_DELEGATED_TO_FRIENDS"),
            (e[(e.ENABLE_DELEGATED_TO_FRIENDS_ACQUAINTANCE = 2)] =
              "ENABLE_DELEGATED_TO_FRIENDS_ACQUAINTANCE"),
            (e[(e.ENABLE_FASTMATCH_SHAKE = 3)] = "ENABLE_FASTMATCH_SHAKE"),
            (e[(e.ENABLE_FASTMATCH_ROOM_SHAKE = 4)] =
              "ENABLE_FASTMATCH_ROOM_SHAKE"),
            (e[(e.ALLOW_PRE_LINK_MIC = 5)] = "ALLOW_PRE_LINK_MIC"),
            (e[(e.ENABLE_SEARCH_VIDEO = 6)] = "ENABLE_SEARCH_VIDEO"),
            (e[(e.ENABLE_MIC_DRESS_BUTTON = 7)] = "ENABLE_MIC_DRESS_BUTTON"),
            (e[(e.ENABLE_KTV_MIDI = 8)] = "ENABLE_KTV_MIDI");
        })(I || (I = {})),
        (function (e) {
          (e[(e.SETTING_UNSET = 0)] = "SETTING_UNSET"),
            (e[(e.SETTING_OPEN = 1)] = "SETTING_OPEN"),
            (e[(e.SETTING_OFF = 2)] = "SETTING_OFF"),
            (e[(e.SETTING_DELEGATED_TO_EVERYONE = 50)] =
              "SETTING_DELEGATED_TO_EVERYONE");
        })(y || (y = {})),
        (function (e) {
          (e[(e.SING_UNKNOWN = 0)] = "SING_UNKNOWN"),
            (e[(e.SING_VIDEO = 1)] = "SING_VIDEO"),
            (e[(e.SING_AUDIO = 2)] = "SING_AUDIO"),
            (e[(e.SING_AVATAR = 3)] = "SING_AVATAR");
        })(S || (S = {})),
        (function (e) {
          (e[(e.AUDIT_UNKNOWN = 0)] = "AUDIT_UNKNOWN"),
            (e[(e.AUDIT_PASS = 1)] = "AUDIT_PASS"),
            (e[(e.AUDIT_REJECT = 2)] = "AUDIT_REJECT");
        })(C || (C = {})),
        (function (e) {
          (e[(e.INIT_SOURCE_UNKNOWN = 0)] = "INIT_SOURCE_UNKNOWN"),
            (e[(e.PROACRIVE = 1)] = "PROACRIVE"),
            (e[(e.DEFAULT_PASSIVE = 2)] = "DEFAULT_PASSIVE"),
            (e[(e.FROM_AUDIENCE_LINKMIC = 3)] = "FROM_AUDIENCE_LINKMIC"),
            (e[(e.FROM_PREPARE_APPLY = 4)] = "FROM_PREPARE_APPLY"),
            (e[(e.FROM_CHAT_MATCH = 5)] = "FROM_CHAT_MATCH");
        })(b || (b = {})),
        (function (e) {
          (e[(e.LinkmicPositionStatus_Normal = 0)] =
            "LinkmicPositionStatus_Normal"),
            (e[(e.LinkmicPositionStatus_Locked = 1)] =
              "LinkmicPositionStatus_Locked"),
            (e[(e.LinkmicPositionStatus_BidPaid = 2)] =
              "LinkmicPositionStatus_BidPaid");
        })(A || (A = {})),
        (function (e) {
          (e[(e.LinkmicPositionVerifyStatus_UnKnown = 0)] =
            "LinkmicPositionVerifyStatus_UnKnown"),
            (e[(e.LinkmicPositionVerifyStatus_Auditing = 1)] =
              "LinkmicPositionVerifyStatus_Auditing"),
            (e[(e.LinkmicPositionVerifyStatus_UnPass = 2)] =
              "LinkmicPositionVerifyStatus_UnPass"),
            (e[(e.LinkmicPositionVerifyStatus_Pass = 3)] =
              "LinkmicPositionVerifyStatus_Pass"),
            (e[(e.LinkmicPositionVerifyStatus_Fail = 4)] =
              "LinkmicPositionVerifyStatus_Fail");
        })(O || (O = {})),
        (function (e) {
          (e[(e.LinkmicPositionType_Normal = 0)] =
            "LinkmicPositionType_Normal"),
            (e[(e.LinkmicPositionType_Performer = 1)] =
              "LinkmicPositionType_Performer");
        })(L || (L = {})),
        (function (e) {
          (e[(e.BUTTON_UNKNOWN = 0)] = "BUTTON_UNKNOWN"),
            (e[(e.BUTTON_PREHEAT = 1)] = "BUTTON_PREHEAT"),
            (e[(e.BUTTON_TIMELIMIT = 2)] = "BUTTON_TIMELIMIT"),
            (e[(e.BUTTON_SHUTDOWN = 3)] = "BUTTON_SHUTDOWN"),
            (e[(e.BUTTON_NORMAL = 4)] = "BUTTON_NORMAL");
        })(R || (R = {})),
        (function (e) {
          (e[(e.CROSS_LINK_TYPE_UNKNOWN = 0)] = "CROSS_LINK_TYPE_UNKNOWN"),
            (e[(e.CROSS_LINK_TYPE_TWO_ROOM = 1)] = "CROSS_LINK_TYPE_TWO_ROOM");
        })(k || (k = {})),
        (function (e) {
          (e[(e.REPLY_CROSS_ROOM_Link_TYPE_UNKNOWN = 0)] =
            "REPLY_CROSS_ROOM_Link_TYPE_UNKNOWN"),
            (e[(e.REPLY_CROSS_ROOM_Link_TYPE_AGREE = 1)] =
              "REPLY_CROSS_ROOM_Link_TYPE_AGREE"),
            (e[(e.REPLY_CROSS_ROOM_Link_TYPE_REJECT = 2)] =
              "REPLY_CROSS_ROOM_Link_TYPE_REJECT");
        })(w || (w = {})),
        (function (e) {
          (e[(e.REPLY_ROOM_BATTLE_OPERATE_UNKNOWN = 0)] =
            "REPLY_ROOM_BATTLE_OPERATE_UNKNOWN"),
            (e[(e.REPLY_ROOM_BATTLE_OPERATE_SELECT_GUESTS = 1)] =
              "REPLY_ROOM_BATTLE_OPERATE_SELECT_GUESTS"),
            (e[(e.REPLY_ROOM_BATTLE_OPERATE_END_INVITE = 2)] =
              "REPLY_ROOM_BATTLE_OPERATE_END_INVITE"),
            (e[(e.REPLY_ROOM_BATTLE_OPERATE_END_REPLY = 3)] =
              "REPLY_ROOM_BATTLE_OPERATE_END_REPLY");
        })(P || (P = {})),
        (function (e) {
          (e[(e.ENTRANCE_STATUS_UNKONWN = 0)] = "ENTRANCE_STATUS_UNKONWN"),
            (e[(e.ENTRANCE_STATUS_PREHEAT = 1)] = "ENTRANCE_STATUS_PREHEAT"),
            (e[(e.ENTRANCE_STATUS_TIMELIMIT = 2)] =
              "ENTRANCE_STATUS_TIMELIMIT"),
            (e[(e.ENTRANCE_STATUS_SHUTDOWN = 3)] = "ENTRANCE_STATUS_SHUTDOWN"),
            (e[(e.ENTRANCE_STATUS_NORMAL = 4)] = "ENTRANCE_STATUS_NORMAL");
        })(M || (M = {})),
        (function (e) {
          (e[(e.LINKMIC_INTERACT_ENTRANCE_ID_UNKNOWN = 0)] =
            "LINKMIC_INTERACT_ENTRANCE_ID_UNKNOWN"),
            (e[(e.LINKMIC_INTERACT_ENTRANCE_ID_FRIENDSHIP = 1)] =
              "LINKMIC_INTERACT_ENTRANCE_ID_FRIENDSHIP");
        })(Z || (Z = {}));
    },
    76762: (e, t, n) => {
      var r, o, a, i, l, c;
      n.d(t, { W6: () => a }),
        (function (e) {
          (e[(e.Scene_Unknown = 0)] = "Scene_Unknown"),
            (e[(e.Scene_PK = 1)] = "Scene_PK"),
            (e[(e.Scene_AnchorLinkmic = 2)] = "Scene_AnchorLinkmic"),
            (e[(e.Scene_VirutalPK = 3)] = "Scene_VirutalPK"),
            (e[(e.Scene_AudienceLinkmic = 4)] = "Scene_AudienceLinkmic"),
            (e[(e.Scene_AudioChatRoom = 5)] = "Scene_AudioChatRoom"),
            (e[(e.Scene_CloudGame = 6)] = "Scene_CloudGame"),
            (e[(e.Scene_AnchorMultiLinkmic = 7)] = "Scene_AnchorMultiLinkmic"),
            (e[(e.Scene_VideoChatRoom = 8)] = "Scene_VideoChatRoom");
        })(r || (r = {})),
        (function (e) {
          (e[(e.ChannelAction_Unknown = 0)] = "ChannelAction_Unknown"),
            (e[(e.ChannelAction_Join = 1)] = "ChannelAction_Join"),
            (e[(e.ChannelAction_Leave = 2)] = "ChannelAction_Leave"),
            (e[(e.ChannelAction_Silence = 3)] = "ChannelAction_Silence"),
            (e[(e.ChannelAction_UnSilence = 4)] = "ChannelAction_UnSilence");
        })(o || (o = {})),
        (function (e) {
          (e[(e.TPYE_LINKER_UNKNOWN = 0)] = "TPYE_LINKER_UNKNOWN"),
            (e[(e.TYPE_LINKER_CREATE = 1)] = "TYPE_LINKER_CREATE"),
            (e[(e.TYPE_LINKER_CLOSE = 2)] = "TYPE_LINKER_CLOSE"),
            (e[(e.TYPE_LINKER_INVITE = 3)] = "TYPE_LINKER_INVITE"),
            (e[(e.TYPE_LINKER_APPLY = 4)] = "TYPE_LINKER_APPLY"),
            (e[(e.TYPE_LINKER_REPLY = 5)] = "TYPE_LINKER_REPLY"),
            (e[(e.TPYE_LINKER_ENTER = 6)] = "TPYE_LINKER_ENTER"),
            (e[(e.TPYE_LINKER_LEAVE = 7)] = "TPYE_LINKER_LEAVE"),
            (e[(e.TYPE_LINKER_PERMIT = 8)] = "TYPE_LINKER_PERMIT"),
            (e[(e.TPYE_LINKER_CANCEL_INVITE = 9)] =
              "TPYE_LINKER_CANCEL_INVITE"),
            (e[(e.TYPE_LINKER_WAITING_LIST_CHANGE = 10)] =
              "TYPE_LINKER_WAITING_LIST_CHANGE"),
            (e[(e.TYPE_LINKER_LINKED_LIST_CHANGE = 11)] =
              "TYPE_LINKER_LINKED_LIST_CHANGE"),
            (e[(e.TYPE_LINKER_UPDATE_USER = 12)] = "TYPE_LINKER_UPDATE_USER"),
            (e[(e.TPYE_LINKER_KICK_OUT = 13)] = "TPYE_LINKER_KICK_OUT"),
            (e[(e.TPYE_LINKER_CANCEL_APPLY = 14)] = "TPYE_LINKER_CANCEL_APPLY"),
            (e[(e.TYPE_LINKER_BAN = 15)] = "TYPE_LINKER_BAN"),
            (e[(e.TYPE_LINKER_DISPATCH_ITEM = 16)] =
              "TYPE_LINKER_DISPATCH_ITEM"),
            (e[(e.TYPE_LINKER_VIOLATION_REMINDER = 17)] =
              "TYPE_LINKER_VIOLATION_REMINDER"),
            (e[(e.TYPE_LINKER_UPDATE_LINK_TYPE_APPLY = 18)] =
              "TYPE_LINKER_UPDATE_LINK_TYPE_APPLY"),
            (e[(e.TYPE_LINKER_UPDATE_LINK_TYPE_REPLY = 19)] =
              "TYPE_LINKER_UPDATE_LINK_TYPE_REPLY"),
            (e[(e.TYPE_LINKER_AVATAR_AUDIT = 20)] = "TYPE_LINKER_AVATAR_AUDIT"),
            (e[(e.TYPE_APPlY_EXPIRED = 22)] = "TYPE_APPlY_EXPIRED"),
            (e[(e.TYPE_APPLY_STRONG_REMINDER = 23)] =
              "TYPE_APPLY_STRONG_REMINDER"),
            (e[(e.TYPE_ANCHOR_STREAM_SWITCH = 24)] =
              "TYPE_ANCHOR_STREAM_SWITCH"),
            (e[(e.TYPE_LINKER_CLICK_SCREEN = 25)] = "TYPE_LINKER_CLICK_SCREEN"),
            (e[(e.TYPE_LINKER_LOCK_POSITION = 26)] =
              "TYPE_LINKER_LOCK_POSITION"),
            (e[(e.TYPE_LINKER_FOLLOW_STRONG_GUIDE = 27)] =
              "TYPE_LINKER_FOLLOW_STRONG_GUIDE"),
            (e[(e.TYPE_LINKER_SHARE_VIDEO_IM = 28)] =
              "TYPE_LINKER_SHARE_VIDEO_IM"),
            (e[(e.TYPE_GUEST_INVITE = 29)] = "TYPE_GUEST_INVITE"),
            (e[(e.TYPE_GUEST_EXIT_CAST_SCREEN = 30)] =
              "TYPE_GUEST_EXIT_CAST_SCREEN"),
            (e[(e.TYPE_LINKER_SWITCH_SCENE = 31)] = "TYPE_LINKER_SWITCH_SCENE"),
            (e[(e.TYPE_LINK_PHASEINFO = 32)] = "TYPE_LINK_PHASEINFO"),
            (e[(e.TYPE_LINKER_CHANGE_PLAY_MODE = 33)] =
              "TYPE_LINKER_CHANGE_PLAY_MODE"),
            (e[(e.TYPE_LOW_BALANCE_FOR_PAID_LINKMIC = 34)] =
              "TYPE_LOW_BALANCE_FOR_PAID_LINKMIC"),
            (e[(e.TYPE_DEGRADE_ALERT = 35)] = "TYPE_DEGRADE_ALERT"),
            (e[(e.TYPE_ENLARGE_GUEST_INVITE = 36)] =
              "TYPE_ENLARGE_GUEST_INVITE"),
            (e[(e.TYPE_ENLARGE_GUEST_REPLY = 37)] = "TYPE_ENLARGE_GUEST_REPLY"),
            (e[(e.TYPE_ENLARGE_GUEST_APPLY = 38)] = "TYPE_ENLARGE_GUEST_APPLY"),
            (e[(e.TYPE_LINK_PREPARE_APPLY = 39)] = "TYPE_LINK_PREPARE_APPLY"),
            (e[(e.TYPE_LINK_CANCEL_PREPARE_APPLY = 40)] =
              "TYPE_LINK_CANCEL_PREPARE_APPLY"),
            (e[(e.TYPE_LINKER_CROSS_ROOM_UPDATE = 41)] =
              "TYPE_LINKER_CROSS_ROOM_UPDATE"),
            (e[(e.TYPE_LINKER_CHANGE_MULTI_PK_TEAM_INFO = 42)] =
              "TYPE_LINKER_CHANGE_MULTI_PK_TEAM_INFO"),
            (e[(e.TYPE_CROSS_ROOM_LINK_INVITE = 43)] =
              "TYPE_CROSS_ROOM_LINK_INVITE"),
            (e[(e.TYPE_CROSS_ROOM_LINK_REPLY = 44)] =
              "TYPE_CROSS_ROOM_LINK_REPLY"),
            (e[(e.TYPE_CROSS_ROOM_LINK_CANCEL_INVITE = 45)] =
              "TYPE_CROSS_ROOM_LINK_CANCEL_INVITE"),
            (e[(e.TYPE_LINK_RESUME_AUDIENCE = 46)] =
              "TYPE_LINK_RESUME_AUDIENCE"),
            (e[(e.TYPE_LINK_BATTLE_CONNECT = 47)] = "TYPE_LINK_BATTLE_CONNECT"),
            (e[(e.TYPE_RESUME_APPLY = 48)] = "TYPE_RESUME_APPLY"),
            (e[(e.TYPE_CROSS_ROOM_RTC_INFO = 49)] = "TYPE_CROSS_ROOM_RTC_INFO"),
            (e[(e.TYPE_ANCHOR_UPDATE_LINKMIC_CONFIG = 50)] =
              "TYPE_ANCHOR_UPDATE_LINKMIC_CONFIG"),
            (e[(e.TYPE_ANCHOR_UPDATE_LAYOUT = 51)] =
              "TYPE_ANCHOR_UPDATE_LAYOUT"),
            (e[(e.TYPE_APPLY_RANK_CHANGE = 52)] = "TYPE_APPLY_RANK_CHANGE"),
            (e[(e.TYPE_CHANGE_MEDIA_INFO = 53)] = "TYPE_CHANGE_MEDIA_INFO"),
            (e[(e.TPYE_LINKER_SYS_KICK_OUT = 101)] =
              "TPYE_LINKER_SYS_KICK_OUT");
        })(a || (a = {})),
        (function (e) {
          (e[(e.UnknownUserType = 0)] = "UnknownUserType"),
            (e[(e.Anchor = 1)] = "Anchor"),
            (e[(e.Guest = 2)] = "Guest"),
            (e[(e.Audience = 3)] = "Audience");
        })(i || (i = {})),
        (function (e) {
          (e[(e.PushType_Normal = 0)] = "PushType_Normal"),
            (e[(e.PushType_Time = 1)] = "PushType_Time");
        })(l || (l = {})),
        (function (e) {
          (e[(e.LinkedListChangeModeUpdateMode_Normal = 0)] =
            "LinkedListChangeModeUpdateMode_Normal"),
            (e[(e.LinkedListChangeModeUpdateMode_ForceUpdate = 1)] =
              "LinkedListChangeModeUpdateMode_ForceUpdate");
        })(c || (c = {}));
    },
    19753: (e, t, n) => {
      var r, o;
      n.d(t, { iM: () => r }),
        (function (e) {
          (e[(e.TYPE_NONE = 0)] = "TYPE_NONE"),
            (e[(e.TYPE_TURNON = 1)] = "TYPE_TURNON"),
            (e[(e.TYPE_PERMIT = 2)] = "TYPE_PERMIT"),
            (e[(e.TYPE_KICKOUTED = 3)] = "TYPE_KICKOUTED"),
            (e[(e.TYPE_FINISH = 4)] = "TYPE_FINISH"),
            (e[(e.TYPE_WAITING_LIST_CHANGED = 5)] =
              "TYPE_WAITING_LIST_CHANGED"),
            (e[(e.TYPE_LINKED_LIST_CHANGED = 6)] = "TYPE_LINKED_LIST_CHANGED"),
            (e[(e.TYPE_ALL_LIST_CHANGED = 7)] = "TYPE_ALL_LIST_CHANGED"),
            (e[(e.TYPE_FAN_TICKET_CHANGED = 8)] = "TYPE_FAN_TICKET_CHANGED"),
            (e[(e.TYPE_RANKING_UPDATE = 9)] = "TYPE_RANKING_UPDATE"),
            (e[(e.TYPE_SILENCE = 10)] = "TYPE_SILENCE"),
            (e[(e.TYPE_UNSILENCE = 11)] = "TYPE_UNSILENCE"),
            (e[(e.TYPE_INVITE = 12)] = "TYPE_INVITE"),
            (e[(e.TYPE_REPLY = 13)] = "TYPE_REPLY"),
            (e[(e.TYPE_AUTO_JOIN = 14)] = "TYPE_AUTO_JOIN"),
            (e[(e.TYPE_AGREE_ADMIN_FIRST_INVITE = 15)] =
              "TYPE_AGREE_ADMIN_FIRST_INVITE"),
            (e[(e.TYPE_SILENCE_PASSIVE = 16)] = "TYPE_SILENCE_PASSIVE"),
            (e[(e.TYPE_SWITCH_SCENE = 17)] = "TYPE_SWITCH_SCENE");
        })(r || (r = {})),
        (function (e) {
          (e[(e.BattleScoreUpdateFromType_DEFAULT = 0)] =
            "BattleScoreUpdateFromType_DEFAULT"),
            (e[(e.BattleScoreUpdateFromType_AUDIENCE_P2P = 1)] =
              "BattleScoreUpdateFromType_AUDIENCE_P2P");
        })(o || (o = {}));
    },
    7733: (e, t, n) => {
      n.d(t, { p: () => r });
      var r = function () {
        return Promise.resolve()
          .then(n.bind(n, 96336))
          .then(function (e) {
            return e.default;
          });
      };
    },
    18506: (e, t, n) => {
      n.d(t, { e: () => l, X: () => c });
      var r = n(92012),
        o = n.n(r),
        a = n(63786),
        i = n(53964),
        l = function (e) {
          for (var t = 0; t < i.g.length; t++) {
            var n = i.g[t];
            if (n === e) return !0;
            if (n.toLocaleLowerCase() === e.toLocaleLowerCase()) return !0;
          }
          return !1;
        },
        c = function (e) {
          var t;
          return o()((t = "".concat((0, a.ZP)().LINK_PREFIX))).call(t, e);
        };
    },
    98479: (e, t, n) => {
      n.d(t, {
        n_: () => A,
        Yr: () => O,
        x_: () => L,
        BU: () => w,
        Js: () => P,
        S6: () => M,
        c3: () => Z,
        us: () => D,
        TG: () => x,
        mL: () => F,
        m8: () => K,
        rp: () => G,
      });
      var r = n(30906),
        o = n(30673),
        a = n(64408),
        i = n(5594),
        l = n.n(i),
        c = n(21805),
        s = n.n(c),
        u = n(94610),
        d = n.n(u),
        m = n(59440),
        v = n.n(m),
        f = n(92637),
        _ = n.n(f),
        E = n(92012),
        p = n.n(E),
        h = n(84578),
        g = n.n(h),
        N = n(62310),
        T = n.n(N),
        I = n(56402),
        y = n.n(I),
        S = n(81099),
        C = n(80054),
        b = n(7733),
        A = function () {
          window.open(
            "https://www.douyin.com/falcon/webcast_openpc/pages/douyin_recharge/index.html"
          );
        },
        O = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return s()((e = [C.o0.CHEAP, C.o0.FREE])).call(e, Number(t.type));
        },
        L = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return s()((e = [C.o0.EXPENSIVE, C.o0.FACE, C.o0.FANS_GIFT])).call(
            e,
            Number(t.type)
          );
        },
        R = function (e) {
          return d()(e).call(e, function (e) {
            return { groupCount: e.group_count, groupText: e.group_text };
          });
        },
        k = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
          return d()(e).call(e, function (e) {
            var t = e.id,
              n = e.name,
              r = e.type,
              o = e.diamond_count,
              a = e.primary_effect_id,
              i = e.is_displayed_on_panel,
              l = e.group_info,
              c = void 0 === l ? [] : l,
              s = e.honor_level;
            return {
              id: t,
              name: n,
              type: r,
              price: o,
              effectId: a,
              onPanel: i,
              groupInfo: R(c),
              honorLevel: s,
              lockStatus: y()(e, "gift_preview_info.lock_status"),
              label: y()(e, "gift_label_icon.url_list.0"),
              icon: y()(e, "icon.url_list.0"),
            };
          });
        },
        w = function (e) {
          return d()(e).call(e, function (e) {
            var t = e.page_name,
              n = void 0 === t ? "" : t,
              r = e.page_type;
            return {
              pageName: n,
              pageType: void 0 === r ? 0 : r,
              giftList: k(e.gifts),
            };
          });
        },
        P = function () {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
          return d()(e).call(e, function (e) {
            var t = e.id,
              n = e.name,
              r = e.md5,
              o = e.resource_type,
              a = e.resource_url,
              i = void 0 === a ? {} : a,
              l = y()(i, "url_list.0");
            return {
              id: t,
              name: n,
              md5: r,
              type: o,
              src: globalThis
                .getFilterXss()
                .filterUrl(l, null, { logType: "js.href/src", reportOnly: !1 }),
            };
          });
        },
        M = function (e) {
          var t = y()(e, "portrait", {}),
            n = t.h,
            r = t.w,
            o = t.videoH,
            a = t.videoW,
            i = t.aFrame,
            l = t.rgbFrame,
            c = t.has_audio,
            s =
              (function (e, t) {
                return 1200 === e && 540 === t
                  ? 900
                  : e >= 2e3 || (e >= 1400 && t >= 1400)
                  ? e / 4
                  : e > 640
                  ? e / 2
                  : e;
              })(Number(n), Number(r)) || 640;
          return {
            height: s,
            width: Number(r) * (s / Number(n)) || 360,
            videoHeight: o,
            videoWidth: a,
            aFrame: i,
            rgbFrame: l,
            muted: !c,
          };
        },
        Z = (function () {
          var e = (0, a.Z)(
            l().mark(function e(t) {
              var r, o, a, i, c, s, u, d, m, f, _, E, p, h, g, N;
              return l().wrap(
                function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (
                          (e.prev = 0),
                          (e.next = 3),
                          n.e(3789).then(n.bind(n, 73789))
                        );
                      case 3:
                        return (
                          (i = e.sent),
                          (c = i.ZipReader),
                          (s = i.HttpReader),
                          (u = i.TextWriter),
                          (d = i.BlobWriter),
                          (m = new c(new s(t, { preventHeadRequest: !0 }))),
                          (e.next = 11),
                          null == m ? void 0 : m.getEntries()
                        );
                      case 11:
                        return (
                          (f = e.sent),
                          (_ = v()(f).call(f, function (e) {
                            return "config.json" === e.filename;
                          })),
                          (e.next = 15),
                          null == _ || null === (r = _.getData) || void 0 === r
                            ? void 0
                            : r.call(_, new u())
                        );
                      case 15:
                        return (
                          (E = e.sent),
                          (p = JSON.parse(E)),
                          (h =
                            null == p ||
                            null === (o = p.portrait) ||
                            void 0 === o
                              ? void 0
                              : o.path),
                          (g = v()(f).call(f, function (e) {
                            return e.filename === h;
                          })),
                          (e.next = 21),
                          null == g || null === (a = g.getData) || void 0 === a
                            ? void 0
                            : a.call(g, new d())
                        );
                      case 21:
                        return (
                          (N = e.sent),
                          e.abrupt("return", { media: N, config: p })
                        );
                      case 25:
                        return (
                          (e.prev = 25),
                          (e.t0 = e.catch(0)),
                          e.abrupt("return", { media: null, config: null })
                        );
                      case 29:
                      case "end":
                        return e.stop();
                    }
                },
                e,
                null,
                [[0, 25]]
              );
            })
          );
          return function (t) {
            return e.apply(this, arguments);
          };
        })(),
        U = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
          return {
            displayKey: y()(t, "key"),
            displayText: y()(t, "defaultPattern") || y()(t, "default_pattern"),
            pieces: d()((e = y()(t, "pieces", []))).call(e, function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return {
                displayText: y()(e, "stringValue") || y()(e, "string_value"),
              };
            }),
          };
        },
        D = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            r = _()(n).call(n, function (e) {
              return e.isSelf;
            }),
            a = _()(n).call(n, function (e) {
              return !e.isSelf;
            }),
            i = function (e, t) {
              return y()(e, "gift.price") > y()(t, "gift.price") ? -1 : 1;
            };
          return p()((e = [])).call(
            e,
            (0, o.Z)(r),
            (0, o.Z)(g()((t = T()(a).call(a, i))).call(t, 0, 500))
          );
        },
        x = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : [],
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : [];
          return _()(
            (e = d()(t).call(t, function (e) {
              var t =
                  (y()(e, "method") === C.ZP.WEBCAST_BINDING_CHAT_MESSAGE
                    ? y()(e, "payload.msg")
                    : y()(e, "payload")) || {},
                a = Number(y()(t, "giftId")),
                i = y()(t, "gift") || {},
                l = y()(t, "user") || {},
                c = y()(t, "trayInfo") || {},
                s = y()(t, "trayDisplayText") || {},
                u =
                  v()(n).call(n, function (e) {
                    return Number(e.id) === Number(a);
                  }) || {},
                d = Number(y()(i, "primaryEffectId")) || u.effectId,
                m =
                  v()(o).call(o, function (e) {
                    return Number(e.id) === Number(d);
                  }) || {},
                f = Number(y()(t, "repeatCount") || y()(t, "comboCount")),
                _ = Number(y()(t, "bannedDisplayEffects"));
              return {
                isSelf: e.isSelf,
                method: e.method,
                user: {
                  id: l.secUid,
                  name: l.nickname,
                  avatar: (0, S.uC)(y()(l, "avatarThumb.urlList.0")),
                },
                gift: {
                  id: a,
                  name: i.name || u.name,
                  price: i.diamondCount || u.price,
                  type: i.type || u.type,
                  icon: (0, S.uC)(y()(i, "image.urlList.0") || u.icon),
                },
                tray: {
                  combo: f,
                  target: f,
                  displayTextConfig: U(s),
                  bgImg: (0, S.uC)(y()(c, "trayBaseImg.urlList.0")),
                  dynamicIcon: (0, S.uC)(y()(c, "trayDynamicImg.urlList.0")),
                  type: Number(y()(c, "trayType")),
                  isNaming: Number(y()(c, "trayType")) === C.ms.NAMING,
                  banned: (_ & C.qn.TRAY) === C.qn.TRAY,
                },
                effect: (0, r.Z)(
                  { id: d, banned: (_ & C.qn.EFFECT) === C.qn.EFFECT },
                  m
                ),
              };
            }))
          ).call(e, function (e) {
            return (
              y()(e, "user.name"),
              y()(e, "gift.name"),
              y()(e, "user.id") &&
                y()(e, "user.name") &&
                y()(e, "gift.id") &&
                y()(e, "gift.name") &&
                y()(e, "tray.combo")
            );
          });
        },
        F = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : [],
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : [],
            a =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : {},
            i =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : 0,
            l = t.gift_id,
            c = y()(t, "gifts.0") || {},
            s = y()(c, "display_text.pieces.0.user_value.user") || a,
            u = c.tray_info || {},
            d = c.tray_display_text || {},
            m =
              v()(n).call(n, function (e) {
                return Number(e.id) === Number(l);
              }) || {},
            f = c.primary_effect_id || m.effectId,
            E =
              v()(o).call(o, function (e) {
                return Number(e.id) === Number(f);
              }) || {},
            p = t.repeat_count || t.combo_count;
          return _()(
            (e = [
              {
                isSelf: !0,
                increasedCount: i,
                user: {
                  id: s.sec_uid,
                  name: s.nickname,
                  avatar: (0, S.uC)(y()(s, "avatar_thumb.url_list.0")),
                },
                gift: {
                  id: l,
                  name: c.name || m.name,
                  price: c.diamond_count || m.price,
                  type: c.type || m.type,
                  icon: (0, S.uC)(y()(c, "image.url_list.0") || m.icon),
                },
                tray: {
                  combo: p,
                  target: p,
                  displayTextConfig: U(d),
                  bgImg: (0, S.uC)(y()(u, "tray_base_img.url_list.0")),
                  dynamicIcon: (0, S.uC)(y()(u, "tray_dynamic_img.url_list.0")),
                  type: Number(y()(u, "tray_type")),
                  isNaming: Number(y()(u, "tray_type")) === C.ms.NAMING,
                },
                effect: (0, r.Z)({ id: f }, E),
              },
            ])
          ).call(e, function (e) {
            return (
              y()(e, "user.id") && y()(e, "gift.id") && y()(e, "tray.combo")
            );
          });
        },
        K = (function () {
          var e = (0, a.Z)(
            l().mark(function e() {
              var t,
                n,
                r,
                o,
                a,
                i = arguments;
              return l().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (r = i.length > 0 && void 0 !== i[0] ? i[0] : ""),
                        (o = i.length > 1 && void 0 !== i[1] ? i[1] : ""),
                        (e.next = 4),
                        (0, b.p)()
                      );
                    case 4:
                      return (
                        (a = e.sent),
                        e.abrupt(
                          "return",
                          a({
                            headerText: r,
                            enterMethod: o,
                            next: "https://".concat(
                              null === (t = window) ||
                                void 0 === t ||
                                null === (n = t.location) ||
                                void 0 === n
                                ? void 0
                                : n.host
                            ),
                            success: function () {
                              var e, t;
                              null === (e = window) ||
                                void 0 === e ||
                                null === (t = e.location) ||
                                void 0 === t ||
                                t.reload();
                            },
                          })
                        )
                      );
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          );
          return function () {
            return e.apply(this, arguments);
          };
        })(),
        G = function (e) {
          var t, n;
          e &&
            (null == e ? void 0 : e.fullscreen) &&
            (null == e ||
              null === (t = e.plugins) ||
              void 0 === t ||
              null === (n = t.fullscreen) ||
              void 0 === n ||
              n.changeFullScreen());
        };
    },
    89406: (e, t, n) => {
      n.d(t, { x: () => a });
      var r = n(85388),
        o = n(7733),
        a = function (e) {
          /iframe/.test(location.pathname)
            ? (0, r.dn)({
                headerText: e.headerText,
                enterMethod: e.enterMethod,
              })
            : (0, o.p)().then(function (t) {
                t(e);
              });
        };
    },
    5480: (e, t, n) => {
      n.d(t, {
        q_: () => y,
        aK: () => S,
        oO: () => C,
        g7: () => b,
        j9: () => A,
        qO: () => O,
        t6: () => L,
        Nx: () => R,
        ay: () => k,
        XE: () => w,
        Rt: () => P,
        bh: () => M,
        EI: () => Z,
        qP: () => U,
      });
      var r = n(30673),
        o = n(30906),
        a = n(84578),
        i = n.n(a),
        l = n(94610),
        c = n.n(l),
        s = n(59440),
        u = n.n(s),
        d = n(92637),
        m = n.n(d),
        v = n(92012),
        f = n.n(v),
        _ = n(21805),
        E = n.n(_),
        p = n(81711),
        h = n.n(p),
        g = n(62310),
        N = n.n(g),
        T = n(70179),
        I = n(81099),
        y = function () {
          var e,
            t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            a =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            l = n.channel_id,
            s = n.ver,
            d = n.anchor_interact_info,
            v = Boolean(null == d ? void 0 : d.layout_type),
            _ = { channelId: l, ver: s, isFocusMode: v },
            E = n.grids || [];
          s === T.TG.DOUBLE && E.length > 1 && (E = i()(E).call(E, 0, 1)),
            a &&
              s === T.TG.DOUBLE &&
              ((e = a.crop_y / a.stride_h), (t = a.crop_h / a.stride_h));
          var p,
            h = c()(E).call(E, function (n) {
              var r = n.uid_str,
                o = n.mute_audio,
                a = n.x,
                i = n.y,
                l = n.w,
                c = n.h;
              return {
                linkmicUid: r,
                muted: Boolean(o),
                x: a,
                y: e || i,
                w: l,
                h: t || c,
              };
            }),
            g = null == d ? void 0 : d.focus_id,
            N = u()(h).call(h, function (e) {
              return e.linkmicUid === g;
            }),
            I = m()(h).call(h, function (e) {
              return e.linkmicUid !== g;
            });
          return v && N
            ? (0, o.Z)(
                (0, o.Z)({}, _),
                {},
                { grids: f()((p = [N])).call(p, (0, r.Z)(I)) }
              )
            : (0, o.Z)((0, o.Z)({}, _), {}, { grids: h });
        },
        S = function (e, t) {
          var n,
            a,
            i = e.ver,
            l = e.isFocusMode,
            s = void 0 !== l && l,
            u = e.grids,
            d = void 0 === u ? [] : u,
            m = null === (n = d[0]) || void 0 === n ? void 0 : n.h,
            v = (null === (a = d[0]) || void 0 === a ? void 0 : a.y) || 0,
            _ = i === T.TG.MULTI && 4 === d.length,
            E = 1;
          if (!d.length) return [];
          E = _ && !s ? 1 / (2 * m) : 1 / m;
          var p = c()(d).call(d, function (e) {
            var t = e.linkmicUid,
              n = e.muted,
              r = e.w,
              o = e.h,
              a = e.x,
              i = e.y;
            return {
              uid: "",
              linkmicUid: t,
              muted: n,
              width: r,
              height: o * E,
              left: a,
              top: _ && !s ? Math.min((i - v) * E, 0.5) : (i - v) * E,
            };
          });
          if (i === T.TG.DOUBLE) {
            var h,
              g = (0, o.Z)(
                (0, o.Z)({}, p[0]),
                {},
                { uid: t, linkmicUid: "", muted: !1, left: 0 }
              );
            return f()((h = [g])).call(h, (0, r.Z)(p));
          }
          return p;
        },
        C = function (e, t) {
          var n,
            r = t.clientW,
            o = void 0 === r ? 0 : r,
            a = t.clientH,
            i = void 0 === a ? 0 : a,
            l = t.videoW,
            c = void 0 === l ? 0 : l,
            s = t.videoH,
            u = void 0 === s ? 0 : s,
            d = e.ver,
            m = e.isFocusMode,
            v = void 0 !== m && m,
            f = e.grids,
            _ = void 0 === f ? [] : f,
            E = null === (n = _[0]) || void 0 === n ? void 0 : n.h,
            p =
              ((i / u) *
                c *
                (d === T.TG.MULTI && 4 === _.length && !v
                  ? 1 / (2 * E)
                  : 1 / E)) /
              o;
          return Math.min(p, 1);
        },
        b = function (e) {
          var t = e.serverNowTime,
            n = void 0 === t ? 0 : t,
            r = e.pkStartTime,
            o = void 0 === r ? 0 : r,
            a = e.pkDuration,
            i = void 0 === a ? 0 : a,
            l = e.punishStartTime;
          return 0 !== (void 0 === l ? 0 : l) || n - o > i;
        },
        A = function (e) {
          var t = e.serverNowTime,
            n = void 0 === t ? 0 : t,
            r = e.pkStartTime,
            o = void 0 === r ? 0 : r,
            a = e.pkDuration,
            i = void 0 === a ? 0 : a,
            l = e.punishStartTime,
            c = void 0 === l ? 0 : l,
            s = e.punishDuration,
            u = void 0 === s ? 0 : s;
          return 0 !== c ? n - c > u : n - o > Number(i) + Number(u);
        },
        O = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n = arguments.length > 1 ? arguments[1] : void 0,
            r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            o = c()(
              (e = m()(t).call(t, function (e) {
                var t = r ? e.multi_pk_team_rank : e.battle_rank;
                return 1 === Number(t);
              }))
            ).call(e, function (e) {
              return e.user_id_str;
            });
          return o.length
            ? E()(o).call(o, n)
              ? T.qY.WIN
              : T.qY.LOSE
            : T.qY.DRAW;
        },
        L = function () {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            t = {};
          return (
            h()(e).call(e, function (e) {
              var n,
                r = c()((n = e.rank_list || [])).call(n, function (e, t) {
                  var n, r;
                  return {
                    rank: Number(t) + 1,
                    uid: e.user_id_str,
                    score: Number(e.score),
                    name: e.nickname,
                    avatar: (0, I.uC)(
                      null === (n = e.avatar_thumb) ||
                        void 0 === n ||
                        null === (r = n.url_list) ||
                        void 0 === r
                        ? void 0
                        : r[0]
                    ),
                  };
                });
              t[e.anchor_id_str] = r;
            }),
            t
          );
        },
        R = function () {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            t = arguments.length > 1 ? arguments[1] : void 0,
            n = c()(e).call(e, function (e, n) {
              var r,
                o,
                a,
                i,
                l,
                c,
                s,
                u,
                d,
                m,
                v,
                f,
                _,
                E,
                p,
                h,
                g = e.user || {};
              return {
                rank: Number(n) + 1,
                score: Number(e.score),
                scoreBlur: e.score_blur_text,
                uid: g.id_str,
                secUid: g.sec_uid,
                name: g.nickname,
                avatar: (0, I.uC)(
                  null === (r = g.avatar_thumb) ||
                    void 0 === r ||
                    null === (o = r.url_list) ||
                    void 0 === o
                    ? void 0
                    : o[0]
                ),
                mysteryMan: g.mystery_man,
                desensitizedNickname: g.desensitized_nickname,
                signature: g.signature,
                isMvp: g.id_str === t,
                followInfo: {
                  followStatus:
                    null === (a = g.follow_info) || void 0 === a
                      ? void 0
                      : a.follow_status,
                  followerCount:
                    null === (i = g.follow_info) || void 0 === i
                      ? void 0
                      : i.follower_count,
                  followingCount:
                    null === (l = g.follow_info) || void 0 === l
                      ? void 0
                      : l.following_count,
                },
                honorLevel: {
                  icon: (0, I.uC)(
                    null === (c = g.pay_grade) ||
                      void 0 === c ||
                      null === (s = c.new_im_icon_with_level) ||
                      void 0 === s ||
                      null === (u = s.url_list) ||
                      void 0 === u
                      ? void 0
                      : u[0]
                  ),
                },
                fansClub: {
                  icon: (0, I.uC)(
                    null === (d = g.fans_club) ||
                      void 0 === d ||
                      null === (m = d.data) ||
                      void 0 === m ||
                      null === (v = m.badge) ||
                      void 0 === v ||
                      null === (f = v.icons) ||
                      void 0 === f ||
                      null === (_ = f[2]) ||
                      void 0 === _ ||
                      null === (E = _.url_list) ||
                      void 0 === E
                      ? void 0
                      : E[0]
                  ),
                  name:
                    null === (p = g.fans_club) ||
                    void 0 === p ||
                    null === (h = p.data) ||
                    void 0 === h
                      ? void 0
                      : h.club_name,
                },
              };
            });
          return n;
        },
        k = function (e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
          return (
            u()(e).call(e, function (e) {
              var n, r;
              return null === (n = e.pkUsers) ||
                void 0 === n ||
                null ===
                  (r = c()(n).call(n, function (e) {
                    return e.uid;
                  })) ||
                void 0 === r
                ? void 0
                : E()(r).call(r, t);
            }) || {}
          );
        },
        w = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n = N()(
              (e = c()(t).call(t, function (e) {
                var t, n, r, o, a;
                return {
                  pkScores: c()(
                    (t =
                      (null === (n = e.payload) || void 0 === n
                        ? void 0
                        : n.userScores) || [])
                  ).call(t, function (e) {
                    return {
                      uid: e.userId,
                      rank: Number(e.battleRank),
                      score: Number(e.score),
                      scoreBlur: e.scoreBlurText,
                      teamRank: Number(e.multiPkTeamRank),
                      teamScore: Number(e.multiPkTeamScore),
                      teamScoreBlur: e.multiPkTeamScoreText,
                    };
                  }),
                  messageType:
                    null === (r = e.payload) || void 0 === r
                      ? void 0
                      : r.messageType,
                  createTime:
                    null === (o = e.payload) ||
                    void 0 === o ||
                    null === (a = o.common) ||
                    void 0 === a
                      ? void 0
                      : a.createTime,
                };
              }))
            ).call(e, function (e, t) {
              return e.createTime > t.createTime ? -1 : 1;
            }),
            r = u()(n).call(n, function (e) {
              return e.messageType === T.aN.QUIT;
            }),
            o = u()(n).call(n, function (e) {
              return e.messageType === T.aN.RESTART;
            });
          return r || o || n[0];
        },
        P = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n = N()(
              (e = c()(t).call(t, function (e) {
                var t,
                  n,
                  r,
                  o,
                  a = {};
                return (
                  h()(
                    (t =
                      (null === (n = e.payload) || void 0 === n
                        ? void 0
                        : n.userArmiesMapMap) || [])
                  ).call(t, function (e) {
                    var t,
                      n,
                      r = e[0],
                      o = c()(
                        (t =
                          (null === (n = e[1]) || void 0 === n
                            ? void 0
                            : n.userArmies) || [])
                      ).call(t, function (e, t) {
                        var n, r;
                        return {
                          rank: Number(t) + 1,
                          uid: e.userId,
                          score: e.score,
                          name: e.nickname,
                          avatar: (0, I.uC)(
                            null === (n = e.avatarThumb) ||
                              void 0 === n ||
                              null === (r = n.urlList) ||
                              void 0 === r
                              ? void 0
                              : r[0]
                          ),
                        };
                      });
                    return (a[r] = o);
                  }),
                  {
                    pkContributorsTopMap: a,
                    createTime:
                      null === (r = e.payload) ||
                      void 0 === r ||
                      null === (o = r.common) ||
                      void 0 === o
                        ? void 0
                        : o.createTime,
                  }
                );
              }))
            ).call(e, function (e, t) {
              return e.createTime > t.createTime ? -1 : 1;
            });
          return n[0];
        },
        M = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n = N()(
              (e = c()(t).call(t, function (e) {
                var t, n;
                return {
                  createTime:
                    null === (t = e.payload) ||
                    void 0 === t ||
                    null === (n = t.common) ||
                    void 0 === n
                      ? void 0
                      : n.createTime,
                };
              }))
            ).call(e, function (e, t) {
              return e.createTime > t.createTime ? -1 : 1;
            });
          return n[0];
        },
        Z = function () {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            n = N()(
              (e = c()(t).call(t, function (e) {
                var t, n, r;
                return {
                  endReason:
                    null === (t = e.payload) || void 0 === t
                      ? void 0
                      : t.endReason,
                  createTime:
                    null === (n = e.payload) ||
                    void 0 === n ||
                    null === (r = n.common) ||
                    void 0 === r
                      ? void 0
                      : r.createTime,
                };
              }))
            ).call(e, function (e, t) {
              return e.createTime > t.createTime ? -1 : 1;
            });
          return n[0];
        },
        U = function (e) {
          var t = e.name,
            n = void 0 === t ? "" : t,
            r = e.metrics,
            o = void 0 === r ? {} : r,
            a = e.categories,
            i = void 0 === a ? {} : a;
          try {
            window.Slardar &&
              window.Slardar("sendEvent", {
                name: n,
                metrics: o,
                categories: i,
              });
          } catch (l) {}
        };
    },
    5615: (e, t, n) => {
      n.d(t, { Y: () => i, I: () => l });
      var r = n(30906),
        o = n(44503),
        a = n(27301),
        i = function (e, t) {
          var n = o.createElement(e, (0, r.Z)({}, t));
          return (0, a.renderToString)(n);
        },
        l = function (e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : { width: 36, height: 36 };
          return i(e, t);
        };
    },
    53696: (e, t, n) => {
      n.d(t, { n: () => y, h: () => S });
      var r = n(19049),
        o = n(95508),
        a = n(53781),
        i = n(65146),
        l = n(37326),
        c = n(75636),
        s = n(94258),
        u = n.n(s),
        d = n(84640),
        m = n.n(d),
        v = n(60260),
        f = n.n(v),
        _ = n(93662),
        E = n.n(_),
        p = n(80051),
        h = n.n(p),
        g = n(22959),
        N = n.n(g),
        T = new (N())(),
        I = new (N())(),
        y = (function () {
          function e(t) {
            var n = this,
              o = t.max,
              s = t.timeWait,
              u = t.runOperation;
            (0, r.Z)(this, e),
              (0, i.Z)(this, "max", 0),
              (0, i.Z)(this, "runList", []),
              (0, i.Z)(this, "runOperation", function (e) {}),
              (0, a.Z)(this, T, {
                writable: !0,
                value: function () {
                  (0, l.Z)(n, I).call(n);
                },
              }),
              (0, a.Z)(this, I, {
                writable: !0,
                value: function () {
                  var e = n.runList;
                  n.runList = [];
                  var t = (null == e ? void 0 : e.length) || 0,
                    r = n.max;
                  if (r <= 0 || t <= r) n.runOperation(e);
                  else
                    for (var o = 0; o < t; o += r) {
                      var a = m()(e, o, o + r);
                      if (null == a || !a.length) break;
                      n.runOperation(a);
                    }
                },
              }),
              (this.max = o || 0);
            var d = s || 300;
            if (!u)
              throw Error(
                "MultiRun runOperation \u6267\u884c\u51fd\u6570\u5fc5\u987b\u8bbe\u7f6e"
              );
            if (!E()(u))
              throw Error(
                "MultiRun runOperation \u6267\u884c\u51fd\u6570\u5fc5\u987b\u4e3a\u51fd\u6570\u5f62\u5f0f"
              );
            (this.runOperation = u),
              (0, c.Z)(
                this,
                T,
                f()(
                  function () {
                    (0, l.Z)(n, I).call(n);
                  },
                  d,
                  { leading: !1, trailing: !0 }
                )
              );
          }
          return (
            (0, o.Z)(e, [
              {
                key: "add",
                value: function (e) {
                  var t = this;
                  return new (h())(function (n, r) {
                    t.runList.push({ param: e, resolve: n, reject: r }),
                      (0, l.Z)(t, T).call(t);
                  });
                },
              },
            ]),
            e
          );
        })(),
        S = function (e, t) {
          u()(e, function (e) {
            var n;
            null == e ||
              null === (n = e.reject) ||
              void 0 === n ||
              n.call(e, t || "error");
          });
        };
    },
    60311: (e, t, n) => {
      n.d(t, {
        RK: () => L,
        Ol: () => C,
        P_: () => k,
        v5: () => P,
        bF: () => b,
        NE: () => A,
        Ox: () => Z,
        et: () => D,
      });
      var r = n(30906),
        o = n(64408),
        a = n(16394),
        i = n.n(a),
        l = n(94258),
        c = n.n(l),
        s = n(5594),
        u = n.n(s),
        d = n(77521),
        m = n.n(d),
        v = n(67827),
        f = n.n(v),
        _ = n(150),
        E = n(97225),
        p = n(90147),
        h = n(18343),
        g = n(53696),
        N = _ || {},
        T = N.COMMON_SEARCH_PARAMS,
        I = (N.DISABLE_SECRET_VIDEO_PARAMS, N.CHANNEL_PC_WEB),
        y = (E || {}).ERROR_CODE;
      "//".concat(p.HOME_DOMAIN);
      function S() {
        return (
          (S = (0, o.Z)(
            u().mark(function e(t) {
              var n,
                o,
                a = arguments;
              return u().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      if (
                        ((n = t.sec_user_ids),
                        a.length > 1 && void 0 !== a[1] ? a[1] : null,
                        n && 0 !== n.length)
                      ) {
                        e.next = 4;
                        break;
                      }
                      return e.abrupt("return", {
                        statusCode: y.ERROR_INVALID_PARAM,
                      });
                    case 4:
                      return (
                        (e.next = 6),
                        (0, h.v_)(
                          "/aweme/v1/web/im/user/info/",
                          (0, r.Z)({}, T),
                          { sec_user_ids: f()(n) }
                        )
                      );
                    case 6:
                      return (o = e.sent), e.abrupt("return", o);
                    case 8:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          S.apply(this, arguments)
        );
      }
      var C,
        b,
        A,
        O = new g.n({
          max: 40,
          timeWait: 100,
          runOperation: function (e) {
            var t = [];
            c()(e, function (e) {
              var n = e.param;
              t.push(n);
            }),
              (function (e) {
                return S.apply(this, arguments);
              })({ sec_user_ids: i()(t) })
                .then(function (t) {
                  var n = null == t ? void 0 : t.data;
                  if (
                    0 === (null == t ? void 0 : t.status_code) &&
                    null != n &&
                    n.length
                  ) {
                    var r = {};
                    c()(n, function (e, t) {
                      var n = null == e ? void 0 : e.sec_uid;
                      n && (r[n] = e);
                    }),
                      c()(e, function (e) {
                        var t,
                          n,
                          o = null == e ? void 0 : e.param;
                        o && r[o]
                          ? null == e ||
                            null === (t = e.resolve) ||
                            void 0 === t ||
                            t.call(e, r[o])
                          : null == e ||
                            null === (n = e.reject) ||
                            void 0 === n ||
                            n.call(e, "error");
                      });
                  } else (0, g.h)(e, "");
                })
                .catch(function (t) {
                  (0, g.h)(e, t);
                });
          },
        });
      function L(e) {
        return R.apply(this, arguments);
      }
      function R() {
        return (R = (0, o.Z)(
          u().mark(function e(t) {
            return u().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return e.abrupt("return", O.add(t));
                  case 1:
                  case "end":
                    return e.stop();
                }
            }, e);
          })
        )).apply(this, arguments);
      }
      function k(e) {
        return w.apply(this, arguments);
      }
      function w() {
        return (
          (w = (0, o.Z)(
            u().mark(function e(t) {
              var n,
                o,
                a = arguments;
              return u().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = a.length > 1 && void 0 !== a[1] ? a[1] : 1),
                        (e.next = 3),
                        (0, h.v_)(
                          "/aweme/v1/web/commit/follow/user/",
                          (0, r.Z)({}, T),
                          { user_id: t, type: n }
                        )
                      );
                    case 3:
                      return (o = e.sent), e.abrupt("return", o);
                    case 5:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          w.apply(this, arguments)
        );
      }
      function P(e) {
        return M.apply(this, arguments);
      }
      function M() {
        return (
          (M = (0, o.Z)(
            u().mark(function e(t) {
              var n,
                o,
                a,
                i,
                l,
                c,
                s,
                d,
                v,
                f = arguments;
              return u().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.count),
                        (o = void 0 === n ? 100 : n),
                        (a = t.max_time),
                        (i = void 0 === a ? m()() : a),
                        (l = t.min_time),
                        (c = void 0 === l ? 0 : l),
                        (s = t.with_fstatus),
                        (d = void 0 === s ? 1 : s),
                        f.length > 1 && void 0 !== f[1] ? f[1] : null,
                        (e.next = 4),
                        (0, h.U2)(
                          "/aweme/v1/web/im/spotlight/relation/",
                          (0, r.Z)(
                            (0, r.Z)({}, T),
                            {},
                            {
                              count: o,
                              max_time: i,
                              min_time: c,
                              with_fstatus: d,
                            }
                          )
                        )
                      );
                    case 4:
                      return (v = e.sent), e.abrupt("return", v);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          M.apply(this, arguments)
        );
      }
      function Z(e, t, n, r) {
        return U.apply(this, arguments);
      }
      function U() {
        return (U = (0, o.Z)(
          u().mark(function e(t, n, o, a) {
            var i;
            return u().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return (
                      (e.next = 2),
                      (0, h.v_)("/aweme/v1/web/user/block/", (0, r.Z)({}, T), {
                        user_id: t,
                        sec_user_id: n,
                        block_type: o,
                        source: a,
                      })
                    );
                  case 2:
                    return (i = e.sent), e.abrupt("return", i);
                  case 4:
                  case "end":
                    return e.stop();
                }
            }, e);
          })
        )).apply(this, arguments);
      }
      function D(e) {
        return x.apply(this, arguments);
      }
      function x() {
        return (x = (0, o.Z)(
          u().mark(function e(t) {
            var n;
            return u().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return (
                      (e.next = 2),
                      (0, h.U2)(
                        "/aweme/v1/web/user/profile/other/",
                        (0, r.Z)(
                          (0, r.Z)({}, T),
                          {},
                          { source: I, sec_user_id: t }
                        ),
                        {},
                        void 0
                      )
                    );
                  case 2:
                    return (n = e.sent), e.abrupt("return", n);
                  case 4:
                  case "end":
                    return e.stop();
                }
            }, e);
          })
        )).apply(this, arguments);
      }
      !(function (e) {
        (e[(e.follow = 1)] = "follow"), (e[(e.unfollow = 0)] = "unfollow");
      })(C || (C = {})),
        (function (e) {
          (e[(e.block = 1)] = "block"), (e[(e.unblock = 0)] = "unblock");
        })(b || (b = {})),
        (function (e) {
          (e[(e.block = 0)] = "block"),
            (e[(e.allowOtherSee = 1)] = "allowOtherSee"),
            (e[(e.unSeeOther = 2)] = "unSeeOther");
        })(A || (A = {}));
    },
    44972: (e, t, n) => {
      n.d(t, { Qk: () => d, Ws: () => v, jZ: () => _, Sn: () => p });
      var r = n(30906),
        o = n(64408),
        a = n(5594),
        i = n.n(a),
        l = (n(94610), n(150)),
        c = n(63090),
        s = n(18343),
        u = l.COMMON_SEARCH_PARAMS;
      function d(e) {
        return m.apply(this, arguments);
      }
      function m() {
        return (
          (m = (0, o.Z)(
            i().mark(function e(t) {
              var n,
                o,
                a,
                l,
                c = arguments;
              return i().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.roomId),
                        (o = t.authorId),
                        (a = c.length > 1 && void 0 !== c[1] ? c[1] : null),
                        (e.next = 4),
                        (0, s.v_)(
                          "/live/promotions/v2/",
                          (0, r.Z)(
                            (0, r.Z)({}, u),
                            {},
                            { room_id: n, use_new_price: 1, author_id: o }
                          ),
                          {},
                          void 0,
                          a
                        )
                      );
                    case 4:
                      return (l = e.sent), e.abrupt("return", l);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          m.apply(this, arguments)
        );
      }
      function v(e) {
        return f.apply(this, arguments);
      }
      function f() {
        return (f = (0, o.Z)(
          i().mark(function e(t) {
            return i().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return e.abrupt(
                      "return",
                      (0, s.U2)(
                        "/aweme/v1/commerce/order/getUserAuth/",
                        (0, r.Z)(
                          (0, r.Z)({}, u),
                          {},
                          { user_id: t, app_id: c.APP_ID }
                        )
                      )
                    );
                  case 1:
                  case "end":
                    return e.stop();
                }
            }, e);
          })
        )).apply(this, arguments);
      }
      function _(e) {
        return E.apply(this, arguments);
      }
      function E() {
        return (E = (0, o.Z)(
          i().mark(function e(t) {
            return i().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return e.abrupt(
                      "return",
                      (0, s.U2)(
                        "/aweme/v1/commerce/order/saveUserAuth/",
                        (0, r.Z)(
                          (0, r.Z)({}, u),
                          {},
                          { user_id: t, app_id: c.APP_ID, auth_flag: 1 }
                        )
                      )
                    );
                  case 1:
                  case "end":
                    return e.stop();
                }
            }, e);
          })
        )).apply(this, arguments);
      }
      function p(e) {
        return h.apply(this, arguments);
      }
      function h() {
        return (
          (h = (0, o.Z)(
            i().mark(function e(t) {
              var n,
                o,
                a,
                l,
                c,
                d,
                m,
                v = arguments;
              return i().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (n = t.roomId),
                        (o = t.authorId),
                        (a = t.liveSceneId),
                        (l = void 0 === a ? 0 : a),
                        (c = t.entranceInfo),
                        (d = v.length > 1 && void 0 !== v[1] ? v[1] : null),
                        (e.next = 4),
                        (0, s.U2)(
                          "/live/promotions/pop/v3/",
                          (0, r.Z)(
                            (0, r.Z)({}, u),
                            {},
                            {
                              room_id: n,
                              author_id: o,
                              live_scene_id: l,
                              entrance_info: c,
                            }
                          ),
                          {},
                          void 0,
                          d
                        )
                      );
                    case 4:
                      return (m = e.sent), e.abrupt("return", m);
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          h.apply(this, arguments)
        );
      }
    },
    9066: (e, t, n) => {
      n.d(t, { uz: () => m, xX: () => f, RV: () => p });
      var r = n(65146),
        o = n(30906),
        a = n(64408),
        i = n(5594),
        l = n.n(i),
        c = (n(94610), n(150)),
        s = n(32842),
        u = n(18343),
        d = c.COMMON_SEARCH_PARAMS;
      function m() {
        return v.apply(this, arguments);
      }
      function v() {
        return (
          (v = (0, a.Z)(
            l().mark(function e() {
              var t,
                n,
                r,
                a = arguments;
              return l().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (t = a.length > 0 && void 0 !== a[0] ? a[0] : null),
                        (e.next = 3),
                        (0, u.U2)(
                          "/aweme/v1/web/appoint/live/list/",
                          (0, o.Z)({}, d),
                          {},
                          void 0,
                          t
                        )
                      );
                    case 3:
                      return (
                        (n = e.sent), (r = (0, s.DI)(n)), e.abrupt("return", r)
                      );
                    case 6:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          v.apply(this, arguments)
        );
      }
      function f(e) {
        return _.apply(this, arguments);
      }
      function _() {
        return (
          (_ = (0, a.Z)(
            l().mark(function e(t) {
              var n,
                a,
                i,
                c,
                s,
                m = arguments;
              return l().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (a = t.appointmentId),
                        (i = t.action),
                        m.length > 1 && void 0 !== m[1] ? m[1] : null,
                        (e.next = 4),
                        (0, u.v_)(
                          "/aweme/v1/web/appoint/write/",
                          {},
                          (0, o.Z)(
                            (0, o.Z)({}, d),
                            {},
                            ((n = {}),
                            (0, r.Z)(n, "appointment_id", a),
                            (0, r.Z)(n, "action", i),
                            n)
                          ),
                          {}
                        )
                      );
                    case 4:
                      return (
                        (c = e.sent),
                        (s = {
                          statusCode: null == c ? void 0 : c.status_code,
                        }),
                        e.abrupt("return", s)
                      );
                    case 7:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          _.apply(this, arguments)
        );
      }
      function E(e) {
        var t = e || {},
          n = t.living_status,
          r = t.status_code;
        return { livingStatus: n, webRid: t.web_rid, statusCode: r };
      }
      function p(e) {
        return h.apply(this, arguments);
      }
      function h() {
        return (
          (h = (0, a.Z)(
            l().mark(function e(t) {
              var n,
                a,
                i,
                c,
                s,
                m,
                v = arguments;
              return l().wrap(function (e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      return (
                        (a = t.appointmentId),
                        (i = t.roomId),
                        (c = v.length > 1 && void 0 !== v[1] ? v[1] : null),
                        (e.next = 4),
                        (0, u.U2)(
                          "/aweme/v1/web/appoint/living/status/",
                          (0, o.Z)(
                            (0, o.Z)({}, d),
                            {},
                            ((n = {}),
                            (0, r.Z)(n, "appointment_id", a),
                            (0, r.Z)(n, "room_id", i),
                            n)
                          ),
                          {},
                          void 0,
                          c
                        )
                      );
                    case 4:
                      return (s = e.sent), (m = E(s)), e.abrupt("return", m);
                    case 7:
                    case "end":
                      return e.stop();
                  }
              }, e);
            })
          )),
          h.apply(this, arguments)
        );
      }
    },
    40324: (e, t, n) => {
      n.d(t, { ZP: () => me });
      var r = n(30906),
        o = n(32781),
        a = n(84578),
        i = n.n(a),
        l = n(92637),
        c = n.n(l),
        s = n(21805),
        u = n.n(s),
        d = n(92012),
        m = n.n(d),
        v = n(59440),
        f = n.n(v),
        _ = n(90823),
        E = n.n(_),
        p = n(88438),
        h = n.n(p),
        g = n(63135),
        N = n.n(g),
        T = n(94610),
        I = n.n(T),
        y = n(44503),
        S = n(79705),
        C = n.n(S),
        b = "string",
        A = "user",
        O = "pref",
        L = "image",
        R = "live_doodle_gift_send_message_to_anchor";
      function k(e) {
        var t = e.displayText,
          n = t.pieces,
          r = t.defaultPattern.split(/{(\d:.*?)}/);
        return y.createElement(
          "span",
          {
            className: C()("webcast-chatroom___display-text", {
              "webcast-chatroom___doodle-gift": t.key === R,
            }),
          },
          I()(r).call(r, function (e, r) {
            var a, i, l, c, s, u, d, m, v, f, _, E, p, h, g, N, T, I, S, C;
            if (!/\d:.*?/.test(e))
              return y.createElement("span", { key: r }, e);
            var k = e.split(":"),
              w = (0, o.Z)(k, 2),
              P = w[0];
            switch (w[1]) {
              case A:
                return t.key === R
                  ? y.createElement(
                      "span",
                      { className: "webcast-chatroom___nickname", key: r },
                      null == n ||
                        null === (a = n[P]) ||
                        void 0 === a ||
                        null === (i = a.userValue) ||
                        void 0 === i ||
                        null === (l = i.user) ||
                        void 0 === l
                        ? void 0
                        : l.nickname,
                      "\uff1a"
                    )
                  : y.createElement(
                      "span",
                      { className: "webcast-chatroom___nickname", key: r },
                      null == n ||
                        null === (c = n[P]) ||
                        void 0 === c ||
                        null === (s = c.userValue) ||
                        void 0 === s ||
                        null === (u = s.user) ||
                        void 0 === u
                        ? void 0
                        : u.nickname
                    );
              case L:
                var M =
                    null == n ||
                    null === (d = n[P]) ||
                    void 0 === d ||
                    null === (m = d.imageValue) ||
                    void 0 === m ||
                    null === (v = m.image) ||
                    void 0 === v ||
                    null === (f = v.urlList) ||
                    void 0 === f
                      ? void 0
                      : f[0],
                  Z =
                    null !==
                      (_ =
                        null == n ||
                        null === (E = n[P]) ||
                        void 0 === E ||
                        null === (p = E.imageValue) ||
                        void 0 === p ||
                        null === (h = p.image) ||
                        void 0 === h
                          ? void 0
                          : h.width) && void 0 !== _
                      ? _
                      : 0,
                  U =
                    null !==
                      (g =
                        null == n ||
                        null === (N = n[P]) ||
                        void 0 === N ||
                        null === (T = N.imageValue) ||
                        void 0 === T ||
                        null === (I = T.image) ||
                        void 0 === I
                          ? void 0
                          : I.height) && void 0 !== g
                      ? g
                      : 0;
                return y.createElement(
                  "span",
                  { key: r },
                  M &&
                    y.createElement("img", {
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(M, null, {
                          logType: "js.href/src",
                          reportOnly: !1,
                        }),
                      style: {
                        width: "".concat(Z, "px"),
                        height: "".concat(U, "px"),
                        verticalAlign: "middle",
                      },
                    })
                );
              case b:
                return y.createElement(
                  "span",
                  { key: r },
                  null === (S = n[P]) || void 0 === S ? void 0 : S.stringValue
                );
              case O:
                return y.createElement(
                  "span",
                  { className: "webcast-chatroom___pref-blue", key: r },
                  "\xa0",
                  null === (C = n[P]) || void 0 === C
                    ? void 0
                    : C.defaultPattern,
                  "\xa0"
                );
              default:
                return "";
            }
          })
        );
      }
      const w = function (e) {
        var t = e.content,
          n = e.displayText;
        return y.createElement(
          "div",
          { className: "webcast-chatroom__room-message" },
          N()(t).call(t) ? t : n && y.createElement(k, { displayText: n })
        );
      };
      var P;
      function M(e) {
        var t,
          n = e.user;
        return y.createElement(
          "span",
          { className: "webcast-chatroom___badge" },
          null == n || null === (t = n.badgeImageList) || void 0 === t
            ? void 0
            : I()(t).call(t, function (e, t) {
                var n = e.imageType === P.FANS_CLUB && e.content;
                return y.createElement(
                  "div",
                  { className: "webcast-chatroom___badge-item", key: t },
                  y.createElement("img", {
                    alt: "",
                    src: globalThis
                      .getFilterXss()
                      .filterUrl(e.urlList[0], null, {
                        logType: "js.href/src",
                        reportOnly: !1,
                      }),
                    className: "badge-image",
                    height: 20,
                  }),
                  n &&
                    y.createElement(
                      "span",
                      {
                        className: "webcast-chatroom___fans-club-name",
                        style: { color: e.content.fontColor },
                      },
                      e.content.name
                    )
                );
              })
        );
      }
      !(function (e) {
        (e[(e.ADMIN = 3)] = "ADMIN"),
          (e[(e.HONOR = 1)] = "HONOR"),
          (e[(e.FANS_CLUB = 7)] = "FANS_CLUB");
      })(P || (P = {}));
      var Z = n(67054),
        U = n(69425);
      const D = function (e) {
        var t = e.content,
          n = e.user,
          r = (0, y.useContext)(Z.Z),
          o = r.display,
          a = I()(r);
        return y.createElement(
          "div",
          { className: "webcast-chatroom__chat-message" },
          y.createElement(M, { user: n }),
          y.createElement(
            "span",
            { className: "webcast-chatroom__nickname" },
            n.nickname,
            "\uff1a"
          ),
          y.createElement(
            "span",
            { className: "webcast-chatroom__content" },
            o ? y.createElement(U.Z, { content: t, reflex: a }) : t
          )
        );
      };
      var x;
      !(function (e) {
        (e[(e.ACTION_ENTER = 1)] = "ACTION_ENTER"),
          (e[(e.ACTION_LEAVE = 2)] = "ACTION_LEAVE"),
          (e[(e.ACTION_SET_SILENCE = 3)] = "ACTION_SET_SILENCE"),
          (e[(e.ACTION_CANCEL_SILENCE = 4)] = "ACTION_CANCEL_SILENCE"),
          (e[(e.ACTION_SET_ADMIN = 5)] = "ACTION_SET_ADMIN"),
          (e[(e.ACTION_CANCEL_ADMIN = 6)] = "ACTION_CANCEL_ADMIN"),
          (e[(e.ACTION_KICK_OUT = 7)] = "ACTION_KICK_OUT"),
          (e[(e.ACTION_SHARE = 8)] = "ACTION_SHARE"),
          (e[(e.ACTION_BLOCK = 11)] = "ACTION_BLOCK"),
          (e[(e.ACTION_FOLLOW = 20)] = "ACTION_FOLLOW"),
          (e[(e.ACTION_SEVERE_USER_GUIDE = 20)] = "ACTION_SEVERE_USER_GUIDE");
      })(x || (x = {}));
      const F = function (e) {
        var t = e.user,
          n = e.action,
          r = e.displayText;
        return (
          x.ACTION_ENTER,
          n === x.ACTION_ENTER
            ? y.createElement(
                "div",
                { className: "webcast-chatroom__member-message" },
                y.createElement(M, { user: t }),
                y.createElement(k, { displayText: r })
              )
            : null
        );
      };
      const K = function (e) {
        var t = e.user;
        return y.createElement(
          "div",
          { className: "webcast-chatroom___like-message" },
          y.createElement(M, { user: t }),
          y.createElement(
            "span",
            { className: "webcast-chatroom___nickname" },
            t.nickname,
            " "
          ),
          y.createElement("span", null, "\u4e3a\u4e3b\u64ad\u70b9\u8d5e\u4e86")
        );
      };
      var G;
      !(function (e) {
        (e[(e.FOLLOW_ANCHOR = 1)] = "FOLLOW_ANCHOR"),
          (e[(e.UNFOLLOW_ANCHOR = 2)] = "UNFOLLOW_ANCHOR"),
          (e[(e.SHARE_ROOM = 3)] = "SHARE_ROOM");
      })(G || (G = {}));
      const V = function (e) {
        var t = e.user,
          n = e.action;
        return y.createElement(
          "div",
          { className: "webcast-chatroom___social-message" },
          y.createElement(M, { user: t }),
          y.createElement(
            "span",
            { className: "webcast-chatroom___nickname" },
            t.nickname,
            " "
          ),
          y.createElement(
            "span",
            null,
            (function () {
              switch (n) {
                case G.FOLLOW_ANCHOR:
                  return "\u5173\u6ce8\u4e86\u4e3b\u64ad";
                case G.UNFOLLOW_ANCHOR:
                  return "\u53d6\u6d88\u5173\u6ce8\u4e86\u4e3b\u64ad";
                case G.SHARE_ROOM:
                  return "\u5206\u4eab\u4e86\u672c\u6b21\u76f4\u64ad";
                default:
                  return "";
              }
            })()
          )
        );
      };
      var Y = n(56402),
        B = n.n(Y),
        H = n(57617),
        W = n.n(H),
        j = (n(81711), n(9267)),
        q = n.n(j),
        z = n(56493);
      function Q(e) {
        return e
          ? "string" == typeof e
            ? e
            : "number" == typeof e
            ? "".concat(e)
            : q().fromBits(e.low, e.high, e.unsigned).toString()
          : "";
      }
      var X = function (e) {
          return Q(B()(e, "payload.common.msgId", (0, z.Z)()));
        },
        J = function (e) {
          var t, n;
          return I()(
            (t = c()((n = W()(e))).call(n, function (e) {
              return !!isNaN(Number(e));
            }))
          ).call(t, function (t) {
            return e[t];
          });
        },
        $ = function (e) {
          var t = 0;
          if (document.selection) {
            e.focus();
            var n = document.selection.createRange();
            n.moveStart("character", -e.value.length), (t = n.text.length);
          } else
            (e.selectionStart || 0 === e.selectionStart) &&
              (t =
                "backward" === e.selectionDirection
                  ? e.selectionStart || 0
                  : e.selectionEnd || 0);
          return t;
        },
        ee = function (e, t) {
          if (null !== e)
            if (e.createTextRange) {
              var n = e.createTextRange();
              n.move("character", t), n.select();
            } else
              e.selectionStart
                ? (e.focus(), e.setSelectionRange(t, t))
                : e.focus();
        };
      const te = function (e) {
        var t = e.user,
          n = e.payload,
          r = n.gift;
        return r
          ? y.createElement(
              "div",
              { className: "webcast-chatroom___gift-message" },
              y.createElement(M, { user: t }),
              y.createElement(
                "span",
                { className: "webcast-chatroom___nickname" },
                t.nickname,
                " "
              ),
              y.createElement(
                "span",
                { className: "webcast-chatroom___gift-send" },
                "\u9001\u51fa\xa0"
              ),
              y.createElement(
                "span",
                { className: "webcast-chatroom___gift-name" },
                r.name
              ),
              y.createElement(
                "div",
                { className: "webcast-chatroom___gift-icon" },
                y.createElement("img", {
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(r.image.urlList[0], null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                  alt: "",
                })
              ),
              y.createElement(
                "span",
                { className: "webcast-chatroom___gift-count" },
                "\xd7",
                Number(Q(n.repeatCount)) || 1
              )
            )
          : null;
      };
      var ne;
      !(function (e) {
        (e.ROOM_MESSAGE = "RoomMessage"),
          (e.WEBCAST_ROOM_MESSAGE = "WebcastRoomMessage"),
          (e.WEBCAST_CHAT_MESSAGE = "WebcastChatMessage"),
          (e.WEBCAST_MEMBER_MESSAGE = "WebcastMemberMessage"),
          (e.WEBCAST_LIKE_MESSAGE = "WebcastLikeMessage"),
          (e.WEBCAST_SOCIAL_MESSAGE = "WebcastSocialMessage"),
          (e.WEBCAST_GIFT_MESSAGE = "WebcastGiftMessage"),
          (e.WEBCAST_NOTICE_MESSAGE = "WebcastNoticeMessage"),
          (e.WEBCAST_CONTROL_MESSAGE = "WebcastControlMessage"),
          (e.WEBCAST_VERIFY_MESSAGE = "WebcastVerifyMessage"),
          (e.WEBCAST_ROOM_USER_SEQ_MESSAGE = "WebcastRoomUserSeqMessage"),
          (e.WEBCAST_LINK_MESSAGE = "WebcastLinkMessage");
      })(ne || (ne = {}));
      const re = function (e) {
        var t = e.message,
          n = e.customMessages,
          r = void 0 === n ? {} : n,
          o = e.activity,
          a = void 0 !== o && o,
          i = r.WebcastChatMessage,
          l = r.WebcastMemberMessage,
          c = r.WebcastLikeMessage,
          s = r.WebcastSocialMessage,
          u = r.WebcastGiftMessage;
        return (function (e) {
          switch (e.method) {
            case ne.ROOM_MESSAGE:
            case ne.WEBCAST_ROOM_MESSAGE:
              return y.createElement(w, {
                content: e.payload.content,
                displayText: e.payload.common.displayText,
              });
            case ne.WEBCAST_CHAT_MESSAGE:
              return i
                ? y.createElement(i, { message: e, activity: a })
                : y.createElement(D, {
                    user: e.payload.user,
                    content: e.payload.content,
                  });
            case ne.WEBCAST_MEMBER_MESSAGE:
              return l
                ? y.createElement(l, { message: e })
                : y.createElement(F, {
                    action: Number(e.payload.action),
                    user: e.payload.user,
                    displayText: e.payload.common.displayText,
                  });
            case ne.WEBCAST_LIKE_MESSAGE:
              return c
                ? y.createElement(c, { message: e })
                : y.createElement(K, { user: e.payload.user });
            case ne.WEBCAST_SOCIAL_MESSAGE:
              return s
                ? y.createElement(s, { message: e })
                : y.createElement(V, {
                    user: e.payload.user,
                    action: Number(e.payload.action),
                  });
            case ne.WEBCAST_GIFT_MESSAGE:
              return u
                ? y.createElement(u, { message: e })
                : y.createElement(te, {
                    user: e.payload.user,
                    payload: e.payload,
                  });
            default:
              return null;
          }
        })(t);
      };
      const oe = function (e) {
        var t = e.className,
          n = e.onEmojiClick,
          r = e.style,
          o = (0, y.useContext)(Z.Z).list;
        return y.createElement(
          "div",
          {
            className: C()("webcast-chatroom___emoji", t),
            style: r,
            onClick: function (e) {
              return e.stopPropagation();
            },
          },
          I()(o).call(o, function (e) {
            return e.hide
              ? null
              : y.createElement("img", {
                  onClick: function () {
                    return n && n(e);
                  },
                  draggable: "false",
                  className: "webcast-chatroom___emoji-img",
                  src: globalThis
                    .getFilterXss()
                    .filterUrl(e.url, null, {
                      logType: "js.href/src",
                      reportOnly: !1,
                    }),
                  key: e.display_name,
                  alt: e.display_name,
                });
          })
        );
      };
      const ae = function (e) {
        var t = e.className,
          n = e.count,
          r = e.max,
          o = void 0 === r ? 99 : r,
          a = e.style,
          i = e.onClick;
        return y.createElement(
          "div",
          {
            className: C()("webcast-chatroom___unread-tips", t),
            style: a,
            onClick: i,
          },
          n > o ? "".concat(o, "+") : n,
          " \u6761\u65b0\u6d88\u606f"
        );
      };
      var ie,
        le = n(67382),
        ce = n(65064),
        se = n(12708);
      function ue() {
        return (
          (ue = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t];
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
                }
                return e;
              }),
          ue.apply(this, arguments)
        );
      }
      const de = function (e) {
        return y.createElement(
          "svg",
          ue(
            {
              width: 24,
              height: 24,
              viewBox: "0 0 24 24",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
            },
            e
          ),
          ie ||
            (ie = y.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M17.833 12a5.833 5.833 0 11-11.667 0 5.833 5.833 0 0111.667 0zM12 19.333a7.333 7.333 0 100-14.667 7.333 7.333 0 000 14.667zm-1.334-9c0 .737-.447 1.333-1 1.333-.552 0-1-.596-1-1.333 0-.736.448-1.333 1-1.333.553 0 1 .597 1 1.333zm3.667 1.333c.553 0 1-.596 1-1.333 0-.736-.447-1.333-1-1.333-.552 0-1 .597-1 1.333 0 .737.448 1.333 1 1.333zM12 14.686c-1.105 0-2-.639-2-1.428 0-.789 4-.789 4 0 0 .79-.896 1.429-2 1.429z",
              fill: "currentColor",
            }))
        );
      };
      const me = (0, y.forwardRef)(function (e, t) {
        var n,
          a,
          l,
          s,
          d,
          v = e.title,
          _ = void 0 === v ? "\u804a\u5929\u5ba4" : v,
          p = e.showHeader,
          g = void 0 === p || p,
          T = e.enableChat,
          S = void 0 === T || T,
          b = e.source,
          A = e.updateInterval,
          O = void 0 === A ? 1e3 : A,
          L = e.speed,
          R = void 0 === L ? 5 : L,
          k = e.limitSpeed,
          w = void 0 === k ? 2 : k,
          P = e.placeholder,
          M = e.sendBtnText,
          U = void 0 === M ? "\u53d1\u9001" : M,
          D = e.className,
          x = e.width,
          F = e.style,
          K = e.height,
          V = e.messageContainerStyle,
          Y = e.inputContainerStyle,
          B = e.inputLimit,
          H = e.maxCount,
          W = void 0 === H ? 100 : H,
          j = e.messageMethods,
          q = e.socialActions,
          z = e.bottomMessageMethods,
          Q = e.unreadTipsStyle,
          te = e.unreadTipsMaxCount,
          ie = e.unreadExceedAutoUnlock,
          ue = void 0 === ie ? 100 : ie,
          me = e.emojiConfig,
          ve =
            void 0 === me
              ? { display: !1, input: !1, map: {}, list: [], icon: "" }
              : me,
          fe = e.inputDisabled,
          _e = e.onInputClick,
          Ee = e.onSend,
          pe = e.customMessages,
          he = e.disableInputEnterWrap,
          ge = void 0 !== he && he,
          Ne = e.enableEnterSend,
          Te = void 0 !== Ne && Ne,
          Ie = e.enableAnimation,
          ye = void 0 === Ie || Ie,
          Se = e.autoInputValTrim,
          Ce = void 0 === Se || Se,
          be = e.activity,
          Ae = void 0 !== be && be,
          Oe = e.SendRender,
          Le = e.BeforeInputRender,
          Re = (e.handleFocusInput, e.handleBlurInput),
          ke =
            void 0 === Re
              ? function () {
                  return {};
                }
              : Re,
          we = e.isMediaLive,
          Pe = void 0 !== we && we,
          Me = e.isFixedChat,
          Ze = void 0 !== Me && Me,
          Ue = e.isSpringSkin,
          De = e.onClickTextArea,
          xe = (0, y.useState)(0),
          Fe = (0, o.Z)(xe, 2),
          Ke = Fe[0],
          Ge = Fe[1],
          Ve = (0, y.useState)(0),
          Ye = (0, o.Z)(Ve, 2),
          Be = Ye[0],
          He = Ye[1],
          We = (0, y.useState)(0),
          je = (0, o.Z)(We, 2),
          qe = je[0],
          ze = je[1],
          Qe = (0, y.useState)(!1),
          Xe = (0, o.Z)(Qe, 2),
          Je = Xe[0],
          $e = Xe[1],
          et = (0, y.useState)(!0),
          tt = (0, o.Z)(et, 2)[1],
          nt = (0, y.useState)(""),
          rt = (0, o.Z)(nt, 2),
          ot = rt[0],
          at = rt[1],
          it = (0, y.useRef)(null),
          lt = (0, y.useRef)(null),
          ct = (0, y.useRef)(null),
          st = (0, y.useRef)(null),
          ut = (0, y.useState)(!1),
          dt = (0, o.Z)(ut, 2),
          mt = dt[0],
          vt = dt[1],
          ft = (0, y.useState)([]),
          _t = (0, o.Z)(ft, 2),
          Et = _t[0],
          pt = _t[1],
          ht = (0, y.useState)(),
          gt = (0, o.Z)(ht, 2),
          Nt = gt[0],
          Tt = gt[1],
          It = (0, y.useState)(!0),
          yt = (0, o.Z)(It, 2),
          St = yt[0],
          Ct = yt[1],
          bt = (0, y.useState)(),
          At = (0, o.Z)(bt, 2),
          Ot = At[0],
          Lt = At[1],
          Rt = (0, y.useRef)(),
          kt = (0, y.useRef)(),
          wt = (0, y.useRef)(),
          Pt = (0, y.useRef)(),
          Mt = (0, y.useRef)(!1),
          Zt = (function () {
            var e = (0, y.useState)(1),
              t = (0, o.Z)(e, 2)[1];
            return (0, y.useCallback)(function () {
              t(function (e) {
                return e + 1;
              });
            }, []);
          })(),
          Ut = (0, y.useCallback)(function (e) {
            if ("function" == typeof e)
              return pt(function (t) {
                var n;
                return i()((n = e(t))).call(n, -W);
              });
            pt(i()(e).call(e, -W));
          }, []),
          Dt = (0, y.useMemo)(
            function () {
              return (
                lt.current && lt.current.scrollHeight > lt.current.offsetHeight
              );
            },
            [b]
          ),
          xt = (0, y.useMemo)(
            function () {
              if (!b.length) return [];
              var e = j || J(ne),
                t = q || J(G),
                n = c()(b).call(b, function (t) {
                  return u()(e).call(e, t.method);
                });
              if (
                (u()(e).call(e, ne.WEBCAST_SOCIAL_MESSAGE) &&
                  (n = c()(n).call(n, function (e) {
                    return (
                      e.method !== ne.WEBCAST_SOCIAL_MESSAGE ||
                      u()(t).call(t, Number(e.payload.action))
                    );
                  })),
                z)
              ) {
                var r = null;
                (n = c()(n).call(n, function (e) {
                  var t = u()(z).call(z, e.method);
                  return t && (r = e), !t;
                })),
                  r && Tt(r);
              }
              return n;
            },
            [b, j, q, z]
          );
        (0, y.useEffect)(
          function () {
            if (xt.length) {
              if (!Je) {
                var e = 0,
                  t = O / R,
                  n = O / w,
                  r = O / xt.length > t ? t : n || O / xt.length,
                  o = f()(xt).call(xt, function (e) {
                    return e.isMock;
                  });
                return (
                  o &&
                    Ae &&
                    Ut(function (e) {
                      return m()(e).call(e, [o]);
                    }),
                  Lt(xt.length < R ? 1.5 * r : 0),
                  (Rt.current = E()(function () {
                    (xt[e] === o && Ae) ||
                      (Ut(function (t) {
                        return m()(t).call(t, [xt[e]]);
                      }),
                      ++e >= xt.length && clearInterval(Rt.current));
                  }, r)),
                  function () {
                    clearInterval(Rt.current);
                  }
                );
              }
              Ut(function (e) {
                return m()(e).call(e, xt);
              });
            }
          },
          [xt]
        );
        var Ft = function (e) {
          e && (e.scrollTop = e.scrollHeight);
        };
        (0, y.useEffect)(
          function () {
            return (
              (kt.current = h()(function () {
                var e;
                Je ||
                  ((ct.current.style.height = "".concat(
                    null === (e = st.current) || void 0 === e
                      ? void 0
                      : e.getBoundingClientRect().height,
                    "px"
                  )),
                  Ft(lt.current));
              }, 20)),
              function () {
                clearTimeout(kt.current);
              }
            );
          },
          [Je, Et, Ke]
        );
        var Kt = (0, y.useCallback)(
          function (e) {
            var t =
              e.target.scrollTop >
              e.target.scrollHeight - e.target.offsetHeight - 20;
            tt(function (e) {
              return (
                e && !t
                  ? (ze(Be),
                    $e(function (e) {
                      return (
                        e ||
                          (clearInterval(Rt.current), clearTimeout(kt.current)),
                        !0
                      );
                    }))
                  : !e && t && ($e(!1), ze(Et.length)),
                t
              );
            });
          },
          [Et, Be]
        );
        (0, y.useEffect)(
          function () {
            Je || (Ge(Et.length > W ? Et.length - W : 0), ze(Et.length)),
              He(Et.length);
          },
          [Et.length, Je]
        ),
          (0, y.useEffect)(
            function () {
              Be - qe > ue && Ft(lt.current);
            },
            [Be, qe]
          ),
          (0, y.useEffect)(
            function () {
              Ct(function (e) {
                return !e;
              });
            },
            [Nt]
          ),
          (0, y.useEffect)(
            function () {
              if (wt.current) {
                var e = !1,
                  t = function () {
                    var t;
                    if (!e) {
                      e = !0;
                      var n = window
                        .getComputedStyle(wt.current)
                        .getPropertyValue("height");
                      n !== Pt.current
                        ? ((Pt.current = n),
                          (ct.current.style.height = "".concat(
                            null === (t = st.current) || void 0 === t
                              ? void 0
                              : t.getBoundingClientRect().height,
                            "px"
                          )),
                          $e(!1),
                          Ft(lt.current),
                          Zt(),
                          (e = !0))
                        : (e = !1);
                    }
                  },
                  n = new MutationObserver(t);
                n.observe(wt.current, {
                  childList: !0,
                  attributes: !0,
                  characterData: !0,
                  subtree: !0,
                });
                try {
                  var r = new ResizeObserver(t);
                  return (
                    r.observe(wt.current),
                    function () {
                      n.disconnect(), r.disconnect();
                    }
                  );
                } catch (o) {
                  return function () {
                    n.disconnect();
                  };
                }
              }
            },
            [wt.current, Zt]
          );
        var Gt = (0, y.useCallback)(
            function (e) {
              if (
                (it.current.focus(), !(B && (ot + e.display_name).length > B))
              ) {
                var t = $(it.current);
                (it.current.value =
                  ot.substring(0, t) + e.display_name + ot.substring(t)),
                  at(it.current.value),
                  ee(it.current, t + e.display_name.length);
              }
            },
            [ot, B]
          ),
          Vt = (0, y.useCallback)(
            function () {
              Ee && ot && Ee(ot);
            },
            [ot, it.current]
          ),
          Yt = (0, y.useCallback)(
            function (e) {
              var t = /\[[^\[\]\n]*?]$/,
                n = $(it.current),
                r = ot.substring(0, n),
                o = t.test(r);
              if ("Backspace" === e.key && o) {
                e.preventDefault(), e.stopPropagation();
                var a = ot.substring(0, n).replace(t, "");
                (it.current.value = a + ot.substring(n)),
                  at(it.current.value),
                  ee(it.current, a.length);
              } else
                "Enter" === e.key &&
                  (ge && e.preventDefault(), Mt.current || (Te && Vt()));
            },
            [ot, it.current]
          ),
          Bt = (0, y.useCallback)(function (e) {
            var t;
            at(Ce ? N()((t = e.target.value)).call(t) : e.target.value);
          }, []);
        (0, y.useImperativeHandle)(t, function () {
          return {
            clear: function () {
              Ut([]), Tt(void 0), clearInterval(Rt.current);
            },
            lock: function () {
              lt.current.scrollTop = lt.current.scrollTop - 30;
            },
            unlock: function () {
              Ft(lt.current);
            },
            inputFocus: function () {
              it.current.focus();
            },
            inputClear: function () {
              at(""), (it.current.value = "");
            },
            delete: function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : [];
              Ut(function (t) {
                return c()(t).call(t, function (t) {
                  return !u()(e).call(e, X(t));
                });
              });
            },
          };
        });
        var Ht = (0, y.useCallback)(function () {
            Mt.current = !0;
          }, []),
          Wt = (0, y.useCallback)(function () {
            Mt.current = !1;
          }, []);
        return y.createElement(
          "div",
          {
            style: (0, r.Z)({ width: x, height: K }, F),
            className: C()(["webcast-chatroom", D]),
            onClick: function () {
              vt(!1);
            },
            ref: wt,
          },
          g &&
            y.createElement(
              "div",
              { className: "webcast-chatroom___header" },
              _
            ),
          y.createElement(
            "div",
            {
              className: "webcast-chatroom___messages",
              style: (0, r.Z)({}, V),
            },
            y.createElement(
              "div",
              { className: "webcast-chatroom___list", ref: lt, onScroll: Kt },
              y.createElement(
                "div",
                { className: "webcast-chatroom___item-offset", ref: ct },
                y.createElement(
                  "div",
                  {
                    className: "webcast-chatroom___items",
                    ref: st,
                    style: {
                      minHeight: "".concat(
                        lt.current &&
                          (null === (n = lt.current) || void 0 === n
                            ? void 0
                            : n.getBoundingClientRect().height) - 1,
                        "px"
                      ),
                      height: Je
                        ? "".concat(
                            null === (a = st.current) || void 0 === a
                              ? void 0
                              : a.getBoundingClientRect().height,
                            "px"
                          )
                        : "auto",
                    },
                  },
                  y.createElement(
                    "div",
                    { style: { flex: 1 } },
                    y.createElement(
                      Z.Z.Provider,
                      { value: ve },
                      Dt && ye
                        ? y.createElement(
                            le.Z,
                            { component: null },
                            I()((l = i()(Et).call(Et, Ke, Be))).call(
                              l,
                              function (e) {
                                return y.createElement(
                                  ce.Z,
                                  {
                                    key: X(e),
                                    timeout: Ot,
                                    classNames: {
                                      enter: "webcast-chatroom___enter",
                                      enterActive:
                                        "webcast-chatroom___enter-active",
                                      enterDone:
                                        "webcast-chatroom___enter-done",
                                    },
                                    "data-id": X(e),
                                  },
                                  y.createElement(
                                    "div",
                                    {
                                      className: "webcast-chatroom___item",
                                      key: X(e),
                                      style: {
                                        transition: Ot
                                          ? "all ".concat(Ot, "ms")
                                          : "",
                                      },
                                    },
                                    y.createElement(re, {
                                      customMessages: pe,
                                      message: e,
                                      activity: Ae,
                                    })
                                  )
                                );
                              }
                            )
                          )
                        : I()((s = i()(Et).call(Et, Ke, Be))).call(
                            s,
                            function (e) {
                              return y.createElement(
                                "div",
                                {
                                  className: "webcast-chatroom___item",
                                  key: X(e),
                                  "data-id": X(e),
                                },
                                y.createElement(re, {
                                  customMessages: pe,
                                  message: e,
                                  activity: Ae,
                                })
                              );
                            }
                          )
                    )
                  ),
                  y.createElement(
                    "div",
                    {
                      className: "webcast-chatroom___bottom-message",
                      style: { backgroundColor: "transparent" },
                    },
                    y.createElement(
                      se.Z,
                      { mode: "out-in" },
                      y.createElement(
                        ce.Z,
                        {
                          key: St ? "out" : "in",
                          addEndListener: function (e, t) {
                            e.addEventListener("transitionend", t, !1);
                          },
                          classNames: "fade",
                          timeout: { exit: 5 },
                        },
                        y.createElement(
                          "div",
                          {
                            style: { backgroundColor: "transparent" },
                            className: "webcast-chatroom___item fade",
                            "data-id": X(Nt),
                          },
                          !Pe &&
                            Nt &&
                            y.createElement(re, {
                              customMessages: pe,
                              message: Nt,
                              activity: Ae,
                            })
                        )
                      )
                    )
                  )
                )
              ),
              y.createElement("div", { id: "webcast-chatroom___anchor" })
            ),
            Je &&
              Be - qe > 0 &&
              y.createElement(ae, {
                className: "webcast-chatroom___unread",
                count: Be - qe,
                max: te,
                style: Q,
                onClick: function () {
                  Ft(lt.current);
                },
              })
          ),
          S &&
            y.createElement(
              "div",
              {
                className: C()("webcast-chatroom___input-container", {
                  spring_skin: Ue,
                }),
                style: Y,
                onClick: _e,
              },
              ve.input &&
                y.createElement(
                  y.Fragment,
                  null,
                  ve.IconRender
                    ? y.createElement(de, {
                        className: "webcast-chatroom___emoji-icon",
                        style: mt ? { color: "rgba(255, 255, 255, 1)" } : null,
                        onClick: function (e) {
                          e.stopPropagation(),
                            _e && _e(),
                            it.current.focus(),
                            fe || vt(!mt);
                        },
                      })
                    : y.createElement("img", {
                        className: "webcast-chatroom___emoji-input",
                        src: globalThis
                          .getFilterXss()
                          .filterUrl(ve.icon, null, {
                            logType: "js.href/src",
                            reportOnly: !1,
                          }),
                        alt: "",
                        onClick: function (e) {
                          e.stopPropagation(),
                            _e && _e(),
                            it.current.focus(),
                            fe || vt(!mt);
                        },
                      }),
                  y.createElement(
                    Z.Z.Provider,
                    { value: ve },
                    y.createElement(oe, {
                      className: C()("webcast-chatroom___emoji-panel", {
                        hidden_emoji: !mt,
                      }),
                      onEmojiClick: Gt,
                    })
                  )
                ),
              Le
                ? y.createElement(Le, {
                    className: "webcast-chatroom___input_before",
                  })
                : null,
              y.createElement("textarea", {
                disabled: fe,
                style: {
                  paddingRight: ve.input ? "24px" : 0,
                  paddingLeft: Le ? "36px" : "8px",
                },
                onClick: function (e) {
                  e.stopPropagation(), null == De || De();
                },
                maxLength: B,
                ref: it,
                onKeyDown: Yt,
                className: "webcast-chatroom___textarea",
                onFocus: function () {},
                onBlur: ke,
                onChange: Bt,
                placeholder: P,
                onCompositionStart: Ht,
                onCompositionEnd: Wt,
              }),
              y.createElement(
                "span",
                { className: "webcast-chatroom___limit" },
                B ? m()((d = "".concat(ot.length, "/"))).call(d, B) : ""
              ),
              !Ze &&
                (Oe
                  ? y.createElement(Oe, {
                      className: "webcast-chatroom___send-icon",
                      onClick: Vt,
                      disabled: !ot,
                      style: { cursor: ot ? "default" : "not-allowed" },
                    })
                  : y.createElement(
                      "button",
                      {
                        type: "button",
                        className: "webcast-chatroom___send-btn",
                        onClick: Vt,
                        style: { cursor: ot ? "default" : "not-allowed" },
                        disabled: !ot,
                      },
                      U
                    ))
            )
        );
      });
    },
    69425: (e, t, n) => {
      n.d(t, { Z: () => i });
      var r = n(94610),
        o = n.n(r),
        a = n(44503);
      const i = function (e) {
        var t = e.content,
          n = e.reflex,
          r = t.split(/(\[.*?])/);
        return a.createElement(
          a.Fragment,
          null,
          o()(r).call(r, function (e, t) {
            return e
              ? n[e]
                ? a.createElement(
                    "div",
                    {
                      className: "webcast-chatroom___content-with-emoji-emoji",
                      key: t,
                    },
                    a.createElement("img", {
                      draggable: "false",
                      src: globalThis
                        .getFilterXss()
                        .filterUrl(n[e], null, {
                          logType: "js.href/src",
                          reportOnly: !1,
                        }),
                      alt: e,
                    })
                  )
                : a.createElement(
                    "span",
                    {
                      className: "webcast-chatroom___content-with-emoji-text",
                      key: t,
                    },
                    e
                  )
              : null;
          })
        );
      };
    },
    67054: (e, t, n) => {
      n.d(t, { Z: () => r });
      const r = n(44503).createContext({
        display: !1,
        input: !1,
        map: {},
        list: [],
        icon: "",
      });
    },
    8952: (e, t, n) => {
      n.d(t, { Z: () => r });
      const r = {
        iframePlayer: "Stnj8BaC",
        liveTitlePlugin: "iT3O8kO9",
        liveTitlePluginContainer: "wIh6TIEk",
        liveAnchorFollowPlugin: "Tygl4lOy",
        liveCommentPlugin: "_5gfP6gl",
        toggle_chatroom: "s0oaRQuA",
      };
    },
    85235: (e, t, n) => {
      n.d(t, { Z: () => r });
      const r = {
        livingPlayer: "qy8tlFCc",
        liveTitlePlugin: "N8814F8S",
        liveTitleImmersivePlugin: "_pl9fPD9",
        liveTitlePluginContainer: "FXukizn_",
        liveAnchorFollowPlugin: "vLn6TrEr",
        liveCommentPlugin: "lU881jN2",
        anchor: "yKZcaOeU",
        avatar: "qUVji_MQ",
        nickname: "Q2CTJ4IK",
        hasGiftBar: "B2J_pzV4",
        toggle_chatroom: "sJYGWzGz",
      };
    },
    91638: (e, t, n) => {
      n.d(t, { Z: () => r });
      const r = { enterRoom: "FqE3q4s5", enterRoomIcon: "eurldalr" };
    },
    7103: (e) => {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEX///9HcExwQjx2AAAAAnRSTlMIAL5KRzAAAABkSURBVBjTpdAxCsAgDAXQLw6OvUE9ikfTo2XvJTyCY8FSS813KdjFLI+EkJCg9RAsKDPjx0A9dRS/HtRIfr2Mzj+tWpjnIesSaKRtZmLf0OicnUItsLoXjm7dG17vTVGtK/98ALlBKCDV0dWrAAAAAElFTkSuQmCC";
    },
    62239: (e) => {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEVHcEwYGBgcaHaWAAAAAnRSTlMACQ9PdZwAAABeSURBVBjTrdAtDoAwDIDRkolJDH43WW9GdrQdBYlEIpaVQD8LCKh5qeivyPfQNwtWXHBHe3RSb9Q0ngzN04Cxu4k8rViU6Sh3Zpypw9ovR2vo60YMtvmaxln5h1fKAVNMI8KnyVPaAAAAAElFTkSuQmCC";
    },
    62182: (e, t, n) => {
      e.exports = n.p + "image/guest_battle_close.f586f649.webp";
    },
    17962: (e) => {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANBAMAAACX52mGAAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAADHRSTlMAslmhFguQKGRON3r0OwKRAAAAN0lEQVQI12Ngb2BgYGCSABKsiROApLM4kGAXdgCSiglAwlEAKGMIlOEWggpxgSSZTIA8hgAGBgC8KgVlGHzbGwAAAABJRU5ErkJggg==";
    },
    64698: (e, t, n) => {
      e.exports = n.p + "image/mystery_man_avatar.ffc4ff50.png";
    },
    57090: (e, t, n) => {
      e.exports = n.p + "image/draw.30580985.webp";
    },
    19256: (e, t, n) => {
      e.exports = n.p + "image/fail.520ab8d8.webp";
    },
    10135: (e, t, n) => {
      e.exports = n.p + "image/prepare.a709c0de.webp";
    },
    50902: (e, t, n) => {
      e.exports = n.p + "image/win.44812705.webp";
    },
    52441: (e) => {
      e.exports = JSON.parse(
        '{"v":"5.6.10","fr":24,"ip":0,"op":24,"w":20,"h":20,"nm":"\u5408\u6210 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u201cUnion_\u590d\u5236\u201d\u8f6e\u5ed3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[9.938,10.5,0],"ix":2},"a":{"a":0,"k":[8.5,9.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.828,0],[0,-0.828],[0,0],[-0.828,0],[0,0.829],[0,0]],"o":[[-0.828,0],[0,0],[0,0.829],[0.828,0],[0,0],[0,-0.828]],"v":[[7,0.594],[5.5,2.094],[5.5,8],[7,9.5],[8.5,8],[8.5,2.094]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":12,"s":[{"i":[[0.828,0],[0,-0.828],[0,0],[-0.828,0],[0,0.829],[0,0]],"o":[[-0.828,0],[0,0],[0,0.829],[0.828,0],[0,0],[0,-0.828]],"v":[[7,-10.422],[5.5,-8.922],[5.5,8],[7,9.5],[8.5,8],[8.5,-8.922]],"c":true}]},{"t":24,"s":[{"i":[[0.828,0],[0,-0.828],[0,0],[-0.828,0],[0,0.829],[0,0]],"o":[[-0.828,0],[0,0],[0,0.829],[0.828,0],[0,0],[0,-0.828]],"v":[[7,0.594],[5.5,2.094],[5.5,8],[7,9.5],[8.5,8],[8.5,2.094]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.828,0],[0,0.829]],"o":[[0,-0.828],[0.828,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-1.5,-2],[0,-3.5],[1.5,-2],[1.5,8],[0,9.5],[-1.5,8]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.828,0],[0,0.829]],"o":[[0,-0.828],[0.828,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-1.5,0.969],[0,-0.531],[1.5,0.969],[1.5,8],[0,9.5],[-1.5,8]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":17,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.828,0],[0,0.829]],"o":[[0,-0.828],[0.828,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-1.5,-8.914],[0,-10.414],[1.5,-8.914],[1.5,8],[0,9.5],[-1.5,8]],"c":true}]},{"t":24,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.828,0],[0,0.829]],"o":[[0,-0.828],[0.828,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-1.5,-2],[0,-3.5],[1.5,-2],[1.5,8],[0,9.5],[-1.5,8]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.829,0],[0,0.829]],"o":[[0,-0.828],[0.829,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-8.5,-8.859],[-7,-10.359],[-5.5,-8.859],[-5.5,8],[-7,9.5],[-8.5,8]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":12,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.829,0],[0,0.829]],"o":[[0,-0.828],[0.829,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-8.5,1.219],[-7,-0.281],[-5.5,1.219],[-5.5,8],[-7,9.5],[-8.5,8]],"c":true}]},{"t":24,"s":[{"i":[[0,0],[-0.829,0],[0,-0.828],[0,0],[0.829,0],[0,0.829]],"o":[[0,-0.828],[0.829,0],[0,0],[0,0.829],[-0.829,0],[0,0]],"v":[[-8.5,-8.859],[-7,-10.359],[-5.5,-8.859],[-5.5,8],[-7,9.5],[-8.5,8]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"\u5408\u5e76\u8def\u5f84 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"mm","mm":4,"nm":"\u5408\u5e76\u8def\u5f84 2","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.5,9.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":62.4,"st":0,"bm":0}],"markers":[]}'
      );
    },
  },
]);
